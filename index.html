<!doctype html><html lang="en"><head><meta charset="utf-8"/><link rel="icon" type="image/png" href="/SrfGroupFE/assets/images/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="theme-color" content="#e2c498"/><meta name="description" content="Web site created using create-react-app"/><link rel="apple-touch-icon" href="/SrfGroupFE/logo192.png"/><link rel="manifest" href="/SrfGroupFE/manifest.json"/><title>SrfGroup</title><style>.input-div{position:relative;width:100px;height:40px;line-height:40px;text-align:center;color:#fff;background:#03a9f4}#files{position:absolute;left:0;top:0;width:100px;height:40px;opacity:0;z-index:10}#preview{width:300px}</style><script defer="defer" src="/SrfGroupFE/static/js/main.ff998f8f.js"></script><link href="/SrfGroupFE/static/css/main.8caf8ad7.css" rel="stylesheet"></head><body><div id="root"></div><div class="input-div">上传图片 <input type="file" id="files"></div><img src="blank.jpg" id="preview"><script>var EXIF={},TiffTags=EXIF.TiffTags={274:"Orientation"};function imageHasData(t){return!!t.exifdata}function getImageData(t,e){if(window.FileReader&&(t instanceof window.Blob||t instanceof window.File)){var n=new FileReader;n.onload=function(n){var r,a;r=n.target.result,a=findEXIFinJPEG(r),t.exifdata=a||{},e&&e.call(t)},n.readAsArrayBuffer(t)}}function findEXIFinJPEG(t){var e=new DataView(t);if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;for(var n=2,r=t.byteLength;n<r;){if(255!=e.getUint8(n))return!1;if(225==e.getUint8(n+1))return readEXIFData(e,n+4,e.getUint16(n+2)-2);n+=2+e.getUint16(n+2)}}function readTags(t,e,n,r,a){var i,g,f=t.getUint16(n,!a),u={};for(g=0;g<f;g++)i=n+12*g+2,u[r[t.getUint16(i,!a)]]=readTagValue(t,i,e,n,a);return u}function readTagValue(t,e,n,r,a){var i,g,f,u,o,c,U=t.getUint16(e+2,!a),s=t.getUint32(e+4,!a),d=t.getUint32(e+8,!a)+n;switch(U){case 1:case 7:if(1==s)return t.getUint8(e+8,!a);for(i=s>4?d:e+8,g=[],u=0;u<s;u++)g[u]=t.getUint8(i+u);return g;case 2:return getStringFromDB(t,i=s>4?d:e+8,s-1);case 3:if(1==s)return t.getUint16(e+8,!a);for(i=s>2?d:e+8,g=[],u=0;u<s;u++)g[u]=t.getUint16(i+2*u,!a);return g;case 4:if(1==s)return t.getUint32(e+8,!a);for(g=[],u=0;u<s;u++)g[u]=t.getUint32(d+4*u,!a);return g;case 5:if(1==s)return o=t.getUint32(d,!a),c=t.getUint32(d+4,!a),(f=new Number(o/c)).numerator=o,f.denominator=c,f;for(g=[],u=0;u<s;u++)o=t.getUint32(d+8*u,!a),c=t.getUint32(d+4+8*u,!a),g[u]=new Number(o/c),g[u].numerator=o,g[u].denominator=c;return g;case 9:if(1==s)return t.getInt32(e+8,!a);for(g=[],u=0;u<s;u++)g[u]=t.getInt32(d+4*u,!a);return g;case 10:if(1==s)return t.getInt32(d,!a)/t.getInt32(d+4,!a);for(g=[],u=0;u<s;u++)g[u]=t.getInt32(d+8*u,!a)/t.getInt32(d+4+8*u,!a);return g}}function getStringFromDB(t,e,r){var a="";for(n=e;n<e+r;n++)a+=String.fromCharCode(t.getUint8(n));return a}function readEXIFData(t,e){if("Exif"!=getStringFromDB(t,e,4))return!1;var n,r=e+6;if(18761==t.getUint16(r))n=!1;else{if(19789!=t.getUint16(r))return!1;n=!0}if(42!=t.getUint16(r+2,!n))return!1;var a=t.getUint32(r+4,!n);return!(a<8)&&readTags(t,r,r+a,TiffTags,n)}EXIF.getData=function(t,e){return!((t instanceof Image||t instanceof HTMLImageElement)&&!t.complete)&&(imageHasData(t)?e&&e.call(t):getImageData(t,e),!0)},EXIF.getTag=function(t,e){if(imageHasData(t))return t.exifdata[e]}</script><script>var ipt=document.getElementById("files"),img=document.getElementById("preview"),Orientation=null;ipt.onchange=function(){var t=ipt.files[0],e=new FileReader,i=new Image;t&&(EXIF.getData(t,(function(){Orientation=EXIF.getTag(this,"Orientation")})),e.onload=function(t){i.src=t.target.result,i.onload=function(){var t=this.width,e=this.height;t>e&&t>750?(t=750,e=Math.ceil(750*this.height/this.width)):t<e&&e>1334&&(t=Math.ceil(1334*this.width/this.height),e=1334);var i=document.createElement("canvas"),a=i.getContext("2d");if(i.width=t,i.height=e,Orientation&&1!=Orientation)switch(Orientation){case 6:i.width=e,i.height=t,a.rotate(Math.PI/2),a.drawImage(this,0,-e,t,e);break;case 3:a.rotate(Math.PI),a.drawImage(this,-t,-e,t,e);break;case 8:i.width=e,i.height=t,a.rotate(3*Math.PI/2),a.drawImage(this,-t,0,t,e)}else a.drawImage(this,0,0,t,e);img.src=i.toDataURL("image/jpeg",1)}},e.readAsDataURL(t))}</script></body></html>