"use strict";(self.webpackChunksrf_group=self.webpackChunksrf_group||[]).push([[12],{32302:function(e,n,t){t.r(n),t.d(n,{DetailsOffer:function(){return Ye},default:function(){return Ge}});var i=t(1413),o=t(29439),l=t(47313),r=t(1084),s=t(29588),a=t(61750),d=t(63830),c=t(57632),u=t(43265),f=t(9019),m=t(3404),v=t(28303),x=t(55476),h=t(61113),p=t(85281),j=t(57829),g=t(73428),Z=t(93405),b=t(48757),y=t(47196),C=t(76600),_=t(72106),k=t(10189),S=t(5400),E=t(56104),O=t(24193),U=t(1065),w=t(47131),D=t(12210),P=t(80509),L=t(14885),N=(t(83151),t(9963),t(49946),t(1374),t(15671)),A=t(43144),R=t(97326),F=t(60136),B=t(29388),I=t(68278),T=(t(49640),t(46417)),M=["//placekitten.com/1500/500","//placekitten.com/4000/3000","//placekitten.com/800/1200","//placekitten.com/1500/1500"],z={images:M,thumbs:["//placekitten.com/4000/3000","https://source.unsplash.com/random","https://source.unsplash.com/random","https://source.unsplash.com/random"],titles:["",(0,T.jsxs)("span",{children:["by\xa0",(0,T.jsx)("a",{className:"creditLink",href:"http://flickr.com/photos/titrans/",children:"quatre mains"}),"\xa0 (",(0,T.jsx)("a",{className:"creditLink",href:"http://creativecommons.org/licenses/by/2.0/",title:"Attribution License",children:"Some rights reserved"}),")"]}),(0,T.jsxs)("span",{children:["by\xa0",(0,T.jsx)("a",{className:"creditLink",href:"http://flickr.com/photos/lachlanrogers/",children:"latch.r"}),"\xa0 (",(0,T.jsx)("a",{className:"creditLink",href:"http://creativecommons.org/licenses/by-sa/2.0/",title:"Attribution-ShareAlike License",children:"Some rights reserved"}),")"]}),(0,T.jsxs)("span",{children:["by\xa0",(0,T.jsx)("a",{className:"creditLink",href:"http://flickr.com/photos/fazen/",children:"fazen"}),"\xa0 (",(0,T.jsx)("a",{className:"creditLink",href:"http://creativecommons.org/licenses/by/2.0/",title:"Attribution License",children:"Some rights reserved"}),")"]})],captions:["Cat in the snow","",(0,T.jsxs)("p",{children:[".. not in the\xa0",(0,T.jsx)("em",{children:"mood"}),"\xa0for games right now",(0,T.jsx)("br",{}),"...",(0,T.jsx)("br",{}),"...",(0,T.jsx)("br",{}),"...",(0,T.jsx)("br",{}),"...",(0,T.jsx)("br",{}),"...",(0,T.jsx)("br",{}),"...",(0,T.jsx)("br",{}),"C'mon. Seriously."]}),""]},W=function(e){(0,F.Z)(t,e);var n=(0,B.Z)(t);function t(e){var i;return(0,N.Z)(this,t),(i=n.call(this,e)).state={index:0,isOpen:!1},i.openLightbox=i.openLightbox.bind((0,R.Z)(i)),i.closeLightbox=i.closeLightbox.bind((0,R.Z)(i)),i.moveNext=i.moveNext.bind((0,R.Z)(i)),i.movePrev=i.movePrev.bind((0,R.Z)(i)),i}return(0,A.Z)(t,[{key:"openLightbox",value:function(){this.setState({isOpen:!0})}},{key:"closeLightbox",value:function(){this.setState({isOpen:!1}),this.props.callbackClose()}},{key:"moveNext",value:function(){this.setState((function(e){return{index:(e.index+1)%M.length}}))}},{key:"movePrev",value:function(){this.setState((function(e){return{index:(e.index+M.length-1)%M.length}}))}},{key:"render",value:function(){var e;return this.props.openLightBox&&(e=(0,T.jsx)(I.Z,{mainSrc:z.images[this.state.index],nextSrc:z.images[(this.state.index+1)%M.length],prevSrc:z.images[(this.state.index+M.length-1)%M.length],mainSrcThumbnail:z.thumbs[this.state.index],nextSrcThumbnail:z.thumbs[(this.state.index+1)%M.length],prevSrcThumbnail:z.thumbs[(this.state.index+M.length-1)%M.length],onCloseRequest:this.closeLightbox,onMovePrevRequest:this.movePrev,onMoveNextRequest:this.moveNext,onImageLoadError:t.onImageLoadError,imageTitle:z.titles[this.state.index],imageCaption:z.captions[this.state.index]})),(0,T.jsx)("div",{children:e})}}],[{key:"onImageLoadError",value:function(){}}]),t}(l.Component);function q(e){var n=l.useState(null),t=(0,o.Z)(n,2),i=t[0],r=t[1],s=l.useState(!1),a=(0,o.Z)(s,2),d=a[0],c=a[1];return e&&e.offerImages&&e.offerImages.length>0?(0,T.jsxs)(j.Z,{children:[(0,T.jsx)(W,{openLightBox:d,callbackClose:function(){c(!1)}}),(0,T.jsxs)(g.Z,{sx:{mb:2},children:[(0,T.jsx)(D.tq,{spaceBetween:10,navigation:!0,pagination:{clickable:!0},thumbs:{swiper:i},zoom:!0,lazy:!0,effect:"fade",loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},className:"mySwiper2",children:e.offerImages.map((function(n,t){return(0,T.jsx)(D.o5,{children:(0,T.jsx)("div",{className:"swiper-zoom-container",children:(0,T.jsx)("img",{src:(0,L.Ce)(e.id,n.path),onClick:function(){return c(!0)}})})},n.id)}))}),(0,T.jsx)(D.tq,{onSwiper:r,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,className:"mySwiper",children:e.offerImages.map((function(n,t){return(0,T.jsx)(D.o5,{children:(0,T.jsx)("img",{src:(0,L.Ce)(e.id,n.path)})},n.id)}))})]})]}):null}P.ZP.use([P.pt,P.xW,P.oM,P.LG,P.W_,P.o3]);var H=t(48310),J=t(67216),V=t(32600),Y=t(48119),Q=t(83213),G=t(19536),$=t(24631),K=t(32703),X=t(51997),ee=t(13827),ne=t(79429),te=t(94469),ie=t(33604),oe=t(96467),le=t(97762),re=t(4117),se=t(28089),ae=se.Ry({content:se.Z_().required("Type Offer is required")}),de=se.Ry({fullName:se.Z_().required("Message is required"),email:se.Z_().email().required("email_is_required"),content:se.Z_().required("Message is required")}),ce=t(18040),ue=t(33381),fe=t(24511),me=t(33532),ve=function(e){var n=(0,l.useState)(!1),t=(0,o.Z)(n,2),i=(t[0],t[1]),r=(0,l.useState)(!1),s=(0,o.Z)(r,2),a=s[0],d=s[1],c=(0,l.useRef)(null);(0,l.useEffect)((function(){var e=c.current;e&&e.scrollHeight>e.clientHeight&&i(!0)}),[e.lines]);var u=function(){d(!a)},f=(e.type,e.text),m=void 0===f?"":f,v=e.readMoreText,x=void 0===v?"More":v,h=e.readLessText,p=void 0===h?"Less":h,j=e.onAction,g=void 0===j?u:j,Z=function(e){return e.replace(/(?:\r\n|\r|\n)/g,"<br />")}(m);return(0,T.jsxs)("span",{className:"rm-container",children:[(0,T.jsx)("span",{ref:c,className:"rm-text-wrapper",children:a?Z:Z.substring(0,me.zb.NBE_WORD_SHOW_MORE_LESS)}),Z.length>me.zb.NBE_WORD_SHOW_MORE_LESS?(0,T.jsx)("span",{className:"rm-action-button-container",children:a?(0,T.jsx)("span",{className:"rm-less-button",onClick:u,children:p}):(0,T.jsx)("span",{className:"rm-more-button",onClick:g,children:x})}):null]})},xe={content:""};function he(e){var n,t=e.offerEntity,i=e.listCommentsByOffer,r=e.account,s=e.isAuthenticated,a=e.loadingListComments,d=e.loadingUpdateEntity,c=e.loadingAddEntity,u=e.parentCallbackAddComment,f=e.parentCallbackDeleteComment,m=e.parentCallbackUpdateComment,v=e.parentCallbackReportComment,x=e.parentCallbackLoadMoreComments,g=e.totalItems,Z=l.useState(-1),b=(0,o.Z)(Z,2),y=b[0],_=b[1],k=l.useState(-1),S=(0,o.Z)(k,2),E=S[0],D=S[1],P=l.useState(!1),N=(0,o.Z)(P,2),A=N[0],R=N[1],F=l.useState(!1),B=(0,o.Z)(F,2),I=B[0],M=B[1],z=l.useState(ce.L),W=(0,o.Z)(z,2),q=W[0],$=W[1],K=(0,fe.$)().t,ne=function(e,n){m(e,n),D(-1)},se=l.useState(!1),ae=(0,o.Z)(se,2),de=ae[0],me=ae[1],xe=function(){me(!1)},he=function(){me(!1),f(y)},ge=function(){D(-1)},Ze=function(){M(!1)},be=function(){M(!1),v(q)};return(0,T.jsxs)(j.Z,{children:[(0,T.jsxs)(H.Z,{sx:{bgcolor:"background.paper",mt:2},children:[(0,T.jsxs)(j.Z,{children:[g>0?(0,T.jsx)(J.ZP,{alignItems:"flex-start",button:!0,onClick:function(){return R(!A)},children:(0,T.jsx)(Q.Z,{children:(0,T.jsx)(h.Z,{variant:"subtitle1",component:"a",color:"text.secondary",sx:{mt:1},children:(0,T.jsxs)("u",{children:[K(A?"comment_offer.hide_comment_details_offer":"comment_offer.show_comment_details_offer"),"(",g,")"]})})})}):null,A?(0,T.jsxs)(j.Z,{children:[i.map((function(e,n){var i,o,a,c,u,f,m,v;return(0,T.jsxs)("div",{children:[(0,T.jsxs)(J.ZP,{alignItems:"flex-start",secondaryAction:(0,T.jsxs)(j.Z,{children:[s&&(null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.id)===r.id?(0,T.jsx)(w.Z,{edge:"end","aria-label":"edit",color:"success",onClick:function(){return n=e.id||-1,void D(n);var n},sx:{mr:.5,display:"block"},children:(0,T.jsx)(ee.Z,{})}):null,!s||(null===t||void 0===t||null===(o=t.user)||void 0===o?void 0:o.id)!==r.id&&(null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.id)!==r.id?null:(0,T.jsx)(w.Z,{edge:"end","aria-label":"delete",color:"error",onClick:function(){return n=e.id||-1,_(n),void me(!0);var n},sx:{display:"block"},children:(0,T.jsx)(X.Z,{})}),s&&(null===e||void 0===e||null===(c=e.user)||void 0===c?void 0:c.id)!==r.id?(0,T.jsx)(w.Z,{edge:"end","aria-label":"report",onClick:function(){return function(e){$(e),M(!0)}(e)},sx:{mr:.5,display:"block"},children:(0,T.jsx)(U.Z,{})}):null]}),children:[(0,T.jsx)(V.Z,{children:(0,T.jsx)(Y.Z,{alt:"Avatar",src:(0,L.Dm)(null===(u=e.user)||void 0===u?void 0:u.id,null===(f=e.user)||void 0===f?void 0:f.imageUrl,null===(m=e.user)||void 0===m?void 0:m.sourceRegister),sx:{border:"1px solid #b9b9b9"},children:null===(v=(0,L.QD)(null===e||void 0===e?void 0:e.user))||void 0===v?void 0:v.charAt(0)})}),(0,T.jsx)(Q.Z,{primary:(0,L.QD)(null===e||void 0===e?void 0:e.user),secondary:(0,T.jsxs)(l.Fragment,{children:[(0,T.jsx)(h.Z,{sx:{display:"block"},component:"span",variant:"body2",color:"text.primary",children:(0,T.jsx)(C.p,{convertDate:e.createdDate})}),E!==e.id?(0,T.jsx)(ve,{lines:2,text:e.content||"",readMoreText:K("details_offer.label_show_more"),readLessText:K("details_offer.label_show_less")}):null]})})]}),E===e.id?(0,T.jsx)(j.Z,{sx:{mr:2,ml:9},children:(0,T.jsx)(je,{parentCallbackUpdateComment:function(n){return ne(n,e.id||-1)},parentCallbackCancelUpdateComment:ge,defaultValueUpdate:e.content,loadingUpdateEntity:d})}):null,(0,T.jsx)(G.Z,{variant:"inset",component:"li"})]},"comment-".concat(n))})),a?(0,T.jsx)(j.Z,{sx:{display:"flex",justifyContent:"center",m:2},children:(0,T.jsx)(p.Z,{color:"inherit"})}):null,g>i.length?(0,T.jsx)(J.ZP,{alignItems:"center",button:!0,onClick:function(){return x()},children:(0,T.jsx)(Q.Z,{children:(0,T.jsx)(h.Z,{variant:"subtitle1",component:"h5",color:"text.secondary",sx:{mt:1,textAlign:"center"},children:(0,T.jsx)("u",{children:K("comment_offer.show_more_comment")})})})}):null]}):null]}),(0,T.jsxs)(J.ZP,{alignItems:"flex-start",children:[(0,T.jsx)(V.Z,{children:(0,T.jsx)(Y.Z,{alt:r.imageUrl,src:(0,L.Dm)(r.id,r.imageUrl,null===r||void 0===r?void 0:r.sourceRegister),sx:{border:"1px solid #b9b9b9"},children:null===(n=(0,L.QD)(r))||void 0===n?void 0:n.charAt(0)})}),(0,T.jsx)(Q.Z,{children:(0,T.jsx)(pe,{parentCallbackAddComment:function(e){u(e)},loadingAddEntity:c})})]})]}),(0,T.jsx)("div",{children:(0,T.jsxs)(te.Z,{open:de,TransitionComponent:ue.P,keepMounted:!0,onClose:xe,"aria-describedby":"alert-dialog-slide-description",children:[(0,T.jsx)(ie.Z,{children:"Confirm delete operation"}),(0,T.jsx)(oe.Z,{children:(0,T.jsx)(le.Z,{id:"alert-dialog-slide-description",children:"Are you sure you want to delete this CommentOffer?"})}),(0,T.jsxs)(re.Z,{children:[(0,T.jsx)(O.Z,{onClick:xe,children:"Cancel"}),(0,T.jsx)(O.Z,{onClick:he,color:"error",children:"Delete"})]})]})}),(0,T.jsx)("div",{children:(0,T.jsxs)(te.Z,{open:I,TransitionComponent:ue.P,keepMounted:!0,onClose:Ze,"aria-describedby":"alert-dialog-slide-description",children:[(0,T.jsx)(ie.Z,{children:"Repoprt comment offer"}),(0,T.jsx)(oe.Z,{children:(0,T.jsx)(le.Z,{id:"alert-dialog-slide-description",children:"Do you want report this comment offer !"})}),(0,T.jsxs)(re.Z,{children:[(0,T.jsx)(O.Z,{onClick:Ze,children:"Cancel"}),(0,T.jsx)(O.Z,{color:"success",onClick:be,children:"Report"})]})]})})]})}function pe(e){var n=e.parentCallbackAddComment,t=e.loadingAddEntity,i=(0,fe.$)().t,o=(0,ne.TA)({initialValues:xe,validationSchema:ae,onSubmit:function(e){n(e.content),o.setFieldValue("content","")}});return(0,T.jsx)(l.Fragment,{children:(0,T.jsxs)("form",{onSubmit:o.handleSubmit,children:[(0,T.jsx)($.Z,{id:"content",name:"content",label:i("comment_offer.label_add_comment"),value:o.values.content,onChange:o.handleChange,multiline:!0,fullWidth:!0,maxRows:4}),(0,T.jsx)(K.Z,{loading:t,variant:"outlined",size:"small",type:"submit",disabled:!o.values.content,sx:{my:1},color:"neutral",children:i("comment_offer.label_comment")})]})})}function je(e){var n=e.parentCallbackUpdateComment,t=e.parentCallbackCancelUpdateComment,i=e.defaultValueUpdate,r=e.loadingUpdateEntity,s=l.useState(i),a=(0,o.Z)(s,2),d=a[0],c=(a[1],(0,ne.TA)({initialValues:xe,validationSchema:ae,onSubmit:function(e){n(e.content)}}));(0,l.useEffect)((function(){c.setFieldValue("content",i)}),[]);return(0,T.jsx)(l.Fragment,{children:(0,T.jsxs)("form",{onSubmit:c.handleSubmit,children:[(0,T.jsx)($.Z,{id:"content",name:"content",label:"Add comment",value:c.values.content,onChange:c.handleChange,multiline:!0,fullWidth:!0,maxRows:4}),(0,T.jsxs)(j.Z,{sx:{my:1},children:[(0,T.jsx)(K.Z,{loading:!1,variant:"outlined",size:"small",type:"button",sx:{mr:1},color:"neutral",onClick:function(){t(d)},children:"Cancel"}),(0,T.jsx)(K.Z,{loading:r,variant:"outlined",size:"small",type:"submit",disabled:!c.values.content,color:"success",children:"Update"})]})]})})}var ge=t(54641),Ze=t(11069),be=t(46845),ye=t(6306),Ce=t(14281),_e=t(65053),ke=t(56199),Se=t(30040),Ee=t(76937),Oe=t(89840),Ue=t(45522),we=t.n(Ue),De=t(64776),Pe=t.n(De),Le=t(27780),Ne=function(e){(0,F.Z)(t,e);var n=(0,B.Z)(t);function t(e){var i;return(0,N.Z)(this,t),(i=n.call(this,e)).state={shareData:{title:"MDN",text:"Learn web development on MDN!",url:"https://developer.mozilla.org"}},i.handleShare=i.handleShare.bind((0,R.Z)(i)),i}return(0,A.Z)(t,[{key:"handleShare",value:function(){try{navigator.share(this.state.shareData).then((function(e){}))}catch(e){alert("Error shared: "+e)}}},{key:"render",value:function(){return(0,L.KB)()===Le.c.MOBILE_BROWSER?(0,T.jsx)(w.Z,{onClick:this.handleShare,children:this.props.children}):(0,T.jsx)(Pe(),{url:this.props.url,quote:"quote",children:this.props.children})}}]),t}(l.Component),Ae=t(51204),Re=t(25169),Fe={fullName:"",email:"",content:""};function Be(e){var n,t,r,s,a,c,u,m,v,p,b,y,C,_,k=e.offerEntity,S=e.parentCallback,U=e.currentUser,D=e.isAuthenticated,P=e.myFavoriteUser,N=e.createConversationCallback,A=e.addSuccessConversation,R=l.useState(),F=(0,o.Z)(R,2),B=F[0],I=F[1],M=l.useState(""),z=(0,o.Z)(M,2),W=z[0],q=z[1],H=l.useState(!1),J=(0,o.Z)(H,2),V=J[0],Q=J[1],G=l.useState(!1),K=(0,o.Z)(G,2),X=K[0],ee=K[1],se=(0,d.k6)(),ae=(0,fe.$)().t,ce=(0,ne.TA)({initialValues:Fe,validationSchema:de,onSubmit:function(e){var n;U.id!==(null===k||void 0===k||null===(n=k.user)||void 0===n?void 0:n.id)&&D&&(I(e),me(e.content))}});l.useEffect((function(){we()(U)||(ce.setFieldValue("fullName",(0,L.QD)(U)),ce.setFieldValue("email",U.email))}),[U]),l.useEffect((function(){A&&ce.resetForm({values:(0,i.Z)((0,i.Z)({},B),{},{content:""})})}),[A]);var me=function(e){var n,t,i={content:e,conversation:{dateCreated:(0,L.uJ)(new Date),senderUser:null,receiverUser:{id:null===k||void 0===k||null===(n=k.user)||void 0===n?void 0:n.id,email:null===k||void 0===k||null===(t=k.user)||void 0===t?void 0:t.email}}};N(i)},ve=l.useState(!1),xe=(0,o.Z)(ve,2),he=xe[0],pe=xe[1],je=function(e){e.stopPropagation(),P||pe(!0)},Ue=function(){pe(!1)},De=function(){var e;pe(!1),S(null===k||void 0===k||null===(e=k.user)||void 0===e?void 0:e.id)},Pe=function(e){setTimeout((function(){se.push(x.H.PROFILE+"/"+e)}),300)},Le=function(){return P?"red":"color: rgba(0, 0, 0, 0.54)"};return(0,T.jsxs)(f.ZP,{item:!0,xs:12,sm:12,children:[(0,T.jsxs)(g.Z,{children:[(0,T.jsx)(h.Z,{paragraph:!0,sx:{m:2},children:ae("details_offer.about_seller")}),(0,T.jsx)(Oe.Z,{onClick:function(){var e;return Pe(null===k||void 0===k||null===(e=k.user)||void 0===e?void 0:e.id)},sx:{display:"block"},children:(0,T.jsx)(ge.Z,{avatar:k?(0,T.jsx)(Y.Z,{"aria-label":"recipe",alt:null===(n=k.user)||void 0===n?void 0:n.imageUrl,src:(0,L.Dm)(null===(t=k.user)||void 0===t?void 0:t.id,null===(r=k.user)||void 0===r?void 0:r.imageUrl,null===(s=k.user)||void 0===s?void 0:s.sourceRegister),sx:{border:"1px solid #b9b9b9"},children:null===(a=(0,L.QD)(null===k||void 0===k?void 0:k.user))||void 0===a?void 0:a.charAt(0)}):null,action:(0,T.jsx)(w.Z,{"aria-label":"settings",sx:{color:Le()},onClick:function(e){return je(e)},disabled:(null===k||void 0===k||null===(c=k.user)||void 0===c?void 0:c.id)===(null===U||void 0===U?void 0:U.id),children:(0,T.jsx)(Ze.Z,{})}),title:(0,T.jsx)(l.Fragment,{children:(0,L.QD)(null===k||void 0===k?void 0:k.user)}),subheader:null===k||void 0===k||null===(u=k.user)||void 0===u?void 0:u.email,onClick:function(){var e;return Pe(null===k||void 0===k||null===(e=k.user)||void 0===e?void 0:e.id)},role:"button"})}),null!==k&&void 0!==k&&null!==(m=k.user)&&void 0!==m&&m.address?(0,T.jsx)(Z.Z,{children:(0,T.jsxs)(h.Z,{variant:"body2",color:"text.secondary",children:[null===k||void 0===k||null===(v=k.user)||void 0===v?void 0:v.address.city,", ",null===k||void 0===k||null===(p=k.user)||void 0===p?void 0:p.address.country]})}):null,(0,T.jsxs)(E.Z,{disableSpacing:!0,sx:{backgroundColor:"rgba(0, 0, 0, 0.74);"},children:[(0,T.jsx)(w.Z,{"aria-label":"add to favorites",sx:{color:Le()},onClick:je,disabled:(null===k||void 0===k||null===(b=k.user)||void 0===b?void 0:b.id)===(null===U||void 0===U?void 0:U.id),children:(0,T.jsx)(Ze.Z,{})}),(0,T.jsx)(Ne,{url:"https://github.com/nygardk/react-share/blob/master/demo/Demo.tsx",children:(0,T.jsx)(j.Z,{sx:{color:"#fff"},children:(0,T.jsx)(be.Z,{})})}),(0,T.jsx)(w.Z,{sx:{marginLeft:"auto",color:"#fff"},onClick:function(){},children:(0,T.jsx)(ye.Z,{})})]}),(0,T.jsxs)(f.ZP,{container:!0,item:!0,sx:{mt:3},children:[(0,T.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,T.jsx)(j.Z,{sx:{"& > :not(style)":{m:1}},children:(0,T.jsxs)("form",{onSubmit:ce.handleSubmit,children:[(0,T.jsx)(h.Z,{paragraph:!0,className:"text-center",children:ae("details_offer.send_message")}),(0,T.jsxs)(j.Z,{sx:{display:"flex",alignItems:"flex-end"},children:[(0,T.jsx)(Ce.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,T.jsx)($.Z,{id:"fullName",name:"fullName",label:ae("common.label_name"),variant:"standard",fullWidth:!0,disabled:!(ce.touched.fullName&&Boolean(ce.errors.fullName)),value:ce.values.fullName,onChange:ce.handleChange,error:ce.touched.fullName&&Boolean(ce.errors.fullName)})]}),(0,T.jsxs)(j.Z,{sx:{display:"flex",alignItems:"flex-end",my:2},children:[(0,T.jsx)(_e.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,T.jsx)($.Z,{id:"email",name:"email",label:ae("common.label_email"),variant:"standard",fullWidth:!0,disabled:!(ce.touched.email&&Boolean(ce.errors.email)),value:ce.values.email,onChange:ce.handleChange,error:ce.touched.email&&Boolean(ce.errors.email)})]}),(0,T.jsxs)(j.Z,{sx:{display:"flex",alignItems:"flex-end"},children:[(0,T.jsx)(ke.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,T.jsx)($.Z,{id:"content",name:"content",label:"Message",variant:"standard",fullWidth:!0,multiline:!0,rows:4,value:ce.values.content,onChange:ce.handleChange,error:ce.touched.content&&Boolean(ce.errors.content)})]}),(0,T.jsx)(j.Z,{sx:{display:"flex",alignItems:"flex-end"},children:(0,T.jsx)(O.Z,{variant:"outlined",size:"small",fullWidth:!0,sx:{mt:2,mb:2},color:"neutral",type:"submit",disabled:U.id===(null===k||void 0===k||null===(y=k.user)||void 0===y?void 0:y.id),children:ae("common.label_send")})})]})})}),(0,T.jsxs)(f.ZP,{item:!0,xs:12,sm:6,sx:{p:2,borderLeft:"1px solid #cfcbcb;"},children:[(0,T.jsx)(h.Z,{paragraph:!0,className:"text-center",children:ae("details_offer.contact_with")}),(0,T.jsx)(O.Z,{variant:"outlined",startIcon:(0,T.jsx)(Se.Z,{}),fullWidth:!0,sx:{mt:3},onClick:function(){return function(){var e,n;null!==k&&void 0!==k&&null!==(e=k.user)&&void 0!==e&&e.linkProfileFacebook?window.open(null===k||void 0===k||null===(n=k.user)||void 0===n?void 0:n.linkProfileFacebook,"_new"):(q(ae("details_offer.message_not_link_profile_facebook_exist")),Q(!0))}()},children:"Facebook"}),(0,T.jsx)(O.Z,{variant:"outlined",startIcon:(0,T.jsx)(Ee.Z,{}),fullWidth:!0,sx:{mt:3},onClick:function(){return ee(!X)},children:X?null===k||void 0===k||null===(C=k.user)||void 0===C?void 0:C.phone:ae("details_offer.show_number")}),(0,T.jsx)("a",{href:"mailto:".concat(null===k||void 0===k||null===(_=k.user)||void 0===_?void 0:_.email),style:{textDecoration:"none"},children:(0,T.jsx)(O.Z,{variant:"outlined",startIcon:(0,T.jsx)(_e.Z,{}),fullWidth:!0,sx:{mt:3},children:ae("details_offer.send_email")})})]})]})]}),(0,T.jsxs)(f.ZP,{container:!0,item:!0,spacing:2,sx:{mt:1},children:[(0,T.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,T.jsx)(g.Z,{onClick:function(){console.log("offerEntity ",k),null!==k&&void 0!==k&&k.address?window.open("https://www.google.com/maps/@35.8235978,10.6309176,15z","_new"):(q(ae("details_offer.not_address_found_itenarary")),Q(!0))},children:(0,T.jsxs)(Z.Z,{children:[(0,T.jsx)(h.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"D\xe9couvrir le quartier"}),(0,T.jsx)("div",{style:{maxHeight:400,marginTop:30},children:(0,T.jsx)("img",{className:"img-fluid",src:"".concat((0,L.K1)("/assets/images/offer/details-offer/desktop-map-neighbourhood.ext.svg")),alt:"desktop-map-neighbourhood"})})]})})}),(0,T.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,T.jsx)(g.Z,{onClick:function(){if(console.log("offerEntity ",k),null!==k&&void 0!==k&&k.address)if(null!==U&&void 0!==U&&U.address){var e,n,t,i;window.open("https://www.google.com/maps/dir/"+(null===U||void 0===U||null===(e=U.address)||void 0===e?void 0:e.lng)+","+(null===U||void 0===U||null===(n=U.address)||void 0===n?void 0:n.lng)+"/"+(null===k||void 0===k||null===(t=k.address)||void 0===t?void 0:t.lng)+","+(null===k||void 0===k||null===(i=k.address)||void 0===i?void 0:i.lng),"_new")}else q(ae("details_offer.miss_address_account")),Q(!0);else q(ae("details_offer.not_address_found_itenarary")),Q(!0)},children:(0,T.jsxs)(Z.Z,{children:[(0,T.jsx)(h.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"D\xe9couvrir le quartier"}),(0,T.jsx)("div",{style:{maxHeight:400,marginTop:30},children:(0,T.jsx)("img",{className:"img-fluid",src:"".concat((0,L.K1)("/assets/images/offer/details-offer/desktop-time-of-travel-address.ext.svg")),alt:"desktop-time-of-travel-address"})})]})})})]}),(0,T.jsx)(f.ZP,{container:!0,item:!0,spacing:2,sx:{mt:1},children:(0,T.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,T.jsx)(Re.Z,{})})}),(0,T.jsx)("div",{children:(0,T.jsxs)(te.Z,{open:he,TransitionComponent:ue.P,keepMounted:!0,onClose:Ue,"aria-describedby":"alert-dialog-slide-description",children:[(0,T.jsx)(ie.Z,{children:ae("details_offer.title_add_favrite_user")}),(0,T.jsx)(oe.Z,{children:(0,T.jsx)(le.Z,{id:"alert-dialog-slide-description",children:ae("details_offer.description_add_favrite_user")})}),(0,T.jsxs)(re.Z,{children:[(0,T.jsx)(O.Z,{onClick:Ue,color:"neutral",children:ae("common.label_cancel")}),(0,T.jsx)(O.Z,{onClick:De,color:"success",children:ae("common.label_favorite")})]})]})}),(0,T.jsx)("div",{children:(0,T.jsx)(Ae.Z,{open:V,autoHideDuration:5e3,onClose:function(){Q(!1)},message:W})})]})}var Ie=t(66582),Te=t(77429),Me=t(64589),ze=t(35044),We=t(12954),qe=t(41872),He=t(98492),Je=t(99956),Ve=t(96351),Ye=function(e){var n,t,r,s,a,D,P,N,A,R,F,B,I,M,z,W,H,J,V,Y,Q,G=l.useState(!1),$=(0,o.Z)(G,2),K=$[0],X=$[1],ee=l.useState(!1),ne=(0,o.Z)(ee,2),se=ne[0],ae=ne[1],de=l.useState(!1),ce=(0,o.Z)(de,2),ve=ce[0],xe=ce[1],pe=l.useState(-1),je=(0,o.Z)(pe,2),ge=je[0],Ze=je[1],Ce=l.useState(!0),_e=(0,o.Z)(Ce,2),ke=_e[0],Se=_e[1],Ee=l.useState("fr"),Oe=(0,o.Z)(Ee,2),Ue=Oe[0],we=Oe[1],De=(0,d.UO)().id,Pe=(0,d.k6)(),Le=(0,fe.$)().t,Ae=e.resetAllFavoriteOfferUser,Re=e.resetCommentOffer,Fe=e.getEntitywithFavorite,Ie=e.updateComment,Te=e.favoriteUserOffer,Me=e.loadingEntityFavoriteUserOffer,We=e.isAuthenticated,Ye=e.getListCommentsByOffer,Qe=e.loadingCommentsByOffer,Ge=e.listCommentsByOffer,$e=e.account,Ke=e.loadingUpdateEntity,Xe=e.addSuccessComment,en=e.updateSuccessComment,nn=e.addSuccessFavoriteUser,tn=e.createEntityFavoriteUser,on=e.loadingAddComment,ln=e.totalItemsCommentsByOffer,rn=e.deleteSuccessComment,sn=e.deleteComment;l.useEffect((function(){Ve.Z.on("languageChanged",(function(e){we(e)})),Ae(),Re()}),[]),l.useEffect((function(){var e;null!==Te&&void 0!==Te&&null!==(e=Te.offer)&&void 0!==e&&e.id||!De||(Fe(De),Ze(0))}),[Te]),l.useEffect((function(){ge>=0&&We&&Ye(Number(De),ge,me.zb.COMMENTS_PER_PAGE,"")}),[ge]),l.useEffect((function(){Te&&Te.offer&&!Me&&setTimeout((function(){X(!0),ae(Te.myFavoriteUser||!1)}),100)}),[Te]),l.useEffect((function(){if(Xe||en||rn){var e;Re();var n=(null===Te||void 0===Te||null===(e=Te.offer)||void 0===e?void 0:e.id)||-1;Ye(n,0,20,"")}}),[Xe,en,rn]),l.useEffect((function(){nn&&ae(!0)}),[nn]);var an=function(){xe(!1)},dn=function(){xe(!1);var n={offer:null===Te||void 0===Te?void 0:Te.offer,user:{}};e.createEntityReportOffer(n)};return(0,T.jsxs)(j.Z,{children:[(0,T.jsx)(c.Z,{in:K,children:(0,T.jsxs)(u.Z,{maxWidth:"xl",className:"details-offer-client",children:[(0,T.jsx)(f.ZP,{container:!0,style:{paddingTop:10},children:(0,T.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,T.jsxs)(m.Z,{"aria-label":"breadcrumb",children:[(0,T.jsx)(v.rU,{color:"inherit",to:x.H.HOME,children:"SRF"}),(0,T.jsx)(v.rU,{color:"inherit",to:x.H.SEARCH,children:Le("common.label_search")}),(0,T.jsx)(h.Z,{color:"text.primary",children:null===Te||void 0===Te||null===(n=Te.offer)||void 0===n?void 0:n.title})]})})}),Me?(0,T.jsx)(j.Z,{sx:{paddingTop:10,textAlign:"center"},children:(0,T.jsx)(p.Z,{color:"inherit"})}):(0,T.jsxs)(f.ZP,{container:!0,style:{paddingTop:50},children:[(0,T.jsxs)(f.ZP,{item:!0,xs:12,sm:6,children:[(0,T.jsx)(q,(0,i.Z)({},null===Te||void 0===Te?void 0:Te.offer)),(0,T.jsxs)(g.Z,{sx:{mb:3},children:[(0,T.jsxs)(Z.Z,{children:[null!==Te&&void 0!==Te&&null!==(t=Te.offer)&&void 0!==t&&t.amount?(0,T.jsxs)(h.Z,{variant:"h4",sx:{textAlign:"center",fontWeight:600},className:"red-color",children:["$ ",null===Te||void 0===Te||null===(r=Te.offer)||void 0===r?void 0:r.amount," DT"]}):null,(0,T.jsxs)(h.Z,{variant:"subtitle2",color:"text.secondary",display:"flex",children:[(0,T.jsx)(y.Z,{fontSize:"small",sx:{mr:.9}}),(null===Te||void 0===Te||null===(s=Te.offer)||void 0===s?void 0:s.typeOffer)===b.dJ.Sell?Le("common.for_sell"):(null===Te||void 0===Te||null===(a=Te.offer)||void 0===a?void 0:a.typeOffer)===b.dJ.Rent?Le("common.for_rent"):(null===Te||void 0===Te||null===(D=Te.offer)||void 0===D?void 0:D.typeOffer)===b.dJ.Find?Le("common.for_find"):null]}),null!==Te&&void 0!==Te&&null!==(P=Te.offer)&&void 0!==P&&P.startDate&&null!==Te&&void 0!==Te&&null!==(N=Te.offer)&&void 0!==N&&N.endDate?(0,T.jsxs)(j.Z,{children:[(0,T.jsxs)(h.Z,{color:"text.secondary",gutterBottom:!0,children:[Le("common.label_start_date"),":\xa0",(0,T.jsx)("strong",{children:(0,T.jsx)(C.p,{convertDate:null===Te||void 0===Te||null===(A=Te.offer)||void 0===A?void 0:A.startDate})})]}),(0,T.jsxs)(h.Z,{color:"text.secondary",gutterBottom:!0,display:"flex",children:[Le("common.label_end_date"),":\xa0",(0,T.jsx)("strong",{children:(0,T.jsx)(C.p,{convertDate:null===Te||void 0===Te||null===(R=Te.offer)||void 0===R?void 0:R.endDate})})]})]}):null,null!==Te&&void 0!==Te&&null!==(F=Te.offer)&&void 0!==F&&F.typePeriodRent?(0,T.jsxs)(h.Z,{color:"text.secondary",gutterBottom:!0,display:"flex",children:[Le("common.label_period"),":\xa0",(0,T.jsxs)("strong",{children:[Le("common.type_periode_rent_"+(null===Te||void 0===Te||null===(B=Te.offer)||void 0===B?void 0:B.typePeriodRent)),"\xa0"]})]}):null,(0,T.jsx)(h.Z,{variant:"h5",component:"div",sx:{mt:2},children:null===Te||void 0===Te||null===(I=Te.offer)||void 0===I?void 0:I.title}),(0,T.jsxs)(h.Z,{sx:{fontSize:"0.8rem",mt:1},color:"text.secondary",display:"flex",children:[(0,T.jsx)(_.Z,{fontSize:"small",sx:{mr:.9}})," ",(0,T.jsx)(C.p,{convertDate:null===Te||void 0===Te||null===(M=Te.offer)||void 0===M?void 0:M.dateCreated})]}),null!==Te&&void 0!==Te&&null!==(z=Te.offer)&&void 0!==z&&z.address?(0,T.jsxs)(h.Z,{sx:{mb:1.8,fontSize:"0.8rem",mt:1},color:"text.secondary",display:"flex",children:[(0,T.jsx)(k.Z,{fontSize:"small",sx:{mr:.9}}),null===Te||void 0===Te||null===(W=Te.offer)||void 0===W||null===(H=W.address)||void 0===H?void 0:H.city,", ",null===Te||void 0===Te||null===(J=Te.offer)||void 0===J||null===(V=J.address)||void 0===V?void 0:V.country]}):null,null!==Te&&void 0!==Te&&null!==(Y=Te.offer)&&void 0!==Y&&Y.category?(0,T.jsxs)(h.Z,{sx:{mb:1.8,fontSize:"0.8rem",mt:1},color:"text.secondary",display:"flex",children:[(0,T.jsx)(S.Z,{fontSize:"small",sx:{mr:.9}}),Le("details_offer.label_category")," ",function(){var e,n,t,i,o,l;return"en"===Ue?(null===Te||void 0===Te||null===(t=Te.offer)||void 0===t||null===(i=t.category)||void 0===i?void 0:i.titleEn)||"":"fr"===Ue?(null===Te||void 0===Te||null===(o=Te.offer)||void 0===o||null===(l=o.category)||void 0===l?void 0:l.titleFr)||"":(null===Te||void 0===Te||null===(e=Te.offer)||void 0===e||null===(n=e.category)||void 0===n?void 0:n.titleAr)||""}()]}):null,(0,T.jsxs)(Je.Z,{sx:{mt:"40px !important"},elevation:0,expanded:ke,onChange:function(){Se(!ke)},children:[(0,T.jsx)(He.Z,{expandIcon:(0,T.jsx)(ye.Z,{sx:{backgroundColor:"yellow",borderRadius:"50%"}}),"aria-controls":"panel1a-content",id:"panel1a-header",className:"bg-brown",children:Le("details_offer.label_details_offer")}),(0,T.jsx)(qe.Z,{children:(0,T.jsx)("div",{dangerouslySetInnerHTML:{__html:(null===Te||void 0===Te||null===(Q=Te.offer)||void 0===Q?void 0:Q.description)||""}})})]})]}),(0,T.jsxs)(E.Z,{disableSpacing:!0,children:[(0,T.jsx)(Ne,{url:"https://github.com/nygardk/react-share/blob/master/demo/Demo.tsx",children:(0,T.jsx)(be.Z,{})}),(0,T.jsx)(w.Z,{sx:{marginLeft:"auto"},onClick:function(){xe(!0)},children:(0,T.jsx)(U.Z,{})})]})]}),We?(0,T.jsx)(j.Z,{sx:{mb:3},children:(0,T.jsx)(he,{offerEntity:null===Te||void 0===Te?void 0:Te.offer,listCommentsByOffer:Ge,account:$e,isAuthenticated:We,loadingListComments:Qe,loadingUpdateEntity:Ke,loadingAddEntity:on,parentCallbackAddComment:function(n){if(n){var t,i,o,l,r,s={createdDate:(0,L.uJ)(new Date),content:n,offer:{id:null===Te||void 0===Te||null===(t=Te.offer)||void 0===t?void 0:t.id,user:{id:null===Te||void 0===Te||null===(i=Te.offer)||void 0===i||null===(o=i.user)||void 0===o?void 0:o.id,email:null===Te||void 0===Te||null===(l=Te.offer)||void 0===l||null===(r=l.user)||void 0===r?void 0:r.email}},user:{}};e.addCommentOffer(s),(0,ze.rJ)(ze.Yt.EventOffer.AddCommentOffer.eventName,ze.Yt.EventOffer.AddCommentOffer.eventCategory,ze.Yt.EventOffer.AddCommentOffer.eventLabel)}},parentCallbackDeleteComment:function(e){sn(e)},parentCallbackUpdateComment:function(e,n){var t=Ge.find((function(e){return e.id===n}));t=(0,i.Z)((0,i.Z)({},t),{},{content:e}),Ie(t),(0,ze.rJ)(ze.Yt.EventOffer.UpdateCommentOffer.eventName,ze.Yt.EventOffer.UpdateCommentOffer.eventCategory,ze.Yt.EventOffer.UpdateCommentOffer.eventLabel)},parentCallbackReportComment:function(n){var t={commentOffer:n,user:{}};e.reportComment(t)},parentCallbackLoadMoreComments:function(){Ze(ge+1)},totalItems:ln})}):null]}),(0,T.jsx)(f.ZP,{container:!0,item:!0,xs:12,sm:6,sx:{pl:{xs:0,sm:4}},spacing:2,children:(0,T.jsx)(Be,{parentCallback:function(e){var n,t;if(We){if((null===Te||void 0===Te||null===(n=Te.offer)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.id)!==(null===$e||void 0===$e?void 0:$e.id)){var i,o,l,r,s={favoriteUser:{id:null===Te||void 0===Te||null===(i=Te.offer)||void 0===i||null===(o=i.user)||void 0===o?void 0:o.id,username:null===Te||void 0===Te||null===(l=Te.offer)||void 0===l||null===(r=l.user)||void 0===r?void 0:r.username},favoriteDate:(0,L.uJ)(new Date)};tn(s)}}else Pe.push(x.H.LOGIN)},offerEntity:null===Te||void 0===Te?void 0:Te.offer,currentUser:$e,isAuthenticated:We,myFavoriteUser:se,createConversationCallback:function(n){e.createConversation(n)},addSuccessConversation:e.addSuccessConversation})})]})]})}),(0,T.jsxs)(te.Z,{open:ve,TransitionComponent:ue.P,keepMounted:!0,onClose:an,"aria-describedby":"alert-dialog-slide-description",children:[(0,T.jsx)(ie.Z,{children:Le("details_offer.title_dialog_report_offer")}),(0,T.jsx)(oe.Z,{children:(0,T.jsx)(le.Z,{id:"alert-dialog-slide-description",children:Le("details_offer.description_dialog_report_offer")})}),(0,T.jsxs)(re.Z,{children:[(0,T.jsx)(O.Z,{onClick:an,color:"neutral",children:Le("common.label_cancel")}),(0,T.jsx)(O.Z,{color:"success",onClick:dn,children:Le("details_offer.label_report")})]})]})]})},Qe={getEntitywithFavorite:a.ZQ,getListCommentsByOffer:s.x5,addCommentOffer:s.Be,createEntityFavoriteUser:Ie.JP,resetAllFavoriteOfferUser:a.mc,resetCommentOffer:s.mc,updateComment:s.i8,deleteComment:s.Ks,createEntityReportOffer:Me.JP,reportComment:Te.JP,createConversation:We.Xw},Ge=(0,r.connect)((function(e){var n=e.user,t=e.offer,i=e.comment,o=e.favoriteUser,l=e.reportOffer,r=e.reportCommentOffer,s=e.conversation;return{isAuthenticated:n.isAuthenticated,account:n.currentUser,loadingEntityFavoriteUserOffer:t.loadingEntityWithFavoriteUser,favoriteUserOffer:t.entityWithFavoriteUser,loadingCommentsByOffer:i.loadingEntitiesByOffer,listCommentsByOffer:i.entitiesByOffer,loadingUpdateEntity:i.loadingUpdateEntity,loadingAddComment:i.loadingAddEntity,addSuccessComment:i.addSuccess,updateSuccessComment:i.updateSuccess,totalItemsCommentsByOffer:i.totalItemsEntitiesByOffer,loadingDeleteComment:i.loadingDeleteEntity,deleteSuccessComment:i.deleteSuccess,loadingEntityFavoriteUser:o.loadingEntity,entityFavoriteUser:o.entity,addSuccessFavoriteUser:o.addSuccess,addSuccessReportOffer:l.reportSuccess,loadingEntityReportOffer:l.loadingReportEntity,addSuccessReportCommentOffer:r.reportSuccess,loadingEntityReportCommentOffer:r.loadingReportEntity,addSuccessConversation:s.addSuccess}}),Qe)(Ye)},25169:function(e,n,t){var i=t(57829),o=t(1084),l=t(24631),r=t(56199),s=t(73428),a=t(93405),d=t(24193),c=t(46417);n.Z=(0,o.connect)((function(e){e.user,e.offer,e.conversation;return{}}),{})((function(e){return(0,c.jsx)(i.Z,{children:(0,c.jsx)(s.Z,{children:(0,c.jsxs)(a.Z,{children:[(0,c.jsxs)(i.Z,{sx:{display:"flex",alignItems:"flex-end"},children:[(0,c.jsx)(r.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,c.jsx)(l.Z,{id:"content",name:"content",label:"Declarer votre probleme",variant:"standard",fullWidth:!0,multiline:!0,rows:4})]}),(0,c.jsx)(i.Z,{sx:{display:"flex",alignItems:"flex-end"},children:(0,c.jsx)(d.Z,{variant:"outlined",size:"small",fullWidth:!0,sx:{mt:2},color:"neutral",type:"submit",children:"Declarer"})})]})})})}))},48757:function(e,n,t){var i,o,l,r;t.d(n,{dJ:function(){return i},b1:function(){return o},DO:function(){return l},iU:function(){return r}}),function(e){e.Sell="SellOffer",e.Rent="RentOffer",e.Find="FindOffer"}(i||(i={})),function(e){e.PerYear="PerYear",e.PerMonth="PerMonth",e.PerDay="PerDay"}(o||(o={})),function(e){e.Carpooling="Carpooling",e.Travels="Travels",e.Transporter="Transporter",e.Job="Job"}(l||(l={})),function(e){e.List="LIST",e.Grid="GRID"}(r||(r={}))},76600:function(e,n,t){t.d(n,{p:function(){return l}});t(47313);var i=t(18466),o=t(46417),l=function(e){return e&&e.convertDate?(0,o.jsx)(i.Z,{date:new Date(e.convertDate),locale:"en-US"}):(0,o.jsx)(o.Fragment,{})}},33381:function(e,n,t){t.d(n,{P:function(){return s}});var i=t(1413),o=t(47313),l=t(50301),r=t(46417),s=o.forwardRef((function(e,n){return(0,r.jsx)(l.Z,(0,i.Z)({direction:"up",ref:n},e))}))}}]);