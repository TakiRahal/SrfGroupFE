"use strict";(self.webpackChunksrf_group=self.webpackChunksrf_group||[]).push([[181],{6462:function(e,n,t){t.r(n),t.d(n,{DetailsOffer:function(){return on},default:function(){return ln}});var i=t(1413),o=t(29439),r=t(72791),l=t(8374),a=t(43858),s=t(89322),d=t(16871),c=t(48980),u=t(26445),f=t(61889),m=t(93517),v=t(43504),x=t(53113),h=t(20890),p=t(13239),g=t(98530),j=t(57621),Z=t(39504),b=t(25467),y=t(55860),C=t(52028),_=t(69212),S=t(46321),k=t(81176),E=t(72363),L=t(24518),P=t(46152),A=t(13400),O=t(52815),w=t(51496),D=t(25901),I=(t(4676),t(85965),t(84432),t(15880),t(15671)),U=t(43144),N=t(97326),B=t(60136),F=t(29388),R=t(46971),T=(t(53983),t(80184)),M=["//placekitten.com/1500/500","//placekitten.com/4000/3000","//placekitten.com/800/1200","//placekitten.com/1500/1500"],z=function(e){(0,B.Z)(t,e);var n=(0,F.Z)(t);function t(e){var i;return(0,I.Z)(this,t),(i=n.call(this,e)).state={index:0,isOpen:!1,listImagesLightBox:{images:i.props.listImages,thumbs:i.props.listImages,titles:i.props.listTitles,captions:[]}},i.openLightbox=i.openLightbox.bind((0,N.Z)(i)),i.closeLightbox=i.closeLightbox.bind((0,N.Z)(i)),i.moveNext=i.moveNext.bind((0,N.Z)(i)),i.movePrev=i.movePrev.bind((0,N.Z)(i)),i}return(0,U.Z)(t,[{key:"openLightbox",value:function(){this.setState({isOpen:!0})}},{key:"closeLightbox",value:function(){this.setState({isOpen:!1}),this.props.callbackClose()}},{key:"moveNext",value:function(){this.setState((function(e){return{index:(e.index+1)%M.length}}))}},{key:"movePrev",value:function(){this.setState((function(e){return{index:(e.index+M.length-1)%M.length}}))}},{key:"render",value:function(){var e;return this.props.openLightBox&&(e=(0,T.jsx)(R.Z,{mainSrc:this.state.listImagesLightBox.images[this.state.index],nextSrc:this.state.listImagesLightBox.images[(this.state.index+1)%M.length],prevSrc:this.state.listImagesLightBox.images[(this.state.index+M.length-1)%M.length],mainSrcThumbnail:this.state.listImagesLightBox.thumbs[this.state.index],nextSrcThumbnail:this.state.listImagesLightBox.thumbs[(this.state.index+1)%M.length],prevSrcThumbnail:this.state.listImagesLightBox.thumbs[(this.state.index+M.length-1)%M.length],onCloseRequest:this.closeLightbox,onMovePrevRequest:this.movePrev,onMoveNextRequest:this.moveNext,onImageLoadError:t.onImageLoadError,imageTitle:this.state.listImagesLightBox.titles[this.state.index],imageCaption:this.state.listImagesLightBox.captions[this.state.index]})),(0,T.jsx)("div",{onContextMenu:function(e){return e.preventDefault()},children:e})}}],[{key:"onImageLoadError",value:function(){}}]),t}(r.Component),q=t(89012),W=t(23968);function V(e){var n=r.useState(null),t=(0,o.Z)(n,2),l=t[0],a=t[1],s=r.useState(!1),d=(0,o.Z)(s,2),c=d[0],u=d[1];return e&&e.offerImages&&e.offerImages.length>0?(0,T.jsxs)(g.Z,{children:[(0,T.jsx)(z,{openLightBox:c,callbackClose:function(){u(!1)},listImages:function(){var n;return null===e||void 0===e||null===(n=e.offerImages)||void 0===n?void 0:n.map((function(n){return(0,D.Ce)(e.id,n.path)}))}(),listTitles:function(){var n;return null===e||void 0===e||null===(n=e.offerImages)||void 0===n?void 0:n.map((function(n){return((null===e||void 0===e?void 0:e.title)||"").toString()}))}(),listCaptions:function(){var n;return null===e||void 0===e||null===(n=e.offerImages)||void 0===n?void 0:n.map((function(n){return((null===e||void 0===e?void 0:e.description)||"").toString()}))}()}),(0,T.jsxs)(j.Z,{sx:{mb:2},children:[(0,T.jsx)(O.tq,{spaceBetween:10,navigation:e.offerImages.length>1,pagination:{clickable:!0},thumbs:{swiper:l},zoom:!0,lazy:!0,effect:"fade",loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},className:"mySwiper2",children:e.offerImages.map((function(n,t){return(0,T.jsx)(O.o5,{children:(0,T.jsx)("div",{className:"swiper-zoom-container",children:(0,T.jsx)(W.wY,{src:(0,D.Ce)(e.id,n.path),alt:"Image swiper",actual:function(e){var n=e.imageProps;return(0,T.jsx)("img",(0,i.Z)((0,i.Z)({},n),{},{className:"full-img-responsive",onClick:function(){return u(!0)},onContextMenu:function(e){return e.preventDefault()}}))},placeholder:function(e){var n=e.ref;return(0,T.jsx)("div",{ref:n})},loading:function(){return(0,T.jsx)("div",{children:(0,T.jsx)("img",{src:(0,D.K1)(q.z.DEFAULT_LAZY_IMAGE_LOADING),className:"img-lazy-loading"})})},error:function(){return(0,T.jsx)("img",{src:(0,D.K1)(q.z.DEFAULT_LAZY_IMAGE),className:"img-lazy-loading",alt:"image not found"})}})})},n.id)}))}),(0,T.jsx)(O.tq,{onSwiper:a,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,className:"mySwiper",children:e.offerImages.map((function(n,t){return(0,T.jsx)(O.o5,{children:(0,T.jsx)(W.wY,{src:(0,D.Ce)(e.id,n.path),alt:"Image swiper",actual:function(e){var n=e.imageProps;return(0,T.jsx)("img",(0,i.Z)((0,i.Z)({},n),{},{className:"full-img-responsive"}))},placeholder:function(e){var n=e.ref;return(0,T.jsx)("div",{ref:n})},loading:function(){return(0,T.jsx)("div",{children:(0,T.jsx)("img",{src:(0,D.K1)(q.z.DEFAULT_LAZY_IMAGE_LOADING),className:"img-lazy-loading"})})},error:function(){return(0,T.jsx)("img",{src:(0,D.K1)(q.z.DEFAULT_LAZY_IMAGE),className:"img-lazy-loading",alt:"image not found"})}})},n.id)}))})]})]}):null}w.ZP.use([w.pt,w.xW,w.oM,w.LG,w.W_,w.o3]);var H=t(90493),J=t(15021),Y=t(20653),Q=t(93044),G=t(49900),K=t(94721),$=t(48550),X=t(39709),ee=t(27247),ne=t(4919),te=t(92506),ie=t(5574),oe=t(65661),re=t(39157),le=t(51691),ae=t(97123),se=t(84516),de=t(65163),ce=t(42192),ue=t(33168),fe=function(e){var n=(0,r.useState)(!1),t=(0,o.Z)(n,2),i=(t[0],t[1]),l=(0,r.useState)(!1),a=(0,o.Z)(l,2),s=a[0],d=a[1],c=(0,r.useRef)(null);(0,r.useEffect)((function(){var e=c.current;e&&e.scrollHeight>e.clientHeight&&i(!0)}),[e.lines]);var u=function(){d(!s)},f=(e.type,e.text),m=void 0===f?"":f,v=e.readMoreText,x=void 0===v?"More":v,h=e.readLessText,p=void 0===h?"Less":h,g=e.onAction,j=void 0===g?u:g,Z=function(e){return e.replace(/(?:\r\n|\r|\n)/g,"<br />")}(m);return(0,T.jsxs)("span",{className:"rm-container",children:[(0,T.jsx)("span",{ref:c,className:"rm-text-wrapper",children:s?Z:Z.substring(0,q.z.NBE_WORD_SHOW_MORE_LESS)}),Z.length>q.z.NBE_WORD_SHOW_MORE_LESS?(0,T.jsx)("span",{className:"rm-action-button-container",children:s?(0,T.jsx)("span",{className:"rm-less-button",onClick:u,children:p}):(0,T.jsx)("span",{className:"rm-more-button",onClick:j,children:x})}):null]})},me=se.Rj;function ve(e){var n,t=e.offerEntity,i=e.listCommentsByOffer,l=e.account,a=e.isAuthenticated,s=e.loadingListComments,d=e.loadingUpdateEntity,c=e.loadingAddEntity,u=e.parentCallbackAddComment,f=e.parentCallbackDeleteComment,m=e.parentCallbackUpdateComment,v=e.parentCallbackReportComment,x=e.parentCallbackLoadMoreComments,j=e.totalItems,Z=r.useState(-1),b=(0,o.Z)(Z,2),y=b[0],_=b[1],S=r.useState(-1),k=(0,o.Z)(S,2),E=k[0],O=k[1],w=r.useState(!1),I=(0,o.Z)(w,2),U=I[0],N=I[1],B=r.useState(!1),F=(0,o.Z)(B,2),R=F[0],M=F[1],z=r.useState(de.L),q=(0,o.Z)(z,2),W=q[0],V=q[1],$=(0,ue.$)().t,X=function(e,n){m(e,n),O(-1)},te=r.useState(!1),se=(0,o.Z)(te,2),me=se[0],ve=se[1],pe=function(){ve(!1)},ge=function(){ve(!1),f(y)},je=function(){O(-1)},Ze=function(){M(!1)},be=function(){M(!1),v(W)};return(0,T.jsxs)(g.Z,{children:[(0,T.jsxs)(H.Z,{sx:{bgcolor:"background.paper",mt:2},children:[(0,T.jsxs)(g.Z,{children:[j>0?(0,T.jsx)(J.ZP,{alignItems:"flex-start",button:!0,onClick:function(){return N(!U)},children:(0,T.jsx)(G.Z,{children:(0,T.jsx)(h.Z,{variant:"subtitle1",component:"a",color:"text.secondary",sx:{mt:1},children:(0,T.jsxs)("u",{children:[$(U?"comment_offer.hide_comment_details_offer":"comment_offer.show_comment_details_offer"),"(",j,")"]})})})}):null,U?(0,T.jsxs)(g.Z,{children:[i.map((function(e,n){var i,o,s,c,u,f,m,v;return(0,T.jsxs)("div",{children:[(0,T.jsxs)(J.ZP,{alignItems:"flex-start",secondaryAction:(0,T.jsxs)(g.Z,{children:[a&&(null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.id)===l.id?(0,T.jsx)(A.Z,{edge:"end","aria-label":"edit",color:"success",onClick:function(){return n=e.id||-1,void O(n);var n},sx:{mr:.5,display:"block"},children:(0,T.jsx)(ne.Z,{})}):null,!a||(null===t||void 0===t||null===(o=t.user)||void 0===o?void 0:o.id)!==l.id&&(null===e||void 0===e||null===(s=e.user)||void 0===s?void 0:s.id)!==l.id?null:(0,T.jsx)(A.Z,{edge:"end","aria-label":"delete",color:"error",onClick:function(){return n=e.id||-1,_(n),void ve(!0);var n},sx:{display:"block"},children:(0,T.jsx)(ee.Z,{})}),a&&(null===e||void 0===e||null===(c=e.user)||void 0===c?void 0:c.id)!==l.id?(0,T.jsx)(A.Z,{edge:"end","aria-label":"report",onClick:function(){return function(e){V(e),M(!0)}(e)},sx:{mr:.5,display:"block"},children:(0,T.jsx)(P.Z,{})}):null]}),children:[(0,T.jsx)(Y.Z,{children:(0,T.jsx)(Q.Z,{alt:"Avatar",src:(0,D.Dm)(null===(u=e.user)||void 0===u?void 0:u.id,null===(f=e.user)||void 0===f?void 0:f.imageUrl,null===(m=e.user)||void 0===m?void 0:m.sourceRegister),sx:{border:"1px solid #b9b9b9"},children:null===(v=(0,D.QD)(null===e||void 0===e?void 0:e.user))||void 0===v?void 0:v.charAt(0)})}),(0,T.jsx)(G.Z,{primary:(0,D.QD)(null===e||void 0===e?void 0:e.user),secondary:(0,T.jsxs)(r.Fragment,{children:[(0,T.jsx)(h.Z,{sx:{display:"block"},component:"span",variant:"body2",color:"text.primary",children:(0,T.jsx)(C.p,{convertDate:e.createdDate})}),E!==e.id?(0,T.jsx)(fe,{lines:2,text:e.content||"",readMoreText:$("details_offer.label_show_more"),readLessText:$("details_offer.label_show_less")}):null]})})]}),E===e.id?(0,T.jsx)(g.Z,{sx:{mr:2,ml:9},children:(0,T.jsx)(he,{parentCallbackUpdateComment:function(n){return X(n,e.id||-1)},parentCallbackCancelUpdateComment:je,defaultValueUpdate:e.content,loadingUpdateEntity:d})}):null,(0,T.jsx)(K.Z,{variant:"inset",component:"li"})]},"comment-".concat(n))})),s?(0,T.jsx)(g.Z,{sx:{display:"flex",justifyContent:"center",m:2},children:(0,T.jsx)(p.Z,{color:"inherit"})}):null,j>i.length?(0,T.jsx)(J.ZP,{alignItems:"center",button:!0,onClick:function(){return x()},children:(0,T.jsx)(G.Z,{children:(0,T.jsx)(h.Z,{variant:"subtitle1",component:"h5",color:"text.secondary",sx:{mt:1,textAlign:"center"},children:(0,T.jsx)("u",{children:$("comment_offer.show_more_comment")})})})}):null]}):null]}),(0,T.jsxs)(J.ZP,{alignItems:"flex-start",children:[(0,T.jsx)(Y.Z,{children:(0,T.jsx)(Q.Z,{alt:l.imageUrl,src:(0,D.Dm)(l.id,l.imageUrl,null===l||void 0===l?void 0:l.sourceRegister),sx:{border:"1px solid #b9b9b9"},children:null===(n=(0,D.QD)(l))||void 0===n?void 0:n.charAt(0)})}),(0,T.jsx)(G.Z,{children:(0,T.jsx)(xe,{parentCallbackAddComment:function(e){u(e)},loadingAddEntity:c})})]})]}),(0,T.jsx)("div",{children:(0,T.jsxs)(ie.Z,{open:me,TransitionComponent:ce.P,keepMounted:!0,onClose:pe,"aria-describedby":"alert-dialog-slide-description",children:[(0,T.jsx)(oe.Z,{children:$("details_offer.title_dialog_delete_comment")}),(0,T.jsx)(re.Z,{children:(0,T.jsx)(le.Z,{id:"alert-dialog-slide-description",children:$("details_offer.description_dialog_delete_comment")})}),(0,T.jsxs)(ae.Z,{children:[(0,T.jsx)(L.Z,{onClick:pe,color:"neutral",children:$("common.label_cancel")}),(0,T.jsx)(L.Z,{onClick:ge,color:"error",children:$("common.label_delete")})]})]})}),(0,T.jsx)("div",{children:(0,T.jsxs)(ie.Z,{open:R,TransitionComponent:ce.P,keepMounted:!0,onClose:Ze,"aria-describedby":"alert-dialog-slide-description",children:[(0,T.jsx)(oe.Z,{children:$("details_offer.title_dialog_report_comment")}),(0,T.jsx)(re.Z,{children:(0,T.jsx)(le.Z,{id:"alert-dialog-slide-description",children:$("details_offer.description_dialog_report_comment")})}),(0,T.jsxs)(ae.Z,{children:[(0,T.jsx)(L.Z,{onClick:Ze,children:$("common.label_cancel")}),(0,T.jsx)(L.Z,{color:"success",onClick:be,children:$("common.label_report")})]})]})})]})}function xe(e){var n=e.parentCallbackAddComment,t=e.loadingAddEntity,i=(0,ue.$)().t,o=(0,te.TA)({initialValues:me,validationSchema:se.UH,onSubmit:function(e){n(e.content),o.setFieldValue("content","")}});return(0,T.jsx)(r.Fragment,{children:(0,T.jsxs)("form",{onSubmit:o.handleSubmit,children:[(0,T.jsx)($.Z,{id:"content",name:"content",label:i("comment_offer.label_add_comment"),value:o.values.content,onChange:o.handleChange,multiline:!0,fullWidth:!0,maxRows:4}),(0,T.jsx)(X.Z,{loading:t,variant:"outlined",size:"small",type:"submit",disabled:!o.values.content,sx:{my:1},color:"neutral",children:i("comment_offer.label_comment")})]})})}function he(e){var n=e.parentCallbackUpdateComment,t=e.parentCallbackCancelUpdateComment,i=e.defaultValueUpdate,l=e.loadingUpdateEntity,a=r.useState(i),s=(0,o.Z)(a,1)[0],d=(0,ue.$)().t,c=(0,te.TA)({initialValues:me,validationSchema:se.UH,onSubmit:function(e){n(e.content)}});(0,r.useEffect)((function(){c.setFieldValue("content",i)}),[]);return(0,T.jsx)(r.Fragment,{children:(0,T.jsxs)("form",{onSubmit:c.handleSubmit,children:[(0,T.jsx)($.Z,{id:"content",name:"content",label:"Add comment",value:c.values.content,onChange:c.handleChange,multiline:!0,fullWidth:!0,maxRows:4}),(0,T.jsxs)(g.Z,{sx:{my:1},children:[(0,T.jsx)(X.Z,{loading:!1,variant:"outlined",size:"small",type:"button",sx:{mr:1},color:"neutral",onClick:function(){t(s)},children:d("common.label_cancel")}),(0,T.jsx)(X.Z,{loading:l,variant:"outlined",size:"small",type:"submit",disabled:!c.values.content,color:"success",children:d("common.label_update")})]})]})})}var pe=t(9585),ge=t(17237),je=t(90580),Ze=t(81131),be=t(85545),ye=t(31395),Ce=t(68322),_e=t(42093),Se=t(42716),ke=t(76278),Ee=t(66364),Le=t.n(Ee),Pe=t(41098),Ae=t.n(Pe),Oe=t(30716),we=function(e){(0,B.Z)(t,e);var n=(0,F.Z)(t);function t(e){var i;return(0,I.Z)(this,t),(i=n.call(this,e)).state={shareData:{title:"MDN",text:"Learn web development on MDN!",url:"https://developer.mozilla.org"}},i.handleShare=i.handleShare.bind((0,N.Z)(i)),i}return(0,U.Z)(t,[{key:"handleShare",value:function(){navigator.share(this.state.shareData).then((function(e){}))}},{key:"render",value:function(){return(0,D.KB)()===Oe.c.MOBILE_BROWSER?(0,T.jsx)(A.Z,{onClick:this.handleShare,children:this.props.children}):(0,T.jsx)(Ae(),{url:this.props.url,quote:"quote",children:this.props.children})}}]),t}(r.Component),De=t(15112),Ie=t(41985),Ue=t(4103),Ne=se.M5;function Be(e){var n,t,i,l,a,s,c,u,m,v,p,b,y,C,_,S=e.offerEntity,k=e.parentCallback,P=e.currentUser,O=e.isAuthenticated,w=e.myFavoriteUser,I=e.createConversationCallback,U=e.addSuccessConversation,N=e.isOnLine,B=r.useState(),F=(0,o.Z)(B,2),R=(F[0],F[1]),M=r.useState(""),z=(0,o.Z)(M,2),q=z[0],W=z[1],V=r.useState(!1),H=(0,o.Z)(V,2),J=H[0],Y=H[1],G=r.useState(!1),K=(0,o.Z)(G,2),X=K[0],ee=K[1],ne=(0,d.s0)(),de=(0,ue.$)().t,fe=(0,te.TA)({initialValues:Ne,validationSchema:se.HC,onSubmit:function(e){var n;P.id!==(null===S||void 0===S||null===(n=S.user)||void 0===n?void 0:n.id)&&O&&(R(e),ve(e.content))}}),me=function(){fe.setFieldValue("fullName",(0,D.QD)(P)),fe.setFieldValue("email",P.email)};r.useEffect((function(){Le()(P)||me()}),[P]),r.useEffect((function(){U&&(fe.resetForm(),me())}),[U]);var ve=function(e){var n,t,i={content:e,conversation:{dateCreated:(0,D.uJ)(new Date),senderUser:null,receiverUser:{id:null===S||void 0===S||null===(n=S.user)||void 0===n?void 0:n.id,email:null===S||void 0===S||null===(t=S.user)||void 0===t?void 0:t.email}}};I(i)},xe=r.useState(!1),he=(0,o.Z)(xe,2),Ee=he[0],Pe=he[1],Ae=function(e){e.stopPropagation(),w||Pe(!0)},Oe=function(){Pe(!1)},Be=function(){var e;Pe(!1),k(null===S||void 0===S||null===(e=S.user)||void 0===e?void 0:e.id)},Fe=function(e){setTimeout((function(){ne(x.H.PROFILE+"/"+e)}),300)},Re=function(){return w?"red":"color: rgba(0, 0, 0, 0.54)"};return(0,T.jsxs)(f.ZP,{item:!0,xs:12,sm:12,children:[(0,T.jsxs)(j.Z,{children:[(0,T.jsx)(h.Z,{paragraph:!0,sx:{m:2},children:de("details_offer.about_seller")}),(0,T.jsx)(ke.Z,{onClick:function(){var e;return Fe(null===S||void 0===S||null===(e=S.user)||void 0===e?void 0:e.id)},sx:{display:"block"},children:(0,T.jsx)(pe.Z,{avatar:S?(0,T.jsx)(Ue.j,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",color:N(null===(n=S.user)||void 0===n?void 0:n.email)?"success":"error",children:(0,T.jsx)(Q.Z,{"aria-label":"recipe",alt:null===(t=S.user)||void 0===t?void 0:t.imageUrl,src:(0,D.Dm)(null===(i=S.user)||void 0===i?void 0:i.id,null===(l=S.user)||void 0===l?void 0:l.imageUrl,null===(a=S.user)||void 0===a?void 0:a.sourceRegister),sx:{border:"1px solid #b9b9b9"},children:null===(s=(0,D.QD)(null===S||void 0===S?void 0:S.user))||void 0===s?void 0:s.charAt(0)})}):null,action:(0,T.jsx)(A.Z,{"aria-label":"settings",sx:{color:Re()},onClick:function(e){return Ae(e)},disabled:(null===S||void 0===S||null===(c=S.user)||void 0===c?void 0:c.id)===(null===P||void 0===P?void 0:P.id),children:(0,T.jsx)(ge.Z,{})}),title:(0,T.jsx)(r.Fragment,{children:(0,D.QD)(null===S||void 0===S?void 0:S.user)}),subheader:null===S||void 0===S||null===(u=S.user)||void 0===u?void 0:u.email,onClick:function(){var e;return Fe(null===S||void 0===S||null===(e=S.user)||void 0===e?void 0:e.id)},role:"button"})}),null!==S&&void 0!==S&&null!==(m=S.user)&&void 0!==m&&m.address?(0,T.jsx)(Z.Z,{children:(0,T.jsxs)(h.Z,{variant:"body2",color:"text.secondary",children:[null===S||void 0===S||null===(v=S.user)||void 0===v?void 0:v.address.city,", ",null===S||void 0===S||null===(p=S.user)||void 0===p?void 0:p.address.country]})}):null,(0,T.jsxs)(E.Z,{disableSpacing:!0,sx:{backgroundColor:"rgba(0, 0, 0, 0.74);"},children:[(0,T.jsx)(A.Z,{"aria-label":"add to favorites",sx:{color:Re()},onClick:Ae,disabled:(null===S||void 0===S||null===(b=S.user)||void 0===b?void 0:b.id)===(null===P||void 0===P?void 0:P.id),children:(0,T.jsx)(ge.Z,{})}),(0,T.jsx)(we,{url:"https://github.com/nygardk/react-share/blob/master/demo/Demo.tsx",children:(0,T.jsx)(g.Z,{sx:{color:"#fff"},children:(0,T.jsx)(je.Z,{})})}),(0,T.jsx)(A.Z,{sx:{marginLeft:"auto",color:"#fff"},onClick:function(){},children:(0,T.jsx)(Ze.Z,{})})]}),(0,T.jsxs)(f.ZP,{container:!0,item:!0,sx:{mt:3},children:[(0,T.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,T.jsx)(g.Z,{sx:{"& > :not(style)":{m:1}},children:(0,T.jsxs)("form",{onSubmit:fe.handleSubmit,children:[(0,T.jsx)(h.Z,{paragraph:!0,className:"text-center",children:de("details_offer.send_message")}),(0,T.jsxs)(g.Z,{sx:{display:"flex",alignItems:"flex-end"},children:[(0,T.jsx)(be.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,T.jsx)($.Z,{id:"fullName",name:"fullName",label:de("common.label_name"),variant:"standard",fullWidth:!0,disabled:!(fe.touched.fullName&&Boolean(fe.errors.fullName)),value:fe.values.fullName,onChange:fe.handleChange,error:fe.touched.fullName&&Boolean(fe.errors.fullName)})]}),(0,T.jsxs)(g.Z,{sx:{display:"flex",alignItems:"flex-end",my:2},children:[(0,T.jsx)(ye.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,T.jsx)($.Z,{id:"email",name:"email",label:de("common.label_email"),variant:"standard",fullWidth:!0,disabled:!(fe.touched.email&&Boolean(fe.errors.email)),value:fe.values.email,onChange:fe.handleChange,error:fe.touched.email&&Boolean(fe.errors.email)})]}),(0,T.jsxs)(g.Z,{sx:{display:"flex",alignItems:"flex-end"},children:[(0,T.jsx)(Ce.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,T.jsx)($.Z,{id:"content",name:"content",label:"Message",variant:"standard",fullWidth:!0,multiline:!0,rows:4,value:fe.values.content,onChange:fe.handleChange,error:fe.touched.content&&Boolean(fe.errors.content)})]}),(0,T.jsx)(g.Z,{sx:{display:"flex",alignItems:"flex-end"},children:(0,T.jsx)(L.Z,{variant:"outlined",size:"small",fullWidth:!0,sx:{mt:2,mb:2},color:"neutral",type:"submit",disabled:P.id===(null===S||void 0===S||null===(y=S.user)||void 0===y?void 0:y.id),children:de("common.label_send")})})]})})}),(0,T.jsxs)(f.ZP,{item:!0,xs:12,sm:6,sx:{p:2,borderLeft:"1px solid #cfcbcb;"},children:[(0,T.jsx)(h.Z,{paragraph:!0,className:"text-center",children:de("details_offer.contact_with")}),(0,T.jsx)(L.Z,{variant:"outlined",startIcon:(0,T.jsx)(_e.Z,{}),fullWidth:!0,sx:{mt:3},onClick:function(){return function(){var e,n;null!==S&&void 0!==S&&null!==(e=S.user)&&void 0!==e&&e.linkProfileFacebook?window.open(null===S||void 0===S||null===(n=S.user)||void 0===n?void 0:n.linkProfileFacebook,"_new"):(W(de("details_offer.message_not_link_profile_facebook_exist")),Y(!0))}()},children:"Facebook"}),(0,T.jsx)(L.Z,{variant:"outlined",startIcon:(0,T.jsx)(Se.Z,{}),fullWidth:!0,sx:{mt:3},onClick:function(){return ee(!X)},children:X?null===S||void 0===S||null===(C=S.user)||void 0===C?void 0:C.phone:de("details_offer.show_number")}),(0,T.jsx)("a",{href:"mailto:".concat(null===S||void 0===S||null===(_=S.user)||void 0===_?void 0:_.email),style:{textDecoration:"none"},children:(0,T.jsx)(L.Z,{variant:"outlined",startIcon:(0,T.jsx)(ye.Z,{}),fullWidth:!0,sx:{mt:3},children:de("details_offer.send_email")})})]})]})]}),(0,T.jsxs)(f.ZP,{container:!0,item:!0,spacing:2,sx:{mt:1},children:[(0,T.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,T.jsx)(j.Z,{onClick:function(){console.log("offerEntity ",S),null!==S&&void 0!==S&&S.address?window.open("https://www.google.com/maps/@35.8235978,10.6309176,15z","_new"):(W(de("details_offer.not_address_found_itenarary")),Y(!0))},children:(0,T.jsxs)(Z.Z,{children:[(0,T.jsx)(h.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"D\xe9couvrir le quartier"}),(0,T.jsx)("div",{style:{maxHeight:400,marginTop:30},children:(0,T.jsx)("img",{className:"img-fluid",src:(0,D.K1)("/assets/images/offer/details-offer/desktop-map-neighbourhood.ext.svg"),alt:"desktop-map-neighbourhood"})})]})})}),(0,T.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,T.jsx)(j.Z,{onClick:function(){if(console.log("offerEntity ",S),null!==S&&void 0!==S&&S.address)if(null!==P&&void 0!==P&&P.address){var e,n,t,i;window.open("https://www.google.com/maps/dir/"+(null===P||void 0===P||null===(e=P.address)||void 0===e?void 0:e.lng)+","+(null===P||void 0===P||null===(n=P.address)||void 0===n?void 0:n.lng)+"/"+(null===S||void 0===S||null===(t=S.address)||void 0===t?void 0:t.lng)+","+(null===S||void 0===S||null===(i=S.address)||void 0===i?void 0:i.lng),"_new")}else W(de("details_offer.miss_address_account")),Y(!0);else W(de("details_offer.not_address_found_itenarary")),Y(!0)},children:(0,T.jsxs)(Z.Z,{children:[(0,T.jsx)(h.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"D\xe9couvrir le quartier"}),(0,T.jsx)("div",{style:{maxHeight:400,marginTop:30},children:(0,T.jsx)("img",{className:"img-fluid",src:(0,D.K1)("/assets/images/offer/details-offer/desktop-time-of-travel-address.ext.svg"),alt:"desktop-time-of-travel-address"})})]})})})]}),(0,T.jsx)(f.ZP,{container:!0,item:!0,spacing:2,sx:{mt:1},children:(0,T.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,T.jsx)(Ie.Z,{})})}),(0,T.jsx)("div",{children:(0,T.jsxs)(ie.Z,{open:Ee,TransitionComponent:ce.P,keepMounted:!0,onClose:Oe,"aria-describedby":"alert-dialog-slide-description",children:[(0,T.jsx)(oe.Z,{children:de("details_offer.title_add_favrite_user")}),(0,T.jsx)(re.Z,{children:(0,T.jsx)(le.Z,{id:"alert-dialog-slide-description",children:de("details_offer.description_add_favrite_user")})}),(0,T.jsxs)(ae.Z,{children:[(0,T.jsx)(L.Z,{onClick:Oe,color:"neutral",children:de("common.label_cancel")}),(0,T.jsx)(L.Z,{onClick:Be,color:"success",children:de("common.label_favorite")})]})]})}),(0,T.jsx)("div",{children:(0,T.jsx)(De.Z,{open:J,autoHideDuration:5e3,onClose:function(){Y(!1)},message:q})})]})}var Fe=t(21125),Re=t(53547),Te=t(32682),Me=t(32728),ze=t(26484),qe=t(7287),We=t(3721),Ve=t(55818),He=t(97581),Je=t(58368),Ye=t(43896),Qe=t(83449),Ge=t(35267),Ke=t(82851),$e=t(66810);function Xe(e){var n=e.parentCallbackAddCart,t=e.loadingAddCart,i=r.useState("1"),l=(0,o.Z)(i,2),a=l[0],s=l[1],d=r.useState(1),c=(0,o.Z)(d,2),u=c[0],m=c[1],v=(0,ue.$)().t;return(0,T.jsx)(g.Z,{sx:{width:"100%",typography:"body1",my:3},children:(0,T.jsxs)(Qe.ZP,{value:a,children:[(0,T.jsxs)(Ke.Z,{value:"1",children:[(0,T.jsxs)(f.ZP,{container:!0,children:[(0,T.jsxs)(f.ZP,{item:!0,xs:12,md:6,children:[(0,T.jsxs)(h.Z,{variant:"subtitle2",color:"text.secondary",display:"flex",children:[(0,T.jsx)(y.Z,{fontSize:"small",sx:{mr:.9}}),"En Stock"]}),(0,T.jsx)(g.Z,{sx:{my:2},children:(0,T.jsx)($e._,{parentCallChangeQuantity:function(e){console.log("data ",e),m(e)}})})]}),(0,T.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,T.jsxs)(H.Z,{sx:{},children:[(0,T.jsxs)(J.ZP,{alignItems:"flex-start",children:[(0,T.jsx)(Y.Z,{children:(0,T.jsx)(Q.Z,{alt:"Remy Sharp",src:(0,D.K1)("/assets/images/offer/details-offer/creditcard.svg")})}),(0,T.jsx)(G.Z,{primary:"Paiement facile",secondary:"Payer vos articles command\xe9s au comptant lors de la livraison"})]}),(0,T.jsx)(K.Z,{variant:"inset",component:"li"}),(0,T.jsxs)(J.ZP,{alignItems:"flex-start",children:[(0,T.jsx)(Y.Z,{children:(0,T.jsx)(Q.Z,{alt:"Travis Howard",src:(0,D.K1)("/assets/images/offer/details-offer/local-shipping.svg")})}),(0,T.jsx)(G.Z,{primary:"Politique de livraison",secondary:"Remise de 5% \xe0 partir de 50dt d'achats sur les produits mazroub exclusive"})]}),(0,T.jsx)(K.Z,{variant:"inset",component:"li"}),(0,T.jsxs)(J.ZP,{alignItems:"flex-start",children:[(0,T.jsx)(Y.Z,{children:(0,T.jsx)(Q.Z,{alt:"Cindy Baker",src:(0,D.K1)("/assets/images/offer/details-offer/loop.svg")})}),(0,T.jsx)(G.Z,{primary:"Politique de retours",secondary:"Remboursement entre 3 et 12 jours \xe0 partir la date de r\xe9ception de votre retour"})]})]})})]}),(0,T.jsx)(g.Z,{sx:{my:2},display:"flex",justifyContent:"center",children:(0,T.jsx)(X.Z,{loading:t,fullWidth:!0,variant:"contained",color:"success",onClick:function(){console.log("valueQuantity ",u),n({quantity:u})},children:v("common.label_add")})})]}),(0,T.jsx)(Ke.Z,{value:"2",children:"Acheter directement"}),(0,T.jsx)(g.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,T.jsxs)(Ge.Z,{onChange:function(e,n){s(n)},"aria-label":"lab API tabs example",centered:!0,children:[(0,T.jsx)(Ye.Z,{label:"Ajouter au panier",value:"1"}),(0,T.jsx)(Ye.Z,{label:"Acheter directement",value:"2"})]})})]})})}var en=t(20068),nn=t(95218),tn=t(94070),on=function(e){var n,t,l,a,s,O,w,I,U,N,B,F,R,M,z,W,H,J,Y,Q,G,K,$,X,ee,ne=r.useState(!1),te=(0,o.Z)(ne,2),se=te[0],de=te[1],fe=r.useState(!1),me=(0,o.Z)(fe,2),xe=me[0],he=me[1],pe=r.useState(!1),ge=(0,o.Z)(pe,2),be=ge[0],ye=ge[1],Ce=r.useState(-1),_e=(0,o.Z)(Ce,2),Se=_e[0],ke=_e[1],Ee=r.useState(!0),Le=(0,o.Z)(Ee,2),Pe=Le[0],Ae=Le[1],Oe=r.useState("fr"),De=(0,o.Z)(Oe,2),Ie=De[0],Ue=De[1],Ne=(0,d.UO)().id,Fe=(0,d.s0)(),Re=(0,ue.$)().t,Te=e.resetAllFavoriteOfferUser,Me=e.resetCommentOffer,qe=e.getEntitywithFavorite,Ye=e.updateComment,Qe=e.favoriteUserOffer,Ge=e.loadingEntityFavoriteUserOffer,Ke=e.isAuthenticated,$e=e.getListCommentsByOffer,on=e.loadingCommentsByOffer,rn=e.listCommentsByOffer,ln=e.account,an=e.loadingUpdateEntity,sn=e.addSuccessComment,dn=e.updateSuccessComment,cn=e.addSuccessFavoriteUser,un=e.createEntityFavoriteUser,fn=e.loadingAddComment,mn=e.totalItemsCommentsByOffer,vn=e.deleteSuccessComment,xn=e.deleteComment;r.useEffect((function(){Je.Z.on("languageChanged",(function(e){Ue(e)})),Te(),Me()}),[]),r.useEffect((function(){var e;null!==Qe&&void 0!==Qe&&null!==(e=Qe.offer)&&void 0!==e&&e.id||!Ne||(qe(Ne),ke(0))}),[Qe]),r.useEffect((function(){Se>=0&&Ke&&$e(Number(Ne),Se,q.z.COMMENTS_PER_PAGE,"")}),[Se]),r.useEffect((function(){Qe&&Qe.offer&&!Ge&&(he(Qe.myFavoriteUser||!1),setTimeout((function(){de(!0)}),300))}),[Qe]),r.useEffect((function(){if(sn||dn||vn){var e;Me();var n=(null===Qe||void 0===Qe||null===(e=Qe.offer)||void 0===e?void 0:e.id)||-1;$e(n,0,20,"")}}),[sn,dn,vn]),r.useEffect((function(){cn&&he(!0)}),[cn]);var hn=function(){ye(!1)},pn=function(){ye(!1);var n={offer:null===Qe||void 0===Qe?void 0:Qe.offer,user:{}};e.createEntityReportOffer(n)};return(0,T.jsxs)(g.Z,{children:[Ge?(0,T.jsx)(g.Z,{sx:{paddingTop:10,textAlign:"center"},children:(0,T.jsx)(p.Z,{color:"inherit"})}):null,(0,T.jsxs)(u.Z,{maxWidth:"xl",className:"details-offer-client",children:[(0,T.jsx)(f.ZP,{container:!0,style:{paddingTop:10},children:(0,T.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,T.jsxs)(m.Z,{"aria-label":"breadcrumb",children:[(0,T.jsx)(v.rU,{color:"inherit",to:x.H.HOME,children:"SRF"}),(0,T.jsx)(v.rU,{color:"inherit",to:x.H.SEARCH,children:Re("common.label_search")}),(0,T.jsx)(h.Z,{color:"text.primary",children:null===Qe||void 0===Qe||null===(n=Qe.offer)||void 0===n?void 0:n.title})]})})}),Ge?null:(0,T.jsxs)(f.ZP,{container:!0,style:{paddingTop:50},children:[(0,T.jsxs)(f.ZP,{item:!0,xs:12,sm:6,children:[(0,T.jsx)(V,(0,i.Z)({},null===Qe||void 0===Qe?void 0:Qe.offer)),(0,T.jsx)(c.Z,{in:se,children:(0,T.jsxs)(j.Z,{sx:{mb:3},children:[(0,T.jsxs)(Z.Z,{children:[null!==Qe&&void 0!==Qe&&null!==(t=Qe.offer)&&void 0!==t&&t.amount?(0,T.jsxs)(h.Z,{variant:"h4",sx:{textAlign:"center",fontWeight:600},className:"red-color",children:["$ ",null===Qe||void 0===Qe||null===(l=Qe.offer)||void 0===l?void 0:l.amount," DT"]}):null,(0,T.jsxs)(h.Z,{variant:"subtitle2",color:"text.secondary",display:"flex",children:[(0,T.jsx)(y.Z,{fontSize:"small",sx:{mr:.9}}),(null===Qe||void 0===Qe||null===(a=Qe.offer)||void 0===a?void 0:a.typeOffer)===b.dJ.Sell?Re("common.for_sell"):(null===Qe||void 0===Qe||null===(s=Qe.offer)||void 0===s?void 0:s.typeOffer)===b.dJ.Rent?Re("common.for_rent"):(null===Qe||void 0===Qe||null===(O=Qe.offer)||void 0===O?void 0:O.typeOffer)===b.dJ.Find?Re("common.for_find"):null]}),null!==Qe&&void 0!==Qe&&null!==(w=Qe.offer)&&void 0!==w&&w.startDate&&null!==Qe&&void 0!==Qe&&null!==(I=Qe.offer)&&void 0!==I&&I.endDate?(0,T.jsxs)(g.Z,{children:[(0,T.jsxs)(h.Z,{color:"text.secondary",gutterBottom:!0,children:[Re("common.label_start_date"),":\xa0",(0,T.jsx)("strong",{children:(0,T.jsx)(C.p,{convertDate:null===Qe||void 0===Qe||null===(U=Qe.offer)||void 0===U?void 0:U.startDate})})]}),(0,T.jsxs)(h.Z,{color:"text.secondary",gutterBottom:!0,display:"flex",children:[Re("common.label_end_date"),":\xa0",(0,T.jsx)("strong",{children:(0,T.jsx)(C.p,{convertDate:null===Qe||void 0===Qe||null===(N=Qe.offer)||void 0===N?void 0:N.endDate})})]})]}):null,null!==Qe&&void 0!==Qe&&null!==(B=Qe.offer)&&void 0!==B&&B.typePeriodRent?(0,T.jsxs)(h.Z,{color:"text.secondary",gutterBottom:!0,display:"flex",children:[Re("common.label_period"),":\xa0",(0,T.jsxs)("strong",{children:[Re("common.type_periode_rent_"+(null===Qe||void 0===Qe||null===(F=Qe.offer)||void 0===F?void 0:F.typePeriodRent)),"\xa0"]})]}):null,(0,T.jsx)(h.Z,{variant:"h5",component:"div",sx:{mt:2},children:null===Qe||void 0===Qe||null===(R=Qe.offer)||void 0===R?void 0:R.title}),(0,T.jsxs)(h.Z,{sx:{fontSize:"0.8rem",mt:1},color:"text.secondary",display:"flex",children:[(0,T.jsx)(_.Z,{fontSize:"small",sx:{mr:.9}})," ",(0,T.jsx)(C.p,{convertDate:null===Qe||void 0===Qe||null===(M=Qe.offer)||void 0===M?void 0:M.dateCreated})]}),null!==Qe&&void 0!==Qe&&null!==(z=Qe.offer)&&void 0!==z&&z.address?(0,T.jsxs)(h.Z,{sx:{mb:1.8,fontSize:"0.8rem",mt:1},color:"text.secondary",display:"flex",children:[(0,T.jsx)(S.Z,{fontSize:"small",sx:{mr:.9}}),null===Qe||void 0===Qe||null===(W=Qe.offer)||void 0===W||null===(H=W.address)||void 0===H?void 0:H.city,", ",null===Qe||void 0===Qe||null===(J=Qe.offer)||void 0===J||null===(Y=J.address)||void 0===Y?void 0:Y.country]}):null,null!==Qe&&void 0!==Qe&&null!==(Q=Qe.offer)&&void 0!==Q&&Q.category?(0,T.jsxs)(h.Z,{sx:{mb:1.8,fontSize:"0.8rem",mt:1},color:"text.secondary",display:"flex",children:[(0,T.jsx)(k.Z,{fontSize:"small",sx:{mr:.9}}),Re("details_offer.label_category")," ",function(){var e,n,t,i,o,r;return"en"===Ie?(null===Qe||void 0===Qe||null===(t=Qe.offer)||void 0===t||null===(i=t.category)||void 0===i?void 0:i.titleEn)||"":"fr"===Ie?(null===Qe||void 0===Qe||null===(o=Qe.offer)||void 0===o||null===(r=o.category)||void 0===r?void 0:r.titleFr)||"":(null===Qe||void 0===Qe||null===(e=Qe.offer)||void 0===e||null===(n=e.category)||void 0===n?void 0:n.titleAr)||""}()]}):null,(0,T.jsxs)(He.Z,{sx:{mt:"40px !important"},elevation:0,expanded:Pe,onChange:function(){Ae(!Pe)},children:[(0,T.jsx)(Ve.Z,{expandIcon:(0,T.jsx)(Ze.Z,{sx:{backgroundColor:"yellow",borderRadius:"50%"}}),"aria-controls":"panel1a-content",id:"panel1a-header",className:"bg-brown",children:Re("details_offer.label_details_offer")}),(0,T.jsx)(We.Z,{children:(0,T.jsx)("div",{dangerouslySetInnerHTML:{__html:(null===Qe||void 0===Qe||null===(G=Qe.offer)||void 0===G?void 0:G.description)||""}})})]})]}),(0,T.jsxs)(E.Z,{disableSpacing:!0,children:[(0,T.jsx)(we,{url:"https://github.com/nygardk/react-share/blob/master/demo/Demo.tsx",children:(0,T.jsx)(en.Z,{title:(0,T.jsx)(r.Fragment,{children:Re("common.label_share")}),children:(0,T.jsx)(je.Z,{})})}),(0,T.jsx)(A.Z,{sx:{marginLeft:"auto"},onClick:function(){ye(!0)},children:(0,T.jsx)(en.Z,{title:(0,T.jsx)(r.Fragment,{children:Re("common.label_report")}),children:(0,T.jsx)(P.Z,{})})})]})]})}),Ke?(0,T.jsx)(g.Z,{sx:{mb:3},children:(0,T.jsx)(ve,{offerEntity:null===Qe||void 0===Qe?void 0:Qe.offer,listCommentsByOffer:rn,account:ln,isAuthenticated:Ke,loadingListComments:on,loadingUpdateEntity:an,loadingAddEntity:fn,parentCallbackAddComment:function(n){if(n){var t,i,o,r,l,a={createdDate:(0,D.uJ)(new Date),content:n,offer:{id:null===Qe||void 0===Qe||null===(t=Qe.offer)||void 0===t?void 0:t.id,user:{id:null===Qe||void 0===Qe||null===(i=Qe.offer)||void 0===i||null===(o=i.user)||void 0===o?void 0:o.id,email:null===Qe||void 0===Qe||null===(r=Qe.offer)||void 0===r||null===(l=r.user)||void 0===l?void 0:l.email}},user:{}};e.addCommentOffer(a),(0,ze.rJ)(ze.Yt.EventOffer.AddCommentOffer.eventName,ze.Yt.EventOffer.AddCommentOffer.eventCategory,ze.Yt.EventOffer.AddCommentOffer.eventLabel)}},parentCallbackDeleteComment:function(e){xn(e)},parentCallbackUpdateComment:function(e,n){var t=rn.find((function(e){return e.id===n}));t=(0,i.Z)((0,i.Z)({},t),{},{content:e}),Ye(t),(0,ze.rJ)(ze.Yt.EventOffer.UpdateCommentOffer.eventName,ze.Yt.EventOffer.UpdateCommentOffer.eventCategory,ze.Yt.EventOffer.UpdateCommentOffer.eventLabel)},parentCallbackReportComment:function(n){var t={commentOffer:n,user:{}};e.reportComment(t)},parentCallbackLoadMoreComments:function(){ke(Se+1)},totalItems:mn})}):null,(null===Qe||void 0===Qe||null===(K=Qe.offer)||void 0===K?void 0:K.typeContactClient)!==nn.t.direct&&(null===($=Qe.offer)||void 0===$?void 0:$.typeOffer)===b.dJ.Sell?(0,T.jsx)(Xe,{parentCallbackAddCart:function(n){if(Ke){var t,i={quantity:n.quantity,sellOffer:{id:null===Qe||void 0===Qe||null===(t=Qe.offer)||void 0===t?void 0:t.id}};console.log("entity ",i),e.addCart(i)}},loadingAddCart:e.loadingAddCart}):null,(null===Qe||void 0===Qe||null===(X=Qe.offer)||void 0===X?void 0:X.typeContactClient)===nn.t.direct&&(null===(ee=Qe.offer)||void 0===ee?void 0:ee.typeOffer)===b.dJ.Sell?(0,T.jsx)(tn.Z,{severity:"warning",children:Re("details_offer.offer_contact_direct")}):null]}),(0,T.jsx)(f.ZP,{container:!0,item:!0,xs:12,sm:6,sx:{pl:{xs:0,sm:4}},spacing:2,children:(0,T.jsx)(Be,{parentCallback:function(e){var n,t;if(Ke){if((null===Qe||void 0===Qe||null===(n=Qe.offer)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.id)!==(null===ln||void 0===ln?void 0:ln.id)){var i,o,r,l,a={favoriteUser:{id:null===Qe||void 0===Qe||null===(i=Qe.offer)||void 0===i||null===(o=i.user)||void 0===o?void 0:o.id,username:null===Qe||void 0===Qe||null===(r=Qe.offer)||void 0===r||null===(l=r.user)||void 0===l?void 0:l.username},favoriteDate:(0,D.uJ)(new Date)};un(a)}}else Fe(x.H.LOGIN)},offerEntity:null===Qe||void 0===Qe?void 0:Qe.offer,currentUser:ln,isAuthenticated:Ke,myFavoriteUser:xe,createConversationCallback:function(n){e.createConversation(n)},addSuccessConversation:e.addSuccessConversation,isOnLine:function(n){return e.listConnectedUsers.findIndex((function(e){return e.principal.email==n}))>=0}})})]})]}),(0,T.jsxs)(ie.Z,{open:be,TransitionComponent:ce.P,keepMounted:!0,onClose:hn,"aria-describedby":"alert-dialog-slide-description",children:[(0,T.jsx)(oe.Z,{children:Re("details_offer.title_dialog_report_offer")}),(0,T.jsx)(re.Z,{children:(0,T.jsx)(le.Z,{id:"alert-dialog-slide-description",children:Re("details_offer.description_dialog_report_offer")})}),(0,T.jsxs)(ae.Z,{children:[(0,T.jsx)(L.Z,{onClick:hn,color:"neutral",children:Re("common.label_cancel")}),(0,T.jsx)(L.Z,{color:"success",onClick:pn,children:Re("common.label_report")})]})]})]})},rn={getEntitywithFavorite:s.ZQ,getListCommentsByOffer:a.x5,addCommentOffer:a.Be,createEntityFavoriteUser:Fe.JP,resetAllFavoriteOfferUser:s.mc,resetCommentOffer:a.mc,updateComment:a.i8,deleteComment:a.Ks,createEntityReportOffer:Te.JP,reportComment:Re.JP,createConversation:qe.Xw,addCart:Me.JP},ln=(0,l.connect)((function(e){var n=e.user,t=e.offer,i=e.comment,o=e.favoriteUser,r=e.reportOffer,l=e.reportCommentOffer,a=e.conversation,s=e.webSocketState,d=e.cart;return{isAuthenticated:n.isAuthenticated,account:n.currentUser,loadingEntityFavoriteUserOffer:t.loadingEntityWithFavoriteUser,favoriteUserOffer:t.entityWithFavoriteUser,loadingCommentsByOffer:i.loadingEntitiesByOffer,listCommentsByOffer:i.entitiesByOffer,loadingUpdateEntity:i.loadingUpdateEntity,loadingAddComment:i.loadingAddEntity,addSuccessComment:i.addSuccess,updateSuccessComment:i.updateSuccess,totalItemsCommentsByOffer:i.totalItemsEntitiesByOffer,loadingDeleteComment:i.loadingDeleteEntity,deleteSuccessComment:i.deleteSuccess,loadingEntityFavoriteUser:o.loadingEntity,entityFavoriteUser:o.entity,addSuccessFavoriteUser:o.addSuccess,addSuccessReportOffer:r.reportSuccess,loadingEntityReportOffer:r.loadingReportEntity,addSuccessReportCommentOffer:l.reportSuccess,loadingEntityReportCommentOffer:l.loadingReportEntity,addSuccessConversation:a.addSuccess,listConnectedUsers:s.listConnectedUsers,loadingAddCart:d.loadingEntity}}),rn)(on)},84516:function(e,n,t){t.d(n,{Rj:function(){return o},UH:function(){return r},M5:function(){return l},HC:function(){return a},uN:function(){return s},cS:function(){return d}});var i=t(62797),o={content:""},r=i.Ry({content:i.Z_().required("Type Offer is required")}),l={fullName:"",email:"",content:""},a=i.Ry({fullName:i.Z_().required("Message is required"),email:i.Z_().email().required("email_is_required"),content:i.Z_().required("Message is required")}),s={quantity:1},d=i.Ry({quantity:i.Rx().required("Quantity is required")})},41985:function(e,n,t){var i=t(72791),o=t(98530),r=t(8374),l=t(48550),a=t(68322),s=t(57621),d=t(39504),c=t(24518),u=t(20829),f=t(92506),m=t(62797),v=t(80184),x=m.Ry({content:m.Z_().required("Message is required").min(5,"Min 5 digits").max(2e3,"Max 2000 digits")}),h={content:""},p={createEntity:u.JP};n.Z=(0,r.connect)((function(e){var n=e.reportProbleme,t=e.user;return{loading:n.loadingEntity,entity:n.entity,addSuccess:n.addSuccess,isAuthenticated:t.isAuthenticated,currentUser:t.currentUser}}),p)((function(e){var n=(0,f.TA)({initialValues:h,validationSchema:x,onSubmit:function(n){e.isAuthenticated&&e.createEntity(n)}});return i.useEffect((function(){e.addSuccess&&n.resetForm()}),[e.addSuccess]),(0,v.jsx)(o.Z,{children:(0,v.jsx)("form",{onSubmit:n.handleSubmit,children:(0,v.jsx)(s.Z,{children:(0,v.jsxs)(d.Z,{children:[(0,v.jsxs)(o.Z,{sx:{display:"flex",alignItems:"flex-end"},children:[(0,v.jsx)(a.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,v.jsx)(l.Z,{id:"content",name:"content",label:"Declarer votre probleme",variant:"standard",fullWidth:!0,multiline:!0,value:n.values.content,onChange:n.handleChange,error:n.touched.content&&Boolean(n.errors.content),rows:4})]}),n.touched.content&&Boolean(n.errors.content)?(0,v.jsx)(o.Z,{className:"red-color",children:n.errors.content}):null,(0,v.jsx)(o.Z,{sx:{display:"flex",alignItems:"flex-end"},children:(0,v.jsx)(c.Z,{variant:"outlined",size:"small",fullWidth:!0,sx:{mt:2},color:"neutral",type:"submit",children:"Declarer"})})]})})})})}))},66810:function(e,n,t){t.d(n,{_:function(){return h}});var i=t(20890),o=t(12052),r=t(10703),l=t(13400),a=t(35585),s=t(85818),d=t(42419),c=t(98530),u=t(72791),f=t(92506),m=t(84516),v=t(80184),x=m.uN;function h(e){var n=e.parentCallChangeQuantity,t=e.defaultValue,h=(0,f.TA)({initialValues:x,validationSchema:m.cS,onSubmit:function(e){}});u.useEffect((function(){t&&h.setFieldValue("quantity",t)}),[t]);var p=function(e,t){e.stopPropagation(),"+"===t&&h.values.quantity<100?(h.setFieldValue("quantity",h.values.quantity+1),n(h.values.quantity+1)):h.values.quantity>1&&(h.setFieldValue("quantity",h.values.quantity-1),n(h.values.quantity-1))};return(0,v.jsxs)(c.Z,{children:[(0,v.jsxs)(i.Z,{variant:"subtitle2",color:"text.secondary",display:"flex",children:[(0,v.jsx)(o.Z,{fontSize:"small",sx:{mr:.9}}),"Quantit\xe9"]}),(0,v.jsxs)(r.Z,{sx:{p:"2px 4px",display:"flex",alignItems:"center",width:150},children:[(0,v.jsx)(l.Z,{sx:{p:"10px"},"aria-label":"menu",onClick:function(e){return p(e,"-")},children:(0,v.jsx)(a.Z,{})}),(0,v.jsx)(s.ZP,{sx:{ml:1,flex:1},placeholder:"1",inputProps:{"aria-label":"1"},type:"number",value:h.values.quantity,onChange:h.handleChange}),(0,v.jsx)(l.Z,{sx:{p:"10px"},"aria-label":"directions",onClick:function(e){return p(e,"+")},children:(0,v.jsx)(d.Z,{})})]})]})}},23968:function(e,n,t){t.d(n,{wY:function(){return S}});var i,o=t(1413),r=t(45987),l=t(72791),a=t(15671),s=t(43144),d=t(97326),c=t(60136),u=t(29388),f=t(58105),m=t(35500),v=t(80184),x=["children","loadEagerly","observerProps","experimentalDecode","debounceDurationMs","debugActions"];!function(e){e.NotAsked="NotAsked",e.Loading="Loading",e.LoadSuccess="LoadSuccess",e.LoadError="LoadError"}(i||(i={}));var h=(0,m.unionize)({NotAsked:{},Buffering:{},Loading:{},LoadSuccess:{},LoadError:(0,m.ofType)()}),p=(0,m.unionize)({ViewChanged:(0,m.ofType)(),BufferingEnded:{},LoadSuccess:{},LoadError:(0,m.ofType)()}),g=function(e,n){return function(t){var i=C(b(e,n));i.promise.then((function(e){return t.update(p.LoadSuccess({}))})).catch((function(e){e.isCanceled||t.update(p.LoadError({msg:"Failed to load"}))})),t.promiseCache.loading=i}},j=function(e){e.promiseCache.buffering.cancel()},Z=function(e){(0,c.Z)(t,e);var n=(0,u.Z)(t);function t(e){var i;return(0,a.Z)(this,t),(i=n.call(this,e)).promiseCache={},i.initialState=h.NotAsked(),i.state=i.initialState,i.update=i.update.bind((0,d.Z)(i)),i}return(0,s.Z)(t,[{key:"update",value:function(e){var n=this,i=t.reducer(e,this.state,this.props),o=i.nextState,r=i.cmd;this.props.debugActions&&(console.warn('You are running LazyImage with debugActions="true" in production. This might have performance implications.'),console.log({action:e,prevState:this.state,nextState:o})),this.setState(o,(function(){return r&&r(n)}))}},{key:"componentWillUnmount",value:function(){this.promiseCache.loading&&this.promiseCache.loading.cancel(),this.promiseCache.buffering&&this.promiseCache.buffering.cancel(),this.promiseCache={}}},{key:"render",value:function(){var e=this,n=this.props,t=n.children,l=n.loadEagerly,a=n.observerProps,s=(n.experimentalDecode,n.debounceDurationMs,n.debugActions,(0,r.Z)(n,x));return l?t({imageState:h.LoadSuccess().tag,imageProps:s}):(0,v.jsx)(f.ZP,(0,o.Z)((0,o.Z)({rootMargin:"50px 0px",threshold:.01},a),{},{onChange:function(n){return e.update(p.ViewChanged({inView:n}))},children:function(n){var o=n.ref;return t({imageState:"Buffering"===e.state.tag?i.Loading:e.state.tag,imageProps:s,ref:o})}}))}}],[{key:"reducer",value:function(e,n,t){return p.match(e,{ViewChanged:function(e){return!0===e.inView?t.src?h.match(n,{NotAsked:function(){return t.debounceDurationMs?{nextState:h.Buffering(),cmd:(e=t.debounceDurationMs,function(n){var t=C(y(e));t.promise.then((function(){return n.update(p.BufferingEnded())})).catch((function(e){})),n.promiseCache.buffering=t})}:{nextState:h.Loading(),cmd:g(t,t.experimentalDecode)};var e},default:function(){return{nextState:n}}}):{nextState:h.LoadSuccess()}:h.match(n,{Buffering:function(){return{nextState:h.NotAsked(),cmd:j}},default:function(){return{nextState:n}}})},BufferingEnded:function(){return{nextState:h.Loading(),cmd:g(t,t.experimentalDecode)}},LoadSuccess:function(){return{nextState:h.LoadSuccess()}},LoadError:function(e){return{nextState:h.LoadError(e)}}})}}]),t}(l.Component);Z.displayName="LazyImageFull";var b=function(e){var n=e.src,t=e.srcSet,i=e.alt,o=e.sizes,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(e,l){var a=new Image;if(t&&(a.srcset=t),i&&(a.alt=i),o&&(a.sizes=o),a.src=n,r&&"decode"in a)return a.decode().then((function(n){return e(n)})).catch((function(e){return l(e)}));a.onload=e,a.onerror=l}))},y=function(e){return new Promise((function(n){return setTimeout(n,e)}))},C=function(e){var n=!1;return{promise:new Promise((function(t,i){e.then((function(e){return n?i({isCanceled:!0}):t(e)})).catch((function(e){return i(n?{isCanceled:!0}:e)}))})),cancel:function(){n=!0}}},_=["actual","placeholder","loading","error"],S=function(e){var n=e.actual,t=e.placeholder,l=e.loading,a=e.error,s=(0,r.Z)(e,_);return(0,v.jsx)(Z,(0,o.Z)((0,o.Z)({},s),{},{children:function(e){var o=e.imageState,r=e.imageProps,s=e.ref;switch(o){case i.NotAsked:return!!t&&t({imageProps:r,ref:s});case i.Loading:return l?l():!!t&&t({imageProps:r,ref:s});case i.LoadSuccess:return n({imageProps:r});case i.LoadError:return a?a():n({imageProps:r})}}}))};S.displayName="LazyImage"},95218:function(e,n,t){var i;t.d(n,{t:function(){return i}}),function(e){e.direct="ContactDirect",e.perCommmande="PerCommande"}(i||(i={}))},25467:function(e,n,t){var i,o,r,l;t.d(n,{dJ:function(){return i},b1:function(){return o},DO:function(){return r},iU:function(){return l}}),function(e){e.Sell="SellOffer",e.Rent="RentOffer",e.Find="FindOffer"}(i||(i={})),function(e){e.PerYear="PerYear",e.PerMonth="PerMonth",e.PerDay="PerDay"}(o||(o={})),function(e){e.Carpooling="Carpooling",e.Travels="Travels",e.Transporter="Transporter",e.Job="Job"}(r||(r={})),function(e){e.List="LIST",e.Grid="GRID"}(l||(l={}))},52028:function(e,n,t){t.d(n,{p:function(){return r}});t(72791);var i=t(73817),o=t(80184),r=function(e,n){return e&&e.convertDate?(0,o.jsx)(i.Z,{date:new Date(e.convertDate),locale:"fr-FR"}):(0,o.jsx)(o.Fragment,{})}},4103:function(e,n,t){t.d(n,{j:function(){return r}});var i=t(20033),o=t(94973),r=(0,i.ZP)(o.Z)((function(e){var n=e.theme;return{"& .MuiBadge-badge":{backgroundColor:n.palette.success,color:n.palette.success,boxShadow:"0 0 0 2px ".concat(n.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))},42192:function(e,n,t){t.d(n,{P:function(){return a}});var i=t(1413),o=t(72791),r=t(55931),l=t(80184),a=o.forwardRef((function(e,n){return(0,l.jsx)(r.Z,(0,i.Z)({direction:"up",ref:n},e))}))}}]);
//# sourceMappingURL=181.d67876c3.chunk.js.map