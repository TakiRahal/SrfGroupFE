"use strict";(self.webpackChunksrf_group=self.webpackChunksrf_group||[]).push([[501],{68542:function(e,n,t){t.r(n),t.d(n,{DetailsOffer:function(){return Je},default:function(){return Ve}});var i=t(1413),o=t(29439),r=t(47313),l=t(1084),s=t(29588),a=t(61750),d=t(63830),c=t(57632),u=t(43265),f=t(9019),m=t(3404),v=t(28303),x=t(55476),h=t(61113),p=t(85281),j=t(57829),g=t(73428),Z=t(93405),b=t(48757),C=t(47196),y=t(76600),k=t(72106),S=t(10189),E=t(58843),_=t(56104),O=t(24193),U=t(1065),A=t(47131),L=t(12210),D=t(80509),P=t(14885),R=(t(83151),t(9963),t(49946),t(1374),t(15671)),w=t(43144),N=t(97326),F=t(60136),I=t(29388),T=t(68278),B=(t(49640),t(46417)),M=["//placekitten.com/1500/500","//placekitten.com/4000/3000","//placekitten.com/800/1200","//placekitten.com/1500/1500"],z={images:M,thumbs:["//placekitten.com/4000/3000","https://source.unsplash.com/random","https://source.unsplash.com/random","https://source.unsplash.com/random"],titles:["",(0,B.jsxs)("span",{children:["by\xa0",(0,B.jsx)("a",{className:"creditLink",href:"http://flickr.com/photos/titrans/",children:"quatre mains"}),"\xa0 (",(0,B.jsx)("a",{className:"creditLink",href:"http://creativecommons.org/licenses/by/2.0/",title:"Attribution License",children:"Some rights reserved"}),")"]}),(0,B.jsxs)("span",{children:["by\xa0",(0,B.jsx)("a",{className:"creditLink",href:"http://flickr.com/photos/lachlanrogers/",children:"latch.r"}),"\xa0 (",(0,B.jsx)("a",{className:"creditLink",href:"http://creativecommons.org/licenses/by-sa/2.0/",title:"Attribution-ShareAlike License",children:"Some rights reserved"}),")"]}),(0,B.jsxs)("span",{children:["by\xa0",(0,B.jsx)("a",{className:"creditLink",href:"http://flickr.com/photos/fazen/",children:"fazen"}),"\xa0 (",(0,B.jsx)("a",{className:"creditLink",href:"http://creativecommons.org/licenses/by/2.0/",title:"Attribution License",children:"Some rights reserved"}),")"]})],captions:["Cat in the snow","",(0,B.jsxs)("p",{children:[".. not in the\xa0",(0,B.jsx)("em",{children:"mood"}),"\xa0for games right now",(0,B.jsx)("br",{}),"...",(0,B.jsx)("br",{}),"...",(0,B.jsx)("br",{}),"...",(0,B.jsx)("br",{}),"...",(0,B.jsx)("br",{}),"...",(0,B.jsx)("br",{}),"...",(0,B.jsx)("br",{}),"C'mon. Seriously."]}),""]},q=function(e){(0,F.Z)(t,e);var n=(0,I.Z)(t);function t(e){var i;return(0,R.Z)(this,t),(i=n.call(this,e)).state={index:0,isOpen:!1},i.openLightbox=i.openLightbox.bind((0,N.Z)(i)),i.closeLightbox=i.closeLightbox.bind((0,N.Z)(i)),i.moveNext=i.moveNext.bind((0,N.Z)(i)),i.movePrev=i.movePrev.bind((0,N.Z)(i)),i}return(0,w.Z)(t,[{key:"openLightbox",value:function(){this.setState({isOpen:!0})}},{key:"closeLightbox",value:function(){this.setState({isOpen:!1}),this.props.callbackClose()}},{key:"moveNext",value:function(){this.setState((function(e){return{index:(e.index+1)%M.length}}))}},{key:"movePrev",value:function(){this.setState((function(e){return{index:(e.index+M.length-1)%M.length}}))}},{key:"render",value:function(){var e;return this.props.openLightBox&&(e=(0,B.jsx)(T.Z,{mainSrc:z.images[this.state.index],nextSrc:z.images[(this.state.index+1)%M.length],prevSrc:z.images[(this.state.index+M.length-1)%M.length],mainSrcThumbnail:z.thumbs[this.state.index],nextSrcThumbnail:z.thumbs[(this.state.index+1)%M.length],prevSrcThumbnail:z.thumbs[(this.state.index+M.length-1)%M.length],onCloseRequest:this.closeLightbox,onMovePrevRequest:this.movePrev,onMoveNextRequest:this.moveNext,onImageLoadError:t.onImageLoadError,imageTitle:z.titles[this.state.index],imageCaption:z.captions[this.state.index]})),(0,B.jsx)("div",{children:e})}}],[{key:"onImageLoadError",value:function(){}}]),t}(r.Component);function W(e){var n=r.useState(null),t=(0,o.Z)(n,2),i=t[0],l=t[1],s=r.useState(!1),a=(0,o.Z)(s,2),d=a[0],c=a[1];return e&&e.offerImages&&e.offerImages.length>0?(0,B.jsxs)(j.Z,{children:[(0,B.jsx)(q,{openLightBox:d,callbackClose:function(){c(!1)}}),(0,B.jsxs)(g.Z,{sx:{mb:2},children:[(0,B.jsx)(L.tq,{spaceBetween:10,navigation:!0,pagination:{clickable:!0},thumbs:{swiper:i},zoom:!0,lazy:!0,effect:"fade",loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},className:"mySwiper2",children:e.offerImages.map((function(n,t){return(0,B.jsx)(L.o5,{children:(0,B.jsx)("div",{className:"swiper-zoom-container",children:(0,B.jsx)("img",{src:(0,P.Ce)(e.id,n.path),onClick:function(){return c(!0)}})})},n.id)}))}),(0,B.jsx)(L.tq,{onSwiper:l,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,className:"mySwiper",children:e.offerImages.map((function(n,t){return(0,B.jsx)(L.o5,{children:(0,B.jsx)("img",{src:(0,P.Ce)(e.id,n.path)})},n.id)}))})]})]}):null}D.ZP.use([D.pt,D.xW,D.oM,D.LG,D.W_,D.o3]);var J=t(48310),H=t(67216),V=t(32600),Y=t(48119),Q=t(83213),G=t(19536),K=t(24631),$=t(32703),X=t(51997),ee=t(13827),ne=t(79429),te=t(94469),ie=t(33604),oe=t(96467),re=t(97762),le=t(4117),se=t(28089),ae=se.Ry({content:se.Z_().required("Type Offer is required")}),de=se.Ry({fullName:se.Z_().required("Message is required"),email:se.Z_().email().required("email_is_required"),content:se.Z_().required("Message is required")}),ce=t(18040),ue=t(33381),fe=t(24511),me={content:""};function ve(e){var n,t=e.offerEntity,i=e.listCommentsByOffer,l=e.account,s=e.isAuthenticated,a=e.loadingListComments,d=e.loadingUpdateEntity,c=e.loadingAddEntity,u=e.parentCallbackAddComment,f=e.parentCallbackDeleteComment,m=e.parentCallbackUpdateComment,v=e.parentCallbackReportComment,x=e.parentCallbackLoadMoreComments,g=e.totalItems,Z=r.useState(-1),b=(0,o.Z)(Z,2),C=b[0],k=b[1],S=r.useState(-1),E=(0,o.Z)(S,2),_=E[0],L=E[1],D=r.useState(!1),R=(0,o.Z)(D,2),w=R[0],N=R[1],F=r.useState(!1),I=(0,o.Z)(F,2),T=I[0],M=I[1],z=r.useState(ce.L),q=(0,o.Z)(z,2),W=q[0],K=q[1],$=(0,fe.$)().t,ne=function(e,n){m(e,n),L(-1)},se=r.useState(!1),ae=(0,o.Z)(se,2),de=ae[0],me=ae[1],ve=function(){me(!1)},pe=function(){me(!1),f(C)},je=function(){L(-1)},ge=function(){M(!1)},Ze=function(){M(!1),v(W)};return(0,B.jsxs)(j.Z,{children:[(0,B.jsxs)(J.Z,{sx:{bgcolor:"background.paper",mt:2},children:[(0,B.jsxs)(j.Z,{children:[g>0?(0,B.jsx)(H.ZP,{alignItems:"flex-start",button:!0,onClick:function(){return N(!w)},children:(0,B.jsx)(Q.Z,{children:(0,B.jsx)(h.Z,{variant:"subtitle1",component:"a",color:"text.secondary",sx:{mt:1},children:(0,B.jsxs)("u",{children:[$(w?"comment_offer.hide_comment_details_offer":"comment_offer.show_comment_details_offer"),"(",g,")"]})})})}):null,w?(0,B.jsxs)(j.Z,{children:[i.map((function(e,n){var i,o,a,c,u,f,m,v;return(0,B.jsxs)("div",{children:[(0,B.jsxs)(H.ZP,{alignItems:"flex-start",secondaryAction:(0,B.jsxs)("div",{children:[s&&(null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.id)===l.id?(0,B.jsx)(A.Z,{edge:"end","aria-label":"edit",color:"success",onClick:function(){return n=e.id||-1,void L(n);var n},sx:{mr:.5},children:(0,B.jsx)(ee.Z,{})}):null,!s||(null===t||void 0===t||null===(o=t.user)||void 0===o?void 0:o.id)!==l.id&&(null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.id)!==l.id?null:(0,B.jsx)(A.Z,{edge:"end","aria-label":"delete",color:"error",onClick:function(){return n=e.id||-1,k(n),void me(!0);var n},children:(0,B.jsx)(X.Z,{})}),s&&(null===e||void 0===e||null===(c=e.user)||void 0===c?void 0:c.id)!==l.id?(0,B.jsx)(A.Z,{edge:"end","aria-label":"report",onClick:function(){return function(e){K(e),M(!0)}(e)},sx:{mr:.5},children:(0,B.jsx)(U.Z,{})}):null]}),children:[(0,B.jsx)(V.Z,{children:(0,B.jsx)(Y.Z,{alt:"Avatar",src:(0,P.Dm)(null===(u=e.user)||void 0===u?void 0:u.id,null===(f=e.user)||void 0===f?void 0:f.imageUrl,null===(m=e.user)||void 0===m?void 0:m.sourceRegister),sx:{border:"1px solid #b9b9b9"},children:null===(v=(0,P.QD)(null===e||void 0===e?void 0:e.user))||void 0===v?void 0:v.charAt(0)})}),(0,B.jsx)(Q.Z,{primary:(0,P.QD)(null===e||void 0===e?void 0:e.user),secondary:(0,B.jsxs)(r.Fragment,{children:[(0,B.jsx)(h.Z,{sx:{display:"block"},component:"span",variant:"body2",color:"text.primary",children:(0,B.jsx)(y.p,{convertDate:e.createdDate})}),_!==e.id?e.content:null]})})]}),_===e.id?(0,B.jsx)(j.Z,{sx:{mr:2,ml:9},children:(0,B.jsx)(he,{parentCallbackUpdateComment:function(n){return ne(n,e.id||-1)},parentCallbackCancelUpdateComment:je,defaultValueUpdate:e.content,loadingUpdateEntity:d})}):null,(0,B.jsx)(G.Z,{variant:"inset",component:"li"})]},"comment-".concat(n))})),a?(0,B.jsx)(j.Z,{sx:{display:"flex",justifyContent:"center",m:2},children:(0,B.jsx)(p.Z,{color:"inherit"})}):null,g>i.length?(0,B.jsx)(H.ZP,{alignItems:"center",button:!0,onClick:function(){return x()},children:(0,B.jsx)(Q.Z,{children:(0,B.jsx)(h.Z,{variant:"subtitle1",component:"h5",color:"text.secondary",sx:{mt:1,textAlign:"center"},children:(0,B.jsx)("u",{children:$("comment_offer.show_more_comment")})})})}):null]}):null]}),(0,B.jsxs)(H.ZP,{alignItems:"flex-start",children:[(0,B.jsx)(V.Z,{children:(0,B.jsx)(Y.Z,{alt:l.imageUrl,src:(0,P.Dm)(l.id,l.imageUrl,null===l||void 0===l?void 0:l.sourceRegister),sx:{border:"1px solid #b9b9b9"},children:null===(n=(0,P.QD)(l))||void 0===n?void 0:n.charAt(0)})}),(0,B.jsx)(Q.Z,{children:(0,B.jsx)(xe,{parentCallbackAddComment:function(e){u(e)},loadingAddEntity:c})})]})]}),(0,B.jsx)("div",{children:(0,B.jsxs)(te.Z,{open:de,TransitionComponent:ue.P,keepMounted:!0,onClose:ve,"aria-describedby":"alert-dialog-slide-description",children:[(0,B.jsx)(ie.Z,{children:"Confirm delete operation"}),(0,B.jsx)(oe.Z,{children:(0,B.jsx)(re.Z,{id:"alert-dialog-slide-description",children:"Are you sure you want to delete this CommentOffer?"})}),(0,B.jsxs)(le.Z,{children:[(0,B.jsx)(O.Z,{onClick:ve,children:"Cancel"}),(0,B.jsx)(O.Z,{onClick:pe,color:"error",children:"Delete"})]})]})}),(0,B.jsx)("div",{children:(0,B.jsxs)(te.Z,{open:T,TransitionComponent:ue.P,keepMounted:!0,onClose:ge,"aria-describedby":"alert-dialog-slide-description",children:[(0,B.jsx)(ie.Z,{children:"Repoprt comment offer"}),(0,B.jsx)(oe.Z,{children:(0,B.jsx)(re.Z,{id:"alert-dialog-slide-description",children:"Do you want report this comment offer !"})}),(0,B.jsxs)(le.Z,{children:[(0,B.jsx)(O.Z,{onClick:ge,children:"Cancel"}),(0,B.jsx)(O.Z,{color:"success",onClick:Ze,children:"Report"})]})]})})]})}function xe(e){var n=e.parentCallbackAddComment,t=e.loadingAddEntity,i=(0,fe.$)().t,o=(0,ne.TA)({initialValues:me,validationSchema:ae,onSubmit:function(e){n(e.content),o.setFieldValue("content","")}});return(0,B.jsx)(r.Fragment,{children:(0,B.jsxs)("form",{onSubmit:o.handleSubmit,children:[(0,B.jsx)(K.Z,{id:"content",name:"content",label:i("comment_offer.label_add_comment"),value:o.values.content,onChange:o.handleChange,multiline:!0,fullWidth:!0,maxRows:4}),(0,B.jsx)($.Z,{loading:t,variant:"outlined",size:"small",type:"submit",disabled:!o.values.content,sx:{my:1},color:"neutral",children:i("comment_offer.label_comment")})]})})}function he(e){var n=e.parentCallbackUpdateComment,t=e.parentCallbackCancelUpdateComment,i=e.defaultValueUpdate,l=e.loadingUpdateEntity,s=r.useState(i),a=(0,o.Z)(s,2),d=a[0],c=(a[1],(0,ne.TA)({initialValues:me,validationSchema:ae,onSubmit:function(e){n(e.content)}}));(0,r.useEffect)((function(){c.setFieldValue("content",i)}),[]);return(0,B.jsx)(r.Fragment,{children:(0,B.jsxs)("form",{onSubmit:c.handleSubmit,children:[(0,B.jsx)(K.Z,{id:"content",name:"content",label:"Add comment",value:c.values.content,onChange:c.handleChange,multiline:!0,fullWidth:!0,maxRows:4}),(0,B.jsxs)(j.Z,{sx:{my:1},children:[(0,B.jsx)($.Z,{loading:!1,variant:"outlined",size:"small",type:"button",sx:{mr:1},color:"neutral",onClick:function(){t(d)},children:"Cancel"}),(0,B.jsx)($.Z,{loading:l,variant:"outlined",size:"small",type:"submit",disabled:!c.values.content,color:"success",children:"Update"})]})]})})}var pe=t(54641),je=t(11069),ge=t(46845),Ze=t(6306),be=t(14281),Ce=t(65053),ye=t(56199),ke=t(30040),Se=t(76937),Ee=t(77607),_e=t(89840),Oe=t(45522),Ue=t.n(Oe),Ae=t(87328),Le=t(64776),De=t.n(Le),Pe=function(e){(0,F.Z)(t,e);var n=(0,I.Z)(t);function t(e){return(0,R.Z)(this,t),n.call(this,e)}return(0,w.Z)(t,[{key:"render",value:function(){return(0,P.KB)()?(0,B.jsx)(De(),{url:this.props.url,quote:"quote",children:this.props.children}):(0,B.jsx)(Ae.u,{data:{text:"Like humans, flamingos make friends for life",url:this.props.url,title:"Flamingos"},onClick:function(){return console.log("shared successfully!")},children:this.props.children})}}]),t}(r.Component),Re={fullName:"",email:"",content:""};function we(e){var n,t,l,s,a,c,u,m,v,p,b,C,y=e.offerEntity,k=e.parentCallback,S=e.currentUser,E=e.isAuthenticated,U=e.myFavoriteUser,L=e.createConversationCallback,D=e.addSuccessConversation,R=r.useState(),w=(0,o.Z)(R,2),N=w[0],F=w[1],I=(0,d.k6)(),T=(0,fe.$)().t,M=(0,ne.TA)({initialValues:Re,validationSchema:de,onSubmit:function(e){var n;S.id!==(null===y||void 0===y||null===(n=y.user)||void 0===n?void 0:n.id)&&E&&(F(e),z(e.content))}});r.useEffect((function(){Ue()(S)||(M.setFieldValue("fullName",(0,P.QD)(S)),M.setFieldValue("email",S.email))}),[S]),r.useEffect((function(){D&&M.resetForm({values:(0,i.Z)((0,i.Z)({},N),{},{content:""})})}),[D]);var z=function(e){var n,t,i={content:e,conversation:{dateCreated:(0,P.uJ)(new Date),senderUser:null,receiverUser:{id:null===y||void 0===y||null===(n=y.user)||void 0===n?void 0:n.id,email:null===y||void 0===y||null===(t=y.user)||void 0===t?void 0:t.email}}};L(i)},q=r.useState(!1),W=(0,o.Z)(q,2),J=W[0],H=W[1],V=function(e){e.stopPropagation(),U||H(!0)},Q=function(){H(!1)},G=function(){var e;H(!1),k(null===y||void 0===y||null===(e=y.user)||void 0===e?void 0:e.id)},$=function(e){setTimeout((function(){I.push(x.H.PROFILE+"/"+e)}),300)},X=function(){return U?"red":"color: rgba(0, 0, 0, 0.54)"};return(0,B.jsxs)(f.ZP,{item:!0,xs:12,sm:12,children:[(0,B.jsxs)(g.Z,{children:[(0,B.jsx)(h.Z,{paragraph:!0,sx:{m:2},children:T("details_offer.about_seller")}),(0,B.jsx)(_e.Z,{onClick:function(){var e;return $(null===y||void 0===y||null===(e=y.user)||void 0===e?void 0:e.id)},sx:{display:"block"},children:(0,B.jsx)(pe.Z,{avatar:y?(0,B.jsx)(Y.Z,{"aria-label":"recipe",alt:null===(n=y.user)||void 0===n?void 0:n.imageUrl,src:(0,P.Dm)(null===(t=y.user)||void 0===t?void 0:t.id,null===(l=y.user)||void 0===l?void 0:l.imageUrl,null===(s=y.user)||void 0===s?void 0:s.sourceRegister),sx:{border:"1px solid #b9b9b9"},children:null===(a=(0,P.QD)(null===y||void 0===y?void 0:y.user))||void 0===a?void 0:a.charAt(0)}):null,action:(0,B.jsx)(A.Z,{"aria-label":"settings",sx:{color:X()},onClick:function(e){return V(e)},disabled:(null===y||void 0===y||null===(c=y.user)||void 0===c?void 0:c.id)===(null===S||void 0===S?void 0:S.id),children:(0,B.jsx)(je.Z,{})}),title:(0,B.jsx)(r.Fragment,{children:(0,P.QD)(null===y||void 0===y?void 0:y.user)}),subheader:null===y||void 0===y||null===(u=y.user)||void 0===u?void 0:u.email,onClick:function(){var e;return $(null===y||void 0===y||null===(e=y.user)||void 0===e?void 0:e.id)},role:"button"})}),null!==y&&void 0!==y&&null!==(m=y.user)&&void 0!==m&&m.address?(0,B.jsx)(Z.Z,{children:(0,B.jsxs)(h.Z,{variant:"body2",color:"text.secondary",children:[null===y||void 0===y||null===(v=y.user)||void 0===v?void 0:v.address.city,", ",null===y||void 0===y||null===(p=y.user)||void 0===p?void 0:p.address.country]})}):null,(0,B.jsxs)(_.Z,{disableSpacing:!0,sx:{backgroundColor:"rgba(0, 0, 0, 0.74);"},children:[(0,B.jsx)(A.Z,{"aria-label":"add to favorites",sx:{color:X()},onClick:V,disabled:(null===y||void 0===y||null===(b=y.user)||void 0===b?void 0:b.id)===(null===S||void 0===S?void 0:S.id),children:(0,B.jsx)(je.Z,{})}),(0,B.jsx)(Pe,{url:"https://github.com/nygardk/react-share/blob/master/demo/Demo.tsx",children:(0,B.jsx)(j.Z,{sx:{color:"#fff"},children:(0,B.jsx)(ge.Z,{})})}),(0,B.jsx)(A.Z,{sx:{marginLeft:"auto",color:"#fff"},onClick:function(){},children:(0,B.jsx)(Ze.Z,{})})]}),(0,B.jsxs)(f.ZP,{container:!0,item:!0,sx:{mt:3},children:[(0,B.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,B.jsx)(j.Z,{sx:{"& > :not(style)":{m:1}},children:(0,B.jsxs)("form",{onSubmit:M.handleSubmit,children:[(0,B.jsx)(h.Z,{paragraph:!0,className:"text-center",children:T("details_offer.send_message")}),(0,B.jsxs)(j.Z,{sx:{display:"flex",alignItems:"flex-end"},children:[(0,B.jsx)(be.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,B.jsx)(K.Z,{id:"fullName",name:"fullName",label:T("common.label_name"),variant:"standard",fullWidth:!0,disabled:!(M.touched.fullName&&Boolean(M.errors.fullName)),value:M.values.fullName,onChange:M.handleChange,error:M.touched.fullName&&Boolean(M.errors.fullName)})]}),(0,B.jsxs)(j.Z,{sx:{display:"flex",alignItems:"flex-end",my:2},children:[(0,B.jsx)(Ce.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,B.jsx)(K.Z,{id:"email",name:"email",label:T("common.label_email"),variant:"standard",fullWidth:!0,disabled:!(M.touched.email&&Boolean(M.errors.email)),value:M.values.email,onChange:M.handleChange,error:M.touched.email&&Boolean(M.errors.email)})]}),(0,B.jsxs)(j.Z,{sx:{display:"flex",alignItems:"flex-end"},children:[(0,B.jsx)(ye.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,B.jsx)(K.Z,{id:"content",name:"content",label:"Message",variant:"standard",fullWidth:!0,multiline:!0,rows:4,value:M.values.content,onChange:M.handleChange,error:M.touched.content&&Boolean(M.errors.content)})]}),(0,B.jsx)(j.Z,{sx:{display:"flex",alignItems:"flex-end"},children:(0,B.jsx)(O.Z,{variant:"outlined",size:"small",fullWidth:!0,sx:{mt:2,mb:2},color:"neutral",type:"submit",disabled:S.id===(null===y||void 0===y||null===(C=y.user)||void 0===C?void 0:C.id),children:T("common.label_send")})})]})})}),(0,B.jsxs)(f.ZP,{item:!0,xs:12,sm:6,sx:{p:2,borderLeft:"1px solid #cfcbcb;"},children:[(0,B.jsx)(h.Z,{paragraph:!0,className:"text-center",children:T("details_offer.contact_with")}),(0,B.jsx)(O.Z,{variant:"outlined",startIcon:(0,B.jsx)(ke.Z,{}),fullWidth:!0,sx:{mt:3},children:"Facebook"}),(0,B.jsx)(O.Z,{variant:"outlined",startIcon:(0,B.jsx)(Se.Z,{}),fullWidth:!0,sx:{mt:3},children:T("details_offer.show_number")}),(0,B.jsx)(O.Z,{variant:"outlined",startIcon:(0,B.jsx)(Se.Z,{}),fullWidth:!0,sx:{mt:3},children:T("details_offer.send_email")})]})]})]}),(0,B.jsxs)(f.ZP,{container:!0,item:!0,spacing:2,sx:{mt:1},children:[(0,B.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,B.jsx)(g.Z,{children:(0,B.jsxs)(Z.Z,{children:[(0,B.jsx)(h.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"D\xe9couvrir le quartier"}),(0,B.jsx)("div",{style:{maxHeight:400,marginTop:30},children:(0,B.jsx)(Ee.w,{className:"img-fluid",src:"".concat((0,P.K1)("/assets/images/offer/details-offer/desktop-map-neighbourhood.ext.svg")),alt:"desktop-map-neighbourhood"})})]})})}),(0,B.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,B.jsx)(g.Z,{children:(0,B.jsxs)(Z.Z,{children:[(0,B.jsx)(h.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"D\xe9couvrir le quartier"}),(0,B.jsx)("div",{style:{maxHeight:400,marginTop:30},children:(0,B.jsx)(Ee.w,{className:"img-fluid",src:"".concat((0,P.K1)("/assets/images/offer/details-offer/desktop-time-of-travel-address.ext.svg")),alt:"desktop-time-of-travel-address"})})]})})})]}),(0,B.jsx)("div",{children:(0,B.jsxs)(te.Z,{open:J,TransitionComponent:ue.P,keepMounted:!0,onClose:Q,"aria-describedby":"alert-dialog-slide-description",children:[(0,B.jsx)(ie.Z,{children:T("details_offer.title_add_favrite_user")}),(0,B.jsx)(oe.Z,{children:(0,B.jsx)(re.Z,{id:"alert-dialog-slide-description",children:T("details_offer.description_add_favrite_user")})}),(0,B.jsxs)(le.Z,{children:[(0,B.jsx)(O.Z,{onClick:Q,color:"neutral",children:T("common.label_cancel")}),(0,B.jsx)(O.Z,{onClick:G,color:"success",children:T("common.label_favorite")})]})]})})]})}var Ne=t(66582),Fe=t(77429),Ie=t(64589),Te=t(33532),Be=t(35044),Me=t(12954),ze=t(41872),qe=t(98492),We=t(99956),Je=function(e){var n,t,l,s,a,L,D,R,w,N,F,I,T,M,z,q,J,H,V,Y,Q=r.useState(!1),G=(0,o.Z)(Q,2),K=G[0],$=G[1],X=r.useState(!1),ee=(0,o.Z)(X,2),ne=ee[0],se=ee[1],ae=r.useState(!1),de=(0,o.Z)(ae,2),ce=de[0],me=de[1],xe=r.useState(-1),he=(0,o.Z)(xe,2),pe=he[0],je=he[1],be=r.useState(!0),Ce=(0,o.Z)(be,2),ye=Ce[0],ke=Ce[1],Se=(0,d.UO)().id,Ee=(0,d.k6)(),_e=(0,fe.$)().t,Oe=e.resetAllFavoriteOfferUser,Ue=e.resetCommentOffer,Ae=e.getEntitywithFavorite,Le=e.updateComment,De=e.favoriteUserOffer,Re=e.loadingEntityFavoriteUserOffer,Ne=e.isAuthenticated,Fe=e.getListCommentsByOffer,Ie=e.loadingCommentsByOffer,Me=e.listCommentsByOffer,Je=e.account,He=e.loadingUpdateEntity,Ve=e.addSuccessComment,Ye=e.updateSuccessComment,Qe=e.addSuccessFavoriteUser,Ge=e.createEntityFavoriteUser,Ke=e.loadingAddComment,$e=e.totalItemsCommentsByOffer,Xe=e.deleteSuccessComment,en=e.deleteComment;r.useEffect((function(){Oe()}),[]),r.useEffect((function(){var e;null!==De&&void 0!==De&&null!==(e=De.offer)&&void 0!==e&&e.id||!Se||(Ae(Se),je(0))}),[De]),r.useEffect((function(){pe>=0&&Ne&&Fe(Number(Se),pe,Te.zb.COMMENTS_PER_PAGE,"")}),[pe]),r.useEffect((function(){De&&De.offer&&!Re&&setTimeout((function(){$(!0),se(De.myFavoriteUser||!1)}),100)}),[De]),r.useEffect((function(){if(Ve||Ye||Xe){var e;Ue();var n=(null===De||void 0===De||null===(e=De.offer)||void 0===e?void 0:e.id)||-1;Fe(n,0,20,"")}}),[Ve,Ye,Xe]),r.useEffect((function(){Qe&&se(!0)}),[Qe]);var nn=function(){me(!1)},tn=function(){me(!1);var n={offer:null===De||void 0===De?void 0:De.offer,user:{}};e.createEntityReportOffer(n)};return(0,B.jsxs)(j.Z,{children:[(0,B.jsx)(c.Z,{in:K,children:(0,B.jsxs)(u.Z,{maxWidth:"xl",className:"details-offer-client",children:[(0,B.jsx)(f.ZP,{container:!0,style:{paddingTop:10},children:(0,B.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,B.jsxs)(m.Z,{"aria-label":"breadcrumb",children:[(0,B.jsx)(v.rU,{color:"inherit",to:x.H.HOME,children:"SRF"}),(0,B.jsx)(v.rU,{color:"inherit",to:x.H.SEARCH,children:_e("common.label_search")}),(0,B.jsx)(h.Z,{color:"text.primary",children:null===De||void 0===De||null===(n=De.offer)||void 0===n?void 0:n.title})]})})}),Re?(0,B.jsx)(j.Z,{sx:{paddingTop:10,textAlign:"center"},children:(0,B.jsx)(p.Z,{color:"inherit"})}):(0,B.jsxs)(f.ZP,{container:!0,style:{paddingTop:50},children:[(0,B.jsxs)(f.ZP,{item:!0,xs:12,sm:6,children:[(0,B.jsx)(W,(0,i.Z)({},null===De||void 0===De?void 0:De.offer)),(0,B.jsxs)(g.Z,{sx:{mb:3},children:[(0,B.jsxs)(Z.Z,{children:[null!==De&&void 0!==De&&null!==(t=De.offer)&&void 0!==t&&t.amount?(0,B.jsxs)(h.Z,{variant:"h4",sx:{textAlign:"center",color:"red",fontWeight:600},children:["$ ",null===De||void 0===De||null===(l=De.offer)||void 0===l?void 0:l.amount," DT"]}):null,(0,B.jsxs)(h.Z,{variant:"subtitle2",color:"text.secondary",display:"flex",children:[(0,B.jsx)(C.Z,{fontSize:"small",sx:{mr:.9}}),(null===De||void 0===De||null===(s=De.offer)||void 0===s?void 0:s.typeOffer)===b.dJ.Sell?_e("common.for_sell"):(null===De||void 0===De||null===(a=De.offer)||void 0===a?void 0:a.typeOffer)===b.dJ.Rent?_e("common.for_rent"):(null===De||void 0===De||null===(L=De.offer)||void 0===L?void 0:L.typeOffer)===b.dJ.Find?_e("common.for_find"):null]}),null!==De&&void 0!==De&&null!==(D=De.offer)&&void 0!==D&&D.startDate&&null!==De&&void 0!==De&&null!==(R=De.offer)&&void 0!==R&&R.endDate?(0,B.jsxs)(j.Z,{children:[(0,B.jsxs)(h.Z,{color:"text.secondary",gutterBottom:!0,children:[_e("common.label_start_date")," ",(0,B.jsx)("strong",{children:(0,B.jsx)(y.p,{convertDate:null===De||void 0===De||null===(w=De.offer)||void 0===w?void 0:w.startDate})})]}),(0,B.jsxs)(h.Z,{color:"text.secondary",gutterBottom:!0,display:"flex",children:[_e("common.label_end_date")," ",(0,B.jsx)("strong",{children:(0,B.jsx)(y.p,{convertDate:null===De||void 0===De||null===(N=De.offer)||void 0===N?void 0:N.endDate})})]})]}):null,(0,B.jsx)(h.Z,{variant:"h5",component:"div",sx:{mt:2},children:null===De||void 0===De||null===(F=De.offer)||void 0===F?void 0:F.title}),(0,B.jsxs)(h.Z,{sx:{fontSize:"0.8rem",mt:1},color:"text.secondary",display:"flex",children:[(0,B.jsx)(k.Z,{fontSize:"small",sx:{mr:.9}})," ",(0,B.jsx)(y.p,{convertDate:null===De||void 0===De||null===(I=De.offer)||void 0===I?void 0:I.dateCreated})]}),null!==De&&void 0!==De&&null!==(T=De.offer)&&void 0!==T&&T.address?(0,B.jsxs)(h.Z,{sx:{mb:1.8,fontSize:"0.8rem",mt:1},color:"text.secondary",display:"flex",children:[(0,B.jsx)(S.Z,{fontSize:"small",sx:{mr:.9}}),null===De||void 0===De||null===(M=De.offer)||void 0===M||null===(z=M.address)||void 0===z?void 0:z.city,", ",null===De||void 0===De||null===(q=De.offer)||void 0===q||null===(J=q.address)||void 0===J?void 0:J.country]}):null,null!==De&&void 0!==De&&null!==(H=De.offer)&&void 0!==H&&H.category?(0,B.jsxs)(h.Z,{sx:{mb:1.8,fontSize:"0.8rem",mt:1},color:"text.secondary",display:"flex",children:[(0,B.jsx)(E.Z,{fontSize:"small",sx:{mr:.9}}),null===De||void 0===De||null===(V=De.offer)||void 0===V?void 0:V.category.titleEn]}):null,(0,B.jsxs)(We.Z,{sx:{mt:"40px !important"},elevation:0,expanded:ye,onChange:function(){ke(!ye)},children:[(0,B.jsx)(qe.Z,{expandIcon:(0,B.jsx)(Ze.Z,{sx:{backgroundColor:"yellow",borderRadius:"50%"}}),"aria-controls":"panel1a-content",id:"panel1a-header",className:"bg-brown",children:_e("details_offer.label_details_offer")}),(0,B.jsx)(ze.Z,{children:(0,B.jsx)("div",{dangerouslySetInnerHTML:{__html:(null===De||void 0===De||null===(Y=De.offer)||void 0===Y?void 0:Y.description)||""}})})]})]}),(0,B.jsxs)(_.Z,{disableSpacing:!0,children:[(0,B.jsx)(Pe,{url:"https://github.com/nygardk/react-share/blob/master/demo/Demo.tsx",children:(0,B.jsx)(ge.Z,{})}),(0,B.jsx)(A.Z,{sx:{marginLeft:"auto"},onClick:function(){me(!0)},children:(0,B.jsx)(U.Z,{})})]})]}),Ne?(0,B.jsx)(j.Z,{sx:{mb:3},children:(0,B.jsx)(ve,{offerEntity:null===De||void 0===De?void 0:De.offer,listCommentsByOffer:Me,account:Je,isAuthenticated:Ne,loadingListComments:Ie,loadingUpdateEntity:He,loadingAddEntity:Ke,parentCallbackAddComment:function(n){if(n){var t,i,o,r,l,s={createdDate:(0,P.uJ)(new Date),content:n,offer:{id:null===De||void 0===De||null===(t=De.offer)||void 0===t?void 0:t.id,user:{id:null===De||void 0===De||null===(i=De.offer)||void 0===i||null===(o=i.user)||void 0===o?void 0:o.id,email:null===De||void 0===De||null===(r=De.offer)||void 0===r||null===(l=r.user)||void 0===l?void 0:l.email}},user:{}};e.addCommentOffer(s),(0,Be.rJ)(Be.Yt.EventOffer.AddCommentOffer.eventName,Be.Yt.EventOffer.AddCommentOffer.eventCategory,Be.Yt.EventOffer.AddCommentOffer.eventLabel)}},parentCallbackDeleteComment:function(e){en(e)},parentCallbackUpdateComment:function(e,n){var t=Me.find((function(e){return e.id===n}));t=(0,i.Z)((0,i.Z)({},t),{},{content:e}),Le(t),(0,Be.rJ)(Be.Yt.EventOffer.UpdateCommentOffer.eventName,Be.Yt.EventOffer.UpdateCommentOffer.eventCategory,Be.Yt.EventOffer.UpdateCommentOffer.eventLabel)},parentCallbackReportComment:function(n){var t={commentOffer:n,user:{}};e.reportComment(t)},parentCallbackLoadMoreComments:function(){je(pe+1)},totalItems:$e})}):null]}),(0,B.jsx)(f.ZP,{container:!0,item:!0,xs:12,sm:6,sx:{pl:{xs:0,sm:4}},spacing:2,children:(0,B.jsx)(we,{parentCallback:function(e){var n,t;if(Ne){if((null===De||void 0===De||null===(n=De.offer)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.id)!==(null===Je||void 0===Je?void 0:Je.id)){var i,o,r,l,s={favoriteUser:{id:null===De||void 0===De||null===(i=De.offer)||void 0===i||null===(o=i.user)||void 0===o?void 0:o.id,username:null===De||void 0===De||null===(r=De.offer)||void 0===r||null===(l=r.user)||void 0===l?void 0:l.username},favoriteDate:(0,P.uJ)(new Date)};Ge(s)}}else Ee.push(x.H.LOGIN)},offerEntity:null===De||void 0===De?void 0:De.offer,currentUser:Je,isAuthenticated:Ne,myFavoriteUser:ne,createConversationCallback:function(n){e.createConversation(n)},addSuccessConversation:e.addSuccessConversation})})]})]})}),(0,B.jsxs)(te.Z,{open:ce,TransitionComponent:ue.P,keepMounted:!0,onClose:nn,"aria-describedby":"alert-dialog-slide-description",children:[(0,B.jsx)(ie.Z,{children:"Repoprt offer"}),(0,B.jsx)(oe.Z,{children:(0,B.jsx)(re.Z,{id:"alert-dialog-slide-description",children:"Do you want report this offer !"})}),(0,B.jsxs)(le.Z,{children:[(0,B.jsx)(O.Z,{onClick:nn,children:"Cancel"}),(0,B.jsx)(O.Z,{color:"success",onClick:tn,children:"Report"})]})]})]})},He={getEntitywithFavorite:a.ZQ,getListCommentsByOffer:s.x5,addCommentOffer:s.Be,createEntityFavoriteUser:Ne.JP,resetAllFavoriteOfferUser:a.mc,resetCommentOffer:s.mc,updateComment:s.i8,deleteComment:s.Ks,createEntityReportOffer:Ie.JP,reportComment:Fe.JP,createConversation:Me.Xw},Ve=(0,l.connect)((function(e){var n=e.user,t=e.offer,i=e.comment,o=e.favoriteUser,r=e.reportOffer,l=e.reportCommentOffer,s=e.conversation;return{isAuthenticated:n.isAuthenticated,account:n.currentUser,loadingEntityFavoriteUserOffer:t.loadingEntityWithFavoriteUser,favoriteUserOffer:t.entityWithFavoriteUser,loadingCommentsByOffer:i.loadingEntitiesByOffer,listCommentsByOffer:i.entitiesByOffer,loadingUpdateEntity:i.loadingUpdateEntity,loadingAddComment:i.loadingAddEntity,addSuccessComment:i.addSuccess,updateSuccessComment:i.updateSuccess,totalItemsCommentsByOffer:i.totalItemsEntitiesByOffer,loadingDeleteComment:i.loadingDeleteEntity,deleteSuccessComment:i.deleteSuccess,loadingEntityFavoriteUser:o.loadingEntity,entityFavoriteUser:o.entity,addSuccessFavoriteUser:o.addSuccess,addSuccessReportOffer:r.reportSuccess,loadingEntityReportOffer:r.loadingReportEntity,addSuccessReportCommentOffer:l.reportSuccess,loadingEntityReportCommentOffer:l.loadingReportEntity,addSuccessConversation:s.addSuccess}}),He)(Je)},48757:function(e,n,t){var i,o,r,l;t.d(n,{dJ:function(){return i},b1:function(){return o},DO:function(){return r},iU:function(){return l}}),function(e){e.Sell="SellOffer",e.Rent="RentOffer",e.Find="FindOffer"}(i||(i={})),function(e){e.PerYear="PER_YEAR",e.PerMonth="PER_MONTH",e.PerDay="PER_DAY"}(o||(o={})),function(e){e.Carpooling="Carpooling",e.Travels="Travels",e.Transporter="Transporter",e.Job="Job"}(r||(r={})),function(e){e.List="LIST",e.Grid="GRID"}(l||(l={}))},77607:function(e,n,t){t.d(n,{w:function(){return m}});var i,o=t(29439),r=t(30168),l=t(47313),s=t(49814),a=t(33532),d=t(14885),c=t(46417),u=(0,d.K1)(a.zb.DEFAULT_LAZY_IMAGE),f=s.ZP.img(i||(i=(0,r.Z)(["\n  // display: block;\n  height: 100%;\n  width: 100%;\n  // Add a smooth animation on loading\n  @keyframes loaded {\n    0% {\n      opacity: 0.1;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n  // I use utilitary classes instead of props to avoid style regenerating\n  &.loaded:not(.has-error) {\n    animation: loaded 300ms ease-in-out;\n  }\n  &.has-error {\n    // fallback to placeholder image on error\n    content: url(",");\n  }\n"])),u),m=function(e){var n=e.src,t=e.alt,i=e.className,r=l.useState(u),s=(0,o.Z)(r,2),a=s[0],d=s[1],m=l.useState(null),v=(0,o.Z)(m,2),x=v[0],h=v[1];return l.useEffect((function(){var e,t=!1;return x&&a!==n&&(IntersectionObserver?(e=new IntersectionObserver((function(i){i.forEach((function(i){!t&&(i.intersectionRatio>0||i.isIntersecting)&&(d(n),e.unobserve(x))}))}),{threshold:.01,rootMargin:"75%"})).observe(x):d(n)),function(){t=!0,e&&e.unobserve&&e.unobserve(x)}}),[n,a,x]),(0,c.jsx)(f,{className:i,ref:h,src:a,alt:t,onLoad:function(e){e.target.classList.add("loaded")},onError:function(e){e.target.classList.add("has-error")}})}},76600:function(e,n,t){t.d(n,{p:function(){return r}});t(47313);var i=t(18466),o=t(46417),r=function(e){return e&&e.convertDate?(0,o.jsx)(i.Z,{date:new Date(e.convertDate),locale:"en-US"}):(0,o.jsx)(o.Fragment,{})}},33381:function(e,n,t){t.d(n,{P:function(){return s}});var i=t(1413),o=t(47313),r=t(50301),l=t(46417),s=o.forwardRef((function(e,n){return(0,l.jsx)(r.Z,(0,i.Z)({direction:"up",ref:n},e))}))}}]);