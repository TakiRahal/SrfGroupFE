"use strict";(self.webpackChunksrf_group=self.webpackChunksrf_group||[]).push([[548],{95548:function(e,n,t){t.r(n),t.d(n,{Cart:function(){return G}});var i=t(1413),r=t(29439),a=t(47313),s=t(2213),l=t(92349),o=t(10437),c=t(9019),u=t(3404),d=t(97890),f=t(29466),x=t(55476),h=t(61113),m=t(99881),g=t(43265),p=t(24511),v=t(73428),Z=t(16957),y=t(15554),j=t(14885),b=t(33532),S=t(93405),C=t(51997),E=t(10189),P=t(68728),L=t(48757),D=t(53321),_=t(84079),k=t(24193),w=t(94469),T=t(33381),A=t(33604),q=t(96467),N=t(97762),O=t(4117),z=t(48310),I=t(58800),M=t(67216),F=t(83213),R=t(19536),V=t(84488),B=t(46417);function U(e){var n=e.nbeCarts,t=e.detailsEntity;return(0,B.jsxs)(z.Z,{sx:{width:"100%",bgcolor:"background.paper"},subheader:(0,B.jsx)(I.Z,{children:"Details Panier"}),children:[(0,B.jsxs)(M.ZP,{children:[(0,B.jsx)(F.Z,{id:"switch-list-label-wifi",primary:"".concat(n," articles")}),(0,B.jsx)(h.Z,{variant:"subtitle2",color:"text.secondary",children:"198,000 TND"})]}),(0,B.jsxs)(M.ZP,{children:[(0,B.jsx)(F.Z,{id:"switch-list-label-wifi",primary:"Livraison"}),(0,B.jsxs)(h.Z,{variant:"subtitle2",color:"text.secondary",children:[t.taxDelivery," TND"]})]}),(0,B.jsx)(R.Z,{}),(0,B.jsxs)(M.ZP,{children:[(0,B.jsx)(F.Z,{id:"switch-list-label-wifi",primary:"Total TTC"}),(0,B.jsxs)(h.Z,{variant:"subtitle2",color:"text.secondary",children:[t.totalCarts," TND"]})]}),(0,B.jsx)(M.ZP,{children:(0,B.jsx)(k.Z,{variant:"contained",color:"success",fullWidth:!0,children:"Commander"})})]})}function Y(){return(0,B.jsx)(o.Z,{children:[0,1,2].map((function(e){return(0,B.jsxs)(v.Z,{sx:{display:{xs:"block",sm:"flex"},my:2},children:[(0,B.jsx)(Z.Z,{sx:{width:{xs:"100%",sm:250},height:{xs:"100%",sm:200}},children:(0,B.jsx)(o.Z,{sx:{display:{xs:"none",md:"block"},height:"100%"},children:(0,B.jsx)("img",{src:(0,j.K1)(b.z.DEFAULT_LAZY_IMAGE),className:"img-lazy-loading",alt:"image not found"})})}),(0,B.jsx)(S.Z,{sx:{flex:1},children:(0,B.jsx)(c.ZP,{container:!0,spacing:2,children:(0,B.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,B.jsx)(V.Z,{animation:"wave",height:24}),(0,B.jsx)(V.Z,{animation:"wave",height:24}),(0,B.jsx)(V.Z,{variant:"rectangular",width:"100%",height:"100%",sx:{my:3}})]})})})]},e)}))})}function Q(e){var n,t,s,l,u,f,m,g,p,z,I,M,F,R,V=e.cart,U=e.t,Y=e.parentCallbackDeleteCart,Q=e.parentCallbackUpdateQuantity,G=a.useState(!1),J=(0,r.Z)(G,2),H=J[0],K=J[1],W=a.useState(-1),$=(0,r.Z)(W,2),X=$[0],ee=$[1],ne=(0,d.s0)(),te=function(){K(!1)},ie=function(){K(!1),Y(X)};return(0,B.jsxs)(o.Z,{children:[(0,B.jsxs)(v.Z,{sx:{display:{xs:"block",sm:"flex"}},onClick:function(){setTimeout((function(){var e;ne(x.H.DETAILS_OFFER+"/"+(null===V||void 0===V||null===(e=V.sellOffer)||void 0===e?void 0:e.id))}),300)},children:[(0,B.jsx)(Z.Z,{sx:{width:{xs:"100%",sm:250},height:{xs:"100%",sm:200}},children:null!==V&&void 0!==V&&null!==(n=V.sellOffer)&&void 0!==n&&n.offerImages&&null!==V&&void 0!==V&&null!==(t=V.sellOffer)&&void 0!==t&&t.offerImages.length?(0,B.jsx)(y.wY,{src:(0,j.Ce)(null===V||void 0===V||null===(s=V.sellOffer)||void 0===s?void 0:s.id,null===V||void 0===V||null===(l=V.sellOffer)||void 0===l?void 0:l.offerImages[0].path),alt:"Buildings with tiled exteriors, lit by the sunset.",actual:function(e){var n=e.imageProps;return(0,B.jsx)("img",(0,i.Z)((0,i.Z)({},n),{},{className:"img-lazy-loading"}))},placeholder:function(e){var n=e.ref;return(0,B.jsx)("div",{ref:n})},loading:function(){return(0,B.jsx)("div",{children:(0,B.jsx)("img",{src:(0,j.K1)(b.z.DEFAULT_LAZY_IMAGE_LOADING),className:"img-lazy-loading",alt:"image not found"})})},error:function(){return(0,B.jsx)("img",{src:(0,j.K1)(b.z.DEFAULT_LAZY_IMAGE),className:"img-lazy-loading",alt:"image not found"})}}):(0,B.jsx)(o.Z,{sx:{display:{xs:"none",md:"block"},height:"100%"},children:(0,B.jsx)("img",{src:(0,j.K1)(b.z.DEFAULT_LAZY_IMAGE),className:"img-lazy-loading",alt:"image not found"})})}),(0,B.jsxs)(S.Z,{sx:{flex:1},children:[(0,B.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,B.jsxs)(c.ZP,{item:!0,xs:8,children:[(0,B.jsx)(h.Z,{component:"h5",variant:"h5",sx:{fontSize:"1.2rem"},children:null===V||void 0===V||null===(u=V.sellOffer)||void 0===u?void 0:u.title}),null!==V&&void 0!==V&&null!==(f=V.sellOffer)&&void 0!==f&&f.address?(0,B.jsxs)(h.Z,{variant:"subtitle2",color:"text.secondary",display:"flex",sx:{mt:1},children:[(0,B.jsx)(E.Z,{fontSize:"small",sx:{mr:.9}}),(null===V||void 0===V||null===(m=V.sellOffer)||void 0===m||null===(g=m.address)||void 0===g?void 0:g.city)+", "+(null===V||void 0===V||null===(p=V.sellOffer)||void 0===p||null===(z=p.address)||void 0===z?void 0:z.country)]}):null,(0,B.jsxs)(h.Z,{variant:"subtitle2",color:"text.secondary",display:"flex",children:[(0,B.jsx)(P.Z,{fontSize:"small",sx:{mr:.9}}),(null===V||void 0===V||null===(I=V.sellOffer)||void 0===I?void 0:I.typeOffer)===L.dJ.Sell?U("common.for_sell"):(null===V||void 0===V||null===(M=V.sellOffer)||void 0===M?void 0:M.typeOffer)===L.dJ.Rent?U("common.for_rent"):(null===V||void 0===V||null===(F=V.sellOffer)||void 0===F?void 0:F.typeOffer)===L.dJ.Find?U("common.for_find"):null]})]}),null!==V&&void 0!==V&&null!==(R=V.sellOffer)&&void 0!==R&&R.amount?(0,B.jsx)(c.ZP,{item:!0,xs:4,children:(0,B.jsxs)(h.Z,{variant:"subtitle1",color:"text.secondary",display:"flex",sx:{justifyContent:"end"},className:"red-color",children:[(0,B.jsx)(D.Z,{}),null===V||void 0===V?void 0:V.total," TND"]})}):null]}),(0,B.jsxs)(o.Z,{sx:{my:1},children:[(0,B.jsx)(o.Z,{sx:{float:"left"},children:(0,B.jsx)(_._,{parentCallChangeQuantity:function(e){var n=(0,i.Z)((0,i.Z)({},V),{},{quantity:e});Q(n)},defaultValue:null===V||void 0===V?void 0:V.quantity})}),(0,B.jsx)(k.Z,{color:"error",variant:"outlined",startIcon:(0,B.jsx)(C.Z,{}),sx:{ml:"auto",float:"right"},size:"small",onClick:function(e){return function(e){e.stopPropagation(),ee(null===V||void 0===V?void 0:V.id),K(!0)}(e)},children:"Delete"}),(0,B.jsx)(o.Z,{style:{clear:"both"}})]})]})]}),(0,B.jsxs)(w.Z,{open:H,TransitionComponent:T.P,keepMounted:!0,onClose:te,"aria-describedby":"alert-dialog-slide-description",children:[(0,B.jsx)(A.Z,{children:U("cart.title_dialog_delete_cart")}),(0,B.jsx)(q.Z,{children:(0,B.jsx)(N.Z,{id:"alert-dialog-slide-description",children:U("cart.description_dialog_delete_cart")})}),(0,B.jsxs)(O.Z,{children:[(0,B.jsx)(k.Z,{onClick:te,color:"neutral",children:U("common.label_cancel")}),(0,B.jsx)(k.Z,{onClick:ie,color:"error",children:U("common.label_delete")})]})]})]})}var G=function(e){var n=(0,p.$)().t;a.useEffect((function(){e.getEntities(0,20,"")}),[]);var t=function(n){e.deleteEntity(n)};a.useEffect((function(){e.deleteSuccess&&e.getEntities(0,20,"")}),[e.deleteSuccess]);var i=function(n){e.updateEntityByQuantity(n)};return a.useEffect((function(){e.entities.length&&e.getDetailsEntity()}),[e.entities]),(0,B.jsxs)(g.Z,{maxWidth:"xl",children:[(0,B.jsx)(c.ZP,{container:!0,style:{paddingTop:10},children:(0,B.jsx)(c.ZP,{item:!0,xs:12,md:6,children:(0,B.jsxs)(u.Z,{"aria-label":"breadcrumb",children:[(0,B.jsx)(f.rU,{color:"inherit",to:x.H.HOME,children:"SRF"}),(0,B.jsx)(h.Z,{color:"text.primary",children:n("header.label_cart")})]})})}),(0,B.jsxs)(c.ZP,{container:!0,spacing:4,sx:{mt:3},children:[(0,B.jsx)(c.ZP,{item:!0,xs:12,md:2}),(0,B.jsxs)(c.ZP,{item:!0,xs:12,md:6,children:[e.loadingEntities?(0,B.jsx)(Y,{}):null,e.entities.map((function(e,r){return(0,B.jsx)(o.Z,{sx:{my:2},children:(0,B.jsx)(Q,{cart:e,t:n,parentCallbackDeleteCart:t,parentCallbackUpdateQuantity:i})},"index-".concat(r))})),0!==e.entities.length||e.loadingEntities?null:(0,B.jsx)(m.Z,{severity:"error",children:n("cart.list_not_found")})]}),(0,B.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,B.jsx)(o.Z,{sx:{my:2},children:(0,B.jsx)(U,{nbeCarts:e.entities.length,detailsEntity:e.entityDetails})})})]})]})},J={getEntities:s.uc,deleteEntity:s.Ks,updateEntityByQuantity:s.ZW,getDetailsEntity:s.rZ};n.default=(0,l.connect)((function(e){e.conversation,e.user,e.message;var n=e.cart;return{loadingEntities:n.loadingEntities,entities:n.entities,totalItems:n.totalItems,loadingDeleteEntity:n.loadingDeleteEntity,deleteSuccess:n.deleteSuccess,updateSuccess:n.updateSuccess,entityDetails:n.entityDetails}}),J)(G)},37179:function(e,n,t){t.d(n,{Rj:function(){return r},UH:function(){return a},M5:function(){return s},HC:function(){return l},uN:function(){return o},cS:function(){return c}});var i=t(28089),r={content:""},a=i.Ry({content:i.Z_().required("Type Offer is required")}),s={fullName:"",email:"",content:""},l=i.Ry({fullName:i.Z_().required("Message is required"),email:i.Z_().email().required("email_is_required"),content:i.Z_().required("Message is required")}),o={quantity:1},c=i.Ry({quantity:i.Rx().required("Quantity is required")})},84079:function(e,n,t){t.d(n,{_:function(){return g}});var i=t(61113),r=t(95592),a=t(82295),s=t(47131),l=t(49476),o=t(87252),c=t(5211),u=t(10437),d=t(47313),f=t(79429),x=t(37179),h=t(46417),m=x.uN;function g(e){var n=e.parentCallChangeQuantity,t=e.defaultValue,g=(0,f.TA)({initialValues:m,validationSchema:x.cS,onSubmit:function(e){}});d.useEffect((function(){t&&g.setFieldValue("quantity",t)}),[t]);var p=function(e,t){e.stopPropagation(),"+"===t&&g.values.quantity<100?(g.setFieldValue("quantity",g.values.quantity+1),n(g.values.quantity+1)):g.values.quantity>1&&(g.setFieldValue("quantity",g.values.quantity-1),n(g.values.quantity-1))};return(0,h.jsxs)(u.Z,{children:[(0,h.jsxs)(i.Z,{variant:"subtitle2",color:"text.secondary",display:"flex",children:[(0,h.jsx)(r.Z,{fontSize:"small",sx:{mr:.9}}),"Quantit\xe9"]}),(0,h.jsxs)(a.Z,{sx:{p:"2px 4px",display:"flex",alignItems:"center",width:150},children:[(0,h.jsx)(s.Z,{sx:{p:"10px"},"aria-label":"menu",onClick:function(e){return p(e,"-")},children:(0,h.jsx)(l.Z,{})}),(0,h.jsx)(o.ZP,{sx:{ml:1,flex:1},placeholder:"1",inputProps:{"aria-label":"1"},type:"number",value:g.values.quantity,onChange:g.handleChange}),(0,h.jsx)(s.Z,{sx:{p:"10px"},"aria-label":"directions",onClick:function(e){return p(e,"+")},children:(0,h.jsx)(c.Z,{})})]})]})}},15554:function(e,n,t){t.d(n,{wY:function(){return E}});var i,r=t(1413),a=t(45987),s=t(47313),l=t(15671),o=t(43144),c=t(97326),u=t(60136),d=t(29388),f=t(3201),x=t(31697),h=t(46417),m=["children","loadEagerly","observerProps","experimentalDecode","debounceDurationMs","debugActions"];!function(e){e.NotAsked="NotAsked",e.Loading="Loading",e.LoadSuccess="LoadSuccess",e.LoadError="LoadError"}(i||(i={}));var g=(0,x.unionize)({NotAsked:{},Buffering:{},Loading:{},LoadSuccess:{},LoadError:(0,x.ofType)()}),p=(0,x.unionize)({ViewChanged:(0,x.ofType)(),BufferingEnded:{},LoadSuccess:{},LoadError:(0,x.ofType)()}),v=function(e,n){return function(t){var i=S(j(e,n));i.promise.then((function(e){return t.update(p.LoadSuccess({}))})).catch((function(e){e.isCanceled||t.update(p.LoadError({msg:"Failed to load"}))})),t.promiseCache.loading=i}},Z=function(e){e.promiseCache.buffering.cancel()},y=function(e){(0,u.Z)(t,e);var n=(0,d.Z)(t);function t(e){var i;return(0,l.Z)(this,t),(i=n.call(this,e)).promiseCache={},i.initialState=g.NotAsked(),i.state=i.initialState,i.update=i.update.bind((0,c.Z)(i)),i}return(0,o.Z)(t,[{key:"update",value:function(e){var n=this,i=t.reducer(e,this.state,this.props),r=i.nextState,a=i.cmd;this.props.debugActions&&(console.warn('You are running LazyImage with debugActions="true" in production. This might have performance implications.'),console.log({action:e,prevState:this.state,nextState:r})),this.setState(r,(function(){return a&&a(n)}))}},{key:"componentWillUnmount",value:function(){this.promiseCache.loading&&this.promiseCache.loading.cancel(),this.promiseCache.buffering&&this.promiseCache.buffering.cancel(),this.promiseCache={}}},{key:"render",value:function(){var e=this,n=this.props,t=n.children,s=n.loadEagerly,l=n.observerProps,o=(n.experimentalDecode,n.debounceDurationMs,n.debugActions,(0,a.Z)(n,m));return s?t({imageState:g.LoadSuccess().tag,imageProps:o}):(0,h.jsx)(f.ZP,(0,r.Z)((0,r.Z)({rootMargin:"50px 0px",threshold:.01},l),{},{onChange:function(n){return e.update(p.ViewChanged({inView:n}))},children:function(n){var r=n.ref;return t({imageState:"Buffering"===e.state.tag?i.Loading:e.state.tag,imageProps:o,ref:r})}}))}}],[{key:"reducer",value:function(e,n,t){return p.match(e,{ViewChanged:function(e){return!0===e.inView?t.src?g.match(n,{NotAsked:function(){return t.debounceDurationMs?{nextState:g.Buffering(),cmd:(e=t.debounceDurationMs,function(n){var t=S(b(e));t.promise.then((function(){return n.update(p.BufferingEnded())})).catch((function(e){})),n.promiseCache.buffering=t})}:{nextState:g.Loading(),cmd:v(t,t.experimentalDecode)};var e},default:function(){return{nextState:n}}}):{nextState:g.LoadSuccess()}:g.match(n,{Buffering:function(){return{nextState:g.NotAsked(),cmd:Z}},default:function(){return{nextState:n}}})},BufferingEnded:function(){return{nextState:g.Loading(),cmd:v(t,t.experimentalDecode)}},LoadSuccess:function(){return{nextState:g.LoadSuccess()}},LoadError:function(e){return{nextState:g.LoadError(e)}}})}}]),t}(s.Component);y.displayName="LazyImageFull";var j=function(e){var n=e.src,t=e.srcSet,i=e.alt,r=e.sizes,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(e,s){var l=new Image;if(t&&(l.srcset=t),i&&(l.alt=i),r&&(l.sizes=r),l.src=n,a&&"decode"in l)return l.decode().then((function(n){return e(n)})).catch((function(e){return s(e)}));l.onload=e,l.onerror=s}))},b=function(e){return new Promise((function(n){return setTimeout(n,e)}))},S=function(e){var n=!1;return{promise:new Promise((function(t,i){e.then((function(e){return n?i({isCanceled:!0}):t(e)})).catch((function(e){return i(n?{isCanceled:!0}:e)}))})),cancel:function(){n=!0}}},C=["actual","placeholder","loading","error"],E=function(e){var n=e.actual,t=e.placeholder,s=e.loading,l=e.error,o=(0,a.Z)(e,C);return(0,h.jsx)(y,(0,r.Z)((0,r.Z)({},o),{},{children:function(e){var r=e.imageState,a=e.imageProps,o=e.ref;switch(r){case i.NotAsked:return!!t&&t({imageProps:a,ref:o});case i.Loading:return s?s():!!t&&t({imageProps:a,ref:o});case i.LoadSuccess:return n({imageProps:a});case i.LoadError:return l?l():n({imageProps:a})}}}))};E.displayName="LazyImage"},48757:function(e,n,t){var i,r,a,s;t.d(n,{dJ:function(){return i},b1:function(){return r},DO:function(){return a},iU:function(){return s}}),function(e){e.Sell="SellOffer",e.Rent="RentOffer",e.Find="FindOffer"}(i||(i={})),function(e){e.PerYear="PerYear",e.PerMonth="PerMonth",e.PerDay="PerDay"}(r||(r={})),function(e){e.Carpooling="Carpooling",e.Travels="Travels",e.Transporter="Transporter",e.Job="Job"}(a||(a={})),function(e){e.List="LIST",e.Grid="GRID"}(s||(s={}))},33381:function(e,n,t){t.d(n,{P:function(){return l}});var i=t(1413),r=t(47313),a=t(50301),s=t(46417),l=r.forwardRef((function(e,n){return(0,s.jsx)(a.Z,(0,i.Z)({direction:"up",ref:n},e))}))}}]);