"use strict";(self.webpackChunksrf_group=self.webpackChunksrf_group||[]).push([[548],{95548:function(e,t,n){n.r(t),n.d(t,{Cart:function(){return T}});var i=n(1413),r=n(29439),a=n(47313),o=n(2213),s=n(1084),l=n(57829),u=n(9019),c=n(3404),d=n(63830),f=n(28303),h=n(55476),x=n(61113),v=n(99881),m=n(43265),p=n(24511),g=n(73428),Z=n(16957),y=n(15554),j=n(14885),b=n(33532),S=n(93405),C=n(51997),L=n(10189),k=n(68728),E=n(48757),P=n(53321),_=n(84079),z=n(24193),M=n(94469),w=n(33381),A=n(33604),D=n(96467),O=n(97762),q=n(4117),N=n(46417);function W(e){var t,n,o,s,c,f,v,m,p,W,T,I,R,V,G=e.cart,F=e.t,B=e.parentCallbackDeleteCart,H=e.parentCallbackUpdateQuantity,Q=a.useState(!1),U=(0,r.Z)(Q,2),Y=U[0],J=U[1],K=a.useState(-1),X=(0,r.Z)(K,2),$=X[0],ee=X[1],te=(0,d.k6)(),ne=function(){J(!1)},ie=function(){J(!1),B($)};return(0,N.jsxs)(l.Z,{children:[(0,N.jsxs)(g.Z,{sx:{display:{xs:"block",sm:"flex"}},onClick:function(){setTimeout((function(){var e;te.push(h.H.DETAILS_OFFER+"/"+(null===G||void 0===G||null===(e=G.sellOffer)||void 0===e?void 0:e.id))}),300)},children:[(0,N.jsx)(Z.Z,{sx:{width:{xs:"100%",sm:250},height:{xs:"100%",sm:200}},children:null!==G&&void 0!==G&&null!==(t=G.sellOffer)&&void 0!==t&&t.offerImages&&null!==G&&void 0!==G&&null!==(n=G.sellOffer)&&void 0!==n&&n.offerImages.length?(0,N.jsx)(y.wY,{src:(0,j.Ce)(null===G||void 0===G||null===(o=G.sellOffer)||void 0===o?void 0:o.id,null===G||void 0===G||null===(s=G.sellOffer)||void 0===s?void 0:s.offerImages[0].path),alt:"Buildings with tiled exteriors, lit by the sunset.",actual:function(e){var t=e.imageProps;return(0,N.jsx)("img",(0,i.Z)((0,i.Z)({},t),{},{className:"img-lazy-loading"}))},placeholder:function(e){var t=e.ref;return(0,N.jsx)("div",{ref:t})},loading:function(){return(0,N.jsx)("div",{children:(0,N.jsx)("img",{src:(0,j.K1)(b.z.DEFAULT_LAZY_IMAGE_LOADING),className:"img-lazy-loading"})})},error:function(){return(0,N.jsx)("img",{src:(0,j.K1)(b.z.DEFAULT_LAZY_IMAGE),className:"img-lazy-loading"})}}):(0,N.jsx)(l.Z,{sx:{display:{xs:"none",md:"block"},height:"100%"},children:(0,N.jsx)("img",{src:(0,j.K1)(b.z.DEFAULT_LAZY_IMAGE),className:"img-lazy-loading"})})}),(0,N.jsxs)(S.Z,{sx:{flex:1},children:[(0,N.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,N.jsxs)(u.ZP,{item:!0,xs:8,children:[(0,N.jsx)(x.Z,{component:"h5",variant:"h5",sx:{fontSize:"1.2rem"},children:null===G||void 0===G||null===(c=G.sellOffer)||void 0===c?void 0:c.title}),null!==G&&void 0!==G&&null!==(f=G.sellOffer)&&void 0!==f&&f.address?(0,N.jsxs)(x.Z,{variant:"subtitle2",color:"text.secondary",display:"flex",sx:{mt:1},children:[(0,N.jsx)(L.Z,{fontSize:"small",sx:{mr:.9}}),(null===G||void 0===G||null===(v=G.sellOffer)||void 0===v||null===(m=v.address)||void 0===m?void 0:m.city)+", "+(null===G||void 0===G||null===(p=G.sellOffer)||void 0===p||null===(W=p.address)||void 0===W?void 0:W.country)]}):null,(0,N.jsxs)(x.Z,{variant:"subtitle2",color:"text.secondary",display:"flex",children:[(0,N.jsx)(k.Z,{fontSize:"small",sx:{mr:.9}}),(null===G||void 0===G||null===(T=G.sellOffer)||void 0===T?void 0:T.typeOffer)===E.dJ.Sell?F("common.for_sell"):(null===G||void 0===G||null===(I=G.sellOffer)||void 0===I?void 0:I.typeOffer)===E.dJ.Rent?F("common.for_rent"):(null===G||void 0===G||null===(R=G.sellOffer)||void 0===R?void 0:R.typeOffer)===E.dJ.Find?F("common.for_find"):null]})]}),null!==G&&void 0!==G&&null!==(V=G.sellOffer)&&void 0!==V&&V.amount?(0,N.jsx)(u.ZP,{item:!0,xs:4,children:(0,N.jsxs)(x.Z,{variant:"subtitle1",color:"text.secondary",display:"flex",sx:{justifyContent:"end"},className:"red-color",children:[(0,N.jsx)(P.Z,{}),null===G||void 0===G?void 0:G.total," TND"]})}):null]}),(0,N.jsxs)(l.Z,{sx:{my:2},children:[(0,N.jsx)(l.Z,{sx:{float:"left"},children:(0,N.jsx)(_._,{parentCallChangeQuantity:function(e){var t=(0,i.Z)((0,i.Z)({},G),{},{quantity:e});H(t)},defaultValue:null===G||void 0===G?void 0:G.quantity})}),(0,N.jsx)(z.Z,{color:"error",variant:"outlined",startIcon:(0,N.jsx)(C.Z,{}),sx:{ml:"auto",float:"right"},size:"small",onClick:function(e){return function(e){e.stopPropagation(),ee(null===G||void 0===G?void 0:G.id),J(!0)}(e)},children:"Delete"})]})]})]}),(0,N.jsxs)(M.Z,{open:Y,TransitionComponent:w.P,keepMounted:!0,onClose:ne,"aria-describedby":"alert-dialog-slide-description",children:[(0,N.jsx)(A.Z,{children:F("cart.title_dialog_delete_cart")}),(0,N.jsx)(D.Z,{children:(0,N.jsx)(O.Z,{id:"alert-dialog-slide-description",children:F("cart.description_dialog_delete_cart")})}),(0,N.jsxs)(q.Z,{children:[(0,N.jsx)(z.Z,{onClick:ne,color:"neutral",children:F("common.label_cancel")}),(0,N.jsx)(z.Z,{onClick:ie,color:"error",children:F("common.label_delete")})]})]})]})}var T=function(e){var t=(0,p.$)().t;a.useEffect((function(){e.getEntities(0,20,"")}),[]);var n=function(t){console.log("cartId ",t),e.deleteEntity(t)};a.useEffect((function(){e.deleteSuccess&&e.getEntities(0,20,"")}),[e.deleteSuccess]);var i=function(t){console.log("updateByQuantity ",t),e.updateEntityByQuantity(t)};return(0,N.jsxs)(m.Z,{maxWidth:"xl",children:[(0,N.jsx)(u.ZP,{container:!0,style:{paddingTop:10},children:(0,N.jsx)(u.ZP,{item:!0,xs:12,md:6,children:(0,N.jsxs)(c.Z,{"aria-label":"breadcrumb",children:[(0,N.jsx)(f.rU,{color:"inherit",to:h.H.HOME,children:"SRF"}),(0,N.jsx)(x.Z,{color:"text.primary",children:t("header.label_cart")})]})})}),(0,N.jsxs)(u.ZP,{container:!0,spacing:4,sx:{mt:3},children:[(0,N.jsx)(u.ZP,{item:!0,xs:12,md:2}),(0,N.jsxs)(u.ZP,{item:!0,xs:12,md:6,children:[e.entities.map((function(e,r){return(0,N.jsx)(l.Z,{sx:{my:2},children:(0,N.jsx)(W,{cart:e,t:t,parentCallbackDeleteCart:n,parentCallbackUpdateQuantity:i})},"index-".concat(r))})),0!==e.entities.length||e.loadingEntities?null:(0,N.jsx)(v.Z,{severity:"error",children:t("cart.list_not_found")})]}),(0,N.jsx)(u.ZP,{item:!0,xs:12,md:4,children:"Details carts"})]})]})},I={getEntities:o.uc,deleteEntity:o.Ks,updateEntityByQuantity:o.ZW};t.default=(0,s.connect)((function(e){e.conversation,e.user,e.message;var t=e.cart;return{loadingEntities:t.loadingEntities,entities:t.entities,totalItems:t.totalItems,loadingDeleteEntity:t.loadingDeleteEntity,deleteSuccess:t.deleteSuccess}}),I)(T)},37179:function(e,t,n){n.d(t,{Rj:function(){return r},UH:function(){return a},M5:function(){return o},HC:function(){return s},uN:function(){return l},cS:function(){return u}});var i=n(28089),r={content:""},a=i.Ry({content:i.Z_().required("Type Offer is required")}),o={fullName:"",email:"",content:""},s=i.Ry({fullName:i.Z_().required("Message is required"),email:i.Z_().email().required("email_is_required"),content:i.Z_().required("Message is required")}),l={quantity:1},u=i.Ry({quantity:i.Rx().required("Quantity is required")})},84079:function(e,t,n){n.d(t,{_:function(){return m}});var i=n(61113),r=n(95592),a=n(82295),o=n(47131),s=n(49476),l=n(54882),u=n(5211),c=n(57829),d=n(47313),f=n(79429),h=n(37179),x=n(46417),v=h.uN;function m(e){var t=e.parentCallChangeQuantity,n=e.defaultValue,m=(0,f.TA)({initialValues:v,validationSchema:h.cS,onSubmit:function(e){}});d.useEffect((function(){console.log("defaultValue ",n),n&&m.setFieldValue("quantity",n)}),[n]);var p=function(e,n){e.stopPropagation(),"+"===n&&m.values.quantity<100?(m.setFieldValue("quantity",m.values.quantity+1),t(m.values.quantity+1)):m.values.quantity>1&&(m.setFieldValue("quantity",m.values.quantity-1),t(m.values.quantity-1))};return(0,x.jsxs)(c.Z,{children:[(0,x.jsxs)(i.Z,{variant:"subtitle2",color:"text.secondary",display:"flex",children:[(0,x.jsx)(r.Z,{fontSize:"small",sx:{mr:.9}}),"Quantit\xe9"]}),(0,x.jsxs)(a.Z,{sx:{p:"2px 4px",display:"flex",alignItems:"center",width:150},children:[(0,x.jsx)(o.Z,{sx:{p:"10px"},"aria-label":"menu",onClick:function(e){return p(e,"-")},children:(0,x.jsx)(s.Z,{})}),(0,x.jsx)(l.ZP,{sx:{ml:1,flex:1},placeholder:"1",inputProps:{"aria-label":"1"},type:"number",value:m.values.quantity,onChange:m.handleChange}),(0,x.jsx)(o.Z,{sx:{p:"10px"},"aria-label":"directions",onClick:function(e){return p(e,"+")},children:(0,x.jsx)(u.Z,{})})]})]})}},15554:function(e,t,n){n.d(t,{wY:function(){return L}});var i,r=n(1413),a=n(45987),o=n(47313),s=n(15671),l=n(43144),u=n(97326),c=n(60136),d=n(29388),f=n(72868),h=n(31697),x=n(46417),v=["children","loadEagerly","observerProps","experimentalDecode","debounceDurationMs","debugActions"];!function(e){e.NotAsked="NotAsked",e.Loading="Loading",e.LoadSuccess="LoadSuccess",e.LoadError="LoadError"}(i||(i={}));var m=(0,h.unionize)({NotAsked:{},Buffering:{},Loading:{},LoadSuccess:{},LoadError:(0,h.ofType)()}),p=(0,h.unionize)({ViewChanged:(0,h.ofType)(),BufferingEnded:{},LoadSuccess:{},LoadError:(0,h.ofType)()}),g=function(e,t){return function(n){var i=S(j(e,t));i.promise.then((function(e){return n.update(p.LoadSuccess({}))})).catch((function(e){e.isCanceled||n.update(p.LoadError({msg:"Failed to load"}))})),n.promiseCache.loading=i}},Z=function(e){e.promiseCache.buffering.cancel()},y=function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e)).promiseCache={},i.initialState=m.NotAsked(),i.state=i.initialState,i.update=i.update.bind((0,u.Z)(i)),i}return(0,l.Z)(n,[{key:"update",value:function(e){var t=this,i=n.reducer(e,this.state,this.props),r=i.nextState,a=i.cmd;this.props.debugActions&&(console.warn('You are running LazyImage with debugActions="true" in production. This might have performance implications.'),console.log({action:e,prevState:this.state,nextState:r})),this.setState(r,(function(){return a&&a(t)}))}},{key:"componentWillUnmount",value:function(){this.promiseCache.loading&&this.promiseCache.loading.cancel(),this.promiseCache.buffering&&this.promiseCache.buffering.cancel(),this.promiseCache={}}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.loadEagerly,s=t.observerProps,l=(t.experimentalDecode,t.debounceDurationMs,t.debugActions,(0,a.Z)(t,v));return o?n({imageState:m.LoadSuccess().tag,imageProps:l}):(0,x.jsx)(f.ZP,(0,r.Z)((0,r.Z)({rootMargin:"50px 0px",threshold:.01},s),{},{onChange:function(t){return e.update(p.ViewChanged({inView:t}))},children:function(t){var r=t.ref;return n({imageState:"Buffering"===e.state.tag?i.Loading:e.state.tag,imageProps:l,ref:r})}}))}}],[{key:"reducer",value:function(e,t,n){return p.match(e,{ViewChanged:function(e){return!0===e.inView?n.src?m.match(t,{NotAsked:function(){return n.debounceDurationMs?{nextState:m.Buffering(),cmd:(e=n.debounceDurationMs,function(t){var n=S(b(e));n.promise.then((function(){return t.update(p.BufferingEnded())})).catch((function(e){})),t.promiseCache.buffering=n})}:{nextState:m.Loading(),cmd:g(n,n.experimentalDecode)};var e},default:function(){return{nextState:t}}}):{nextState:m.LoadSuccess()}:m.match(t,{Buffering:function(){return{nextState:m.NotAsked(),cmd:Z}},default:function(){return{nextState:t}}})},BufferingEnded:function(){return{nextState:m.Loading(),cmd:g(n,n.experimentalDecode)}},LoadSuccess:function(){return{nextState:m.LoadSuccess()}},LoadError:function(e){return{nextState:m.LoadError(e)}}})}}]),n}(o.Component);y.displayName="LazyImageFull";var j=function(e){var t=e.src,n=e.srcSet,i=e.alt,r=e.sizes,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(e,o){var s=new Image;if(n&&(s.srcset=n),i&&(s.alt=i),r&&(s.sizes=r),s.src=t,a&&"decode"in s)return s.decode().then((function(t){return e(t)})).catch((function(e){return o(e)}));s.onload=e,s.onerror=o}))},b=function(e){return new Promise((function(t){return setTimeout(t,e)}))},S=function(e){var t=!1;return{promise:new Promise((function(n,i){e.then((function(e){return t?i({isCanceled:!0}):n(e)})).catch((function(e){return i(t?{isCanceled:!0}:e)}))})),cancel:function(){t=!0}}},C=["actual","placeholder","loading","error"],L=function(e){var t=e.actual,n=e.placeholder,o=e.loading,s=e.error,l=(0,a.Z)(e,C);return(0,x.jsx)(y,(0,r.Z)((0,r.Z)({},l),{},{children:function(e){var r=e.imageState,a=e.imageProps,l=e.ref;switch(r){case i.NotAsked:return!!n&&n({imageProps:a,ref:l});case i.Loading:return o?o():!!n&&n({imageProps:a,ref:l});case i.LoadSuccess:return t({imageProps:a});case i.LoadError:return s?s():t({imageProps:a})}}}))};L.displayName="LazyImage"},48757:function(e,t,n){var i,r,a,o;n.d(t,{dJ:function(){return i},b1:function(){return r},DO:function(){return a},iU:function(){return o}}),function(e){e.Sell="SellOffer",e.Rent="RentOffer",e.Find="FindOffer"}(i||(i={})),function(e){e.PerYear="PerYear",e.PerMonth="PerMonth",e.PerDay="PerDay"}(r||(r={})),function(e){e.Carpooling="Carpooling",e.Travels="Travels",e.Transporter="Transporter",e.Job="Job"}(a||(a={})),function(e){e.List="LIST",e.Grid="GRID"}(o||(o={}))},33381:function(e,t,n){n.d(t,{P:function(){return s}});var i=n(1413),r=n(47313),a=n(50301),o=n(46417),s=r.forwardRef((function(e,t){return(0,o.jsx)(a.Z,(0,i.Z)({direction:"up",ref:t},e))}))},5211:function(e,t,n){var i=n(95318);t.Z=void 0;var r=i(n(45045)),a=n(46417),o=(0,r.default)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=o},10189:function(e,t,n){var i=n(95318);t.Z=void 0;var r=i(n(45045)),a=n(46417),o=(0,r.default)((0,a.jsx)("path",{d:"M12 2C8.14 2 5 5.14 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.86-3.14-7-7-7zm4 8h-3v3h-2v-3H8V8h3V5h2v3h3v2z"}),"AddLocation");t.Z=o},53321:function(e,t,n){var i=n(95318);t.Z=void 0;var r=i(n(45045)),a=n(46417),o=(0,r.default)((0,a.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"}),"AttachMoney");t.Z=o},68728:function(e,t,n){var i=n(95318);t.Z=void 0;var r=i(n(45045)),a=n(46417),o=(0,r.default)((0,a.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.Z=o},51997:function(e,t,n){var i=n(95318);t.Z=void 0;var r=i(n(45045)),a=n(46417),o=(0,r.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=o},49476:function(e,t,n){var i=n(95318);t.Z=void 0;var r=i(n(45045)),a=n(46417),o=(0,r.default)((0,a.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");t.Z=o},95592:function(e,t,n){var i=n(95318);t.Z=void 0;var r=i(n(45045)),a=n(46417),o=(0,r.default)((0,a.jsx)("path",{d:"m21 11-6-6v5H8c-2.76 0-5 2.24-5 5v4h2v-4c0-1.65 1.35-3 3-3h7v5l6-6z"}),"Shortcut");t.Z=o},43265:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(4942),r=n(63366),a=n(87462),o=n(47313),s=n(83061),l=n(50317),u=n(25469),c=n(88564),d=n(22131);function f(e){return(0,d.Z)("MuiContainer",e)}(0,n(655).Z)("MuiContainer",["root","disableGutters","fixed","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl"]);var h=n(91615),x=n(46417),v=["className","component","disableGutters","fixed","maxWidth"],m=(0,c.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat((0,h.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}})((function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&(0,i.Z)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}))}),(function(e){var t=e.theme;return e.ownerState.fixed&&Object.keys(t.breakpoints.values).reduce((function(e,n){var i=t.breakpoints.values[n];return 0!==i&&(e[t.breakpoints.up(n)]={maxWidth:"".concat(i).concat(t.breakpoints.unit)}),e}),{})}),(function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({},"xs"===n.maxWidth&&(0,i.Z)({},t.breakpoints.up("xs"),{maxWidth:Math.max(t.breakpoints.values.xs,444)}),n.maxWidth&&"xs"!==n.maxWidth&&(0,i.Z)({},t.breakpoints.up(n.maxWidth),{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}))})),p=o.forwardRef((function(e,t){var n=(0,u.Z)({props:e,name:"MuiContainer"}),i=n.className,o=n.component,c=void 0===o?"div":o,d=n.disableGutters,p=void 0!==d&&d,g=n.fixed,Z=void 0!==g&&g,y=n.maxWidth,j=void 0===y?"lg":y,b=(0,r.Z)(n,v),S=(0,a.Z)({},n,{component:c,disableGutters:p,fixed:Z,maxWidth:j}),C=function(e){var t=e.classes,n=e.fixed,i=e.disableGutters,r=e.maxWidth,a={root:["root",r&&"maxWidth".concat((0,h.Z)(String(r))),n&&"fixed",i&&"disableGutters"]};return(0,l.Z)(a,f,t)}(S);return(0,x.jsx)(m,(0,a.Z)({as:c,ownerState:S,className:(0,s.Z)(C.root,i),ref:t},b))}))}}]);