"use strict";(self.webpackChunksrf_group=self.webpackChunksrf_group||[]).push([[846],{49225:function(e,n,t){t.r(n),t.d(n,{default:function(){return rn}});var i=t(1413),l=t(93433),o=t(29439),r=t(72791),s=t(59434),a=t(16871),d=t(48980),c=t(91614),u=t(61889),f=t(93517),m=t(43504),v=t(20890),x=t(13239),h=t(64554),p=t(57621),j=t(39504),g=t(55860),Z=t(69212),b=t(46321),y=t(81176),C=t(72363),_=t(24518),k=t(46152),S=t(13400),P=t(90580),I=t(5574),E=t(65661),A=t(39157),D=t(51691),L=t(97123),w=t(33168),N=t(3721),O=t(55818),R=t(97581),T=t(81131),q=t(20068),M=t(94070),U=t(55536),z=t(87841),B=t(42192),F=t(53113),H=t(25467),W=t(52028),V=t(95218),Y=t(43896),G=t(83449),J=t(35267),Q=t(82851),K=t(94721),$=t(90493),X=t(15021),ee=t(20653),ne=t(93044),te=t(49900),ie=t(39709),le=t(66810),oe=t(25901),re=t(80184);function se(e){var n=e.parentCallbackAddCart,t=e.loadingAddCart,i=r.useState("1"),l=(0,o.Z)(i,2),s=l[0],a=l[1],d=r.useState(1),c=(0,o.Z)(d,2),f=c[0],m=c[1],x=(0,w.$)().t;return(0,re.jsx)(h.Z,{sx:{width:"100%",typography:"body1",my:3},children:(0,re.jsxs)(G.ZP,{value:s,children:[(0,re.jsxs)(Q.Z,{value:"1",children:[(0,re.jsxs)(u.ZP,{container:!0,children:[(0,re.jsxs)(u.ZP,{item:!0,xs:12,md:6,children:[(0,re.jsxs)(v.Z,{variant:"subtitle2",color:"text.secondary",display:"flex",children:[(0,re.jsx)(g.Z,{fontSize:"small",sx:{mr:.9}}),"En Stock"]}),(0,re.jsx)(h.Z,{sx:{my:2},children:(0,re.jsx)(le._,{parentCallChangeQuantity:function(e){console.log("data ",e),m(e)}})})]}),(0,re.jsx)(u.ZP,{item:!0,xs:12,md:6,children:(0,re.jsxs)($.Z,{sx:{},children:[(0,re.jsxs)(X.ZP,{alignItems:"flex-start",children:[(0,re.jsx)(ee.Z,{children:(0,re.jsx)(ne.Z,{alt:"Remy Sharp",src:(0,oe.K1)("/assets/images/offer/details-offer/creditcard.svg")})}),(0,re.jsx)(te.Z,{primary:"Paiement facile",secondary:"Payer vos articles command\xe9s au comptant lors de la livraison"})]}),(0,re.jsx)(K.Z,{variant:"inset",component:"li"}),(0,re.jsxs)(X.ZP,{alignItems:"flex-start",children:[(0,re.jsx)(ee.Z,{children:(0,re.jsx)(ne.Z,{alt:"Travis Howard",src:(0,oe.K1)("/assets/images/offer/details-offer/local-shipping.svg")})}),(0,re.jsx)(te.Z,{primary:"Politique de livraison",secondary:"Remise de 5% \xe0 partir de 50dt d'achats sur les produits mazroub exclusive"})]}),(0,re.jsx)(K.Z,{variant:"inset",component:"li"}),(0,re.jsxs)(X.ZP,{alignItems:"flex-start",children:[(0,re.jsx)(ee.Z,{children:(0,re.jsx)(ne.Z,{alt:"Cindy Baker",src:(0,oe.K1)("/assets/images/offer/details-offer/loop.svg")})}),(0,re.jsx)(te.Z,{primary:"Politique de retours",secondary:"Remboursement entre 3 et 12 jours \xe0 partir la date de r\xe9ception de votre retour"})]})]})})]}),(0,re.jsx)(h.Z,{sx:{my:2},display:"flex",justifyContent:"center",children:(0,re.jsx)(ie.Z,{loading:t,fullWidth:!0,variant:"contained",color:"success",onClick:function(){console.log("valueQuantity ",f),n({quantity:f})},children:x("common.label_add")})})]}),(0,re.jsx)(Q.Z,{value:"2",children:"Acheter directement"}),(0,re.jsx)(h.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,re.jsxs)(J.Z,{onChange:function(e,n){a(n)},"aria-label":"lab API tabs example",centered:!0,children:[(0,re.jsx)(Y.Z,{label:"Ajouter au panier",value:"1"}),(0,re.jsx)(Y.Z,{label:"Acheter directement",value:"2"})]})})]})})}var ae=t(9585),de=t(17237),ce=t(85545),ue=t(31395),fe=t(68322),me=t(48550),ve=t(42093),xe=t(42716),he=t(92506),pe=t(76713),je=t(66364),ge=t.n(je),Ze=t(76278),be=t(4103),ye=t(15671),Ce=t(43144),_e=t(97326),ke=t(60136),Se=t(29388),Pe=t(41098),Ie=t.n(Pe),Ee=t(30716),Ae=function(e){(0,ke.Z)(t,e);var n=(0,Se.Z)(t);function t(e){var i;return(0,ye.Z)(this,t),(i=n.call(this,e)).state={shareData:{title:"MDN",text:"Learn web development on MDN!",url:"https://developer.mozilla.org"}},i.handleShare=i.handleShare.bind((0,_e.Z)(i)),i}return(0,Ce.Z)(t,[{key:"handleShare",value:function(){navigator.share(this.state.shareData).then((function(e){}))}},{key:"render",value:function(){return(0,oe.KB)()===Ee.c.MOBILE_BROWSER?(0,re.jsx)(S.Z,{onClick:this.handleShare,children:this.props.children}):(0,re.jsx)(Ie(),{url:this.props.url,quote:"quote",children:this.props.children})}}]),t}(r.Component),De=t(55646),Le=t(62797),we=t(36400),Ne=Le.Ry({content:Le.Z_().required("Message is required").min(5,"Min 5 digits").max(2e3,"Max 2000 digits")}),Oe={content:""};function Re(){var e,n,t=(0,s.I0)(),l=(0,s.v9)(U.Cb).isAuthenticated,o=null!==(e=(0,s.v9)(we.n4))&&void 0!==e&&e,a=null!==(n=(0,s.v9)(we.kh))&&void 0!==n&&n,d=(0,he.TA)({initialValues:Oe,validationSchema:Ne,onSubmit:function(e){l&&t((0,we.dI)((0,i.Z)({},e)))}});return r.useEffect((function(){a&&d.resetForm()}),[a]),(0,re.jsx)(h.Z,{children:(0,re.jsx)("form",{onSubmit:d.handleSubmit,children:(0,re.jsx)(p.Z,{children:(0,re.jsxs)(j.Z,{children:[(0,re.jsxs)(h.Z,{sx:{display:"flex",alignItems:"flex-end"},children:[(0,re.jsx)(fe.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,re.jsx)(me.Z,{id:"content",name:"content",label:"Declarer votre probleme",variant:"standard",fullWidth:!0,multiline:!0,value:d.values.content,onChange:d.handleChange,error:d.touched.content&&Boolean(d.errors.content),rows:4})]}),d.touched.content&&Boolean(d.errors.content)?(0,re.jsx)(h.Z,{className:"red-color",children:d.errors.content}):null,(0,re.jsx)(h.Z,{sx:{display:"flex",alignItems:"flex-end"},children:(0,re.jsx)(ie.Z,{loading:o,variant:"outlined",size:"small",fullWidth:!0,sx:{mt:2},color:"neutral",type:"submit",children:"Declarer"})})]})})})})}var Te=pe.M5;function qe(e){var n,t,i,l,s,d,c,f,m,x,g,Z,b,y,k,N=e.offerEntity,O=e.parentCallback,R=e.currentUser,q=e.isAuthenticated,M=e.myFavoriteUser,U=e.createConversationCallback,z=e.addSuccessConversation,H=e.isOnLine,W=r.useState(),V=(0,o.Z)(W,2),Y=(V[0],V[1]),G=r.useState(""),J=(0,o.Z)(G,2),Q=J[0],K=J[1],$=r.useState(!1),X=(0,o.Z)($,2),ee=X[0],te=X[1],ie=r.useState(!1),le=(0,o.Z)(ie,2),se=le[0],je=le[1],ye=(0,a.s0)(),Ce=(0,w.$)().t,_e=(0,he.TA)({initialValues:Te,validationSchema:pe.HC,onSubmit:function(e){var n;R.id!==(null===N||void 0===N||null===(n=N.user)||void 0===n?void 0:n.id)&&q&&(Y(e),Se(e.content))}}),ke=function(){_e.setFieldValue("fullName",(0,oe.QD)(R)),_e.setFieldValue("email",R.email)};r.useEffect((function(){ge()(R)||ke()}),[R]),r.useEffect((function(){z&&(_e.resetForm(),ke())}),[z]);var Se=function(e){var n,t,i={content:e,conversation:{dateCreated:(0,oe.uJ)(new Date),senderUser:null,receiverUser:{id:null===N||void 0===N||null===(n=N.user)||void 0===n?void 0:n.id,email:null===N||void 0===N||null===(t=N.user)||void 0===t?void 0:t.email}}};U(i)},Pe=r.useState(!1),Ie=(0,o.Z)(Pe,2),Ee=Ie[0],Le=Ie[1],we=function(e){e.stopPropagation(),M||Le(!0)},Ne=function(){Le(!1)},Oe=function(){var e;Le(!1),O(null===N||void 0===N||null===(e=N.user)||void 0===e?void 0:e.id)},qe=function(e){setTimeout((function(){ye(F.H.PROFILE+"/"+e)}),300)},Me=function(){return M?"red":"color: rgba(0, 0, 0, 0.54)"};return(0,re.jsxs)(u.ZP,{item:!0,xs:12,sm:12,children:[(0,re.jsxs)(p.Z,{children:[(0,re.jsx)(v.Z,{paragraph:!0,sx:{m:2},children:Ce("details_offer.about_seller")}),(0,re.jsx)(Ze.Z,{onClick:function(){var e;return qe(null===N||void 0===N||null===(e=N.user)||void 0===e?void 0:e.id)},sx:{display:"block"},children:(0,re.jsx)(ae.Z,{avatar:N?(0,re.jsx)(be.j,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",color:H(null===(n=N.user)||void 0===n?void 0:n.email)?"success":"error",children:(0,re.jsx)(ne.Z,{"aria-label":"recipe",alt:null===(t=N.user)||void 0===t?void 0:t.imageUrl,src:(0,oe.Dm)(null===(i=N.user)||void 0===i?void 0:i.id,null===(l=N.user)||void 0===l?void 0:l.imageUrl,null===(s=N.user)||void 0===s?void 0:s.sourceRegister),sx:{border:"1px solid #b9b9b9"},children:null===(d=(0,oe.QD)(null===N||void 0===N?void 0:N.user))||void 0===d?void 0:d.charAt(0)})}):null,action:(0,re.jsx)(S.Z,{"aria-label":"settings",sx:{color:Me()},onClick:function(e){return we(e)},disabled:(null===N||void 0===N||null===(c=N.user)||void 0===c?void 0:c.id)===(null===R||void 0===R?void 0:R.id),children:(0,re.jsx)(de.Z,{})}),title:(0,re.jsx)(r.Fragment,{children:(0,oe.QD)(null===N||void 0===N?void 0:N.user)}),subheader:null===N||void 0===N||null===(f=N.user)||void 0===f?void 0:f.email,onClick:function(){var e;return qe(null===N||void 0===N||null===(e=N.user)||void 0===e?void 0:e.id)},role:"button"})}),null!==N&&void 0!==N&&null!==(m=N.user)&&void 0!==m&&m.address?(0,re.jsx)(j.Z,{children:(0,re.jsxs)(v.Z,{variant:"body2",color:"text.secondary",children:[null===N||void 0===N||null===(x=N.user)||void 0===x?void 0:x.address.city,", ",null===N||void 0===N||null===(g=N.user)||void 0===g?void 0:g.address.country]})}):null,(0,re.jsxs)(C.Z,{disableSpacing:!0,sx:{backgroundColor:"rgba(0, 0, 0, 0.74);"},children:[(0,re.jsx)(S.Z,{"aria-label":"add to favorites",sx:{color:Me()},onClick:we,disabled:(null===N||void 0===N||null===(Z=N.user)||void 0===Z?void 0:Z.id)===(null===R||void 0===R?void 0:R.id),children:(0,re.jsx)(de.Z,{})}),(0,re.jsx)(Ae,{url:"https://github.com/nygardk/react-share/blob/master/demo/Demo.tsx",children:(0,re.jsx)(h.Z,{sx:{color:"#fff"},children:(0,re.jsx)(P.Z,{})})}),(0,re.jsx)(S.Z,{sx:{marginLeft:"auto",color:"#fff"},onClick:function(){},children:(0,re.jsx)(T.Z,{})})]}),(0,re.jsxs)(u.ZP,{container:!0,item:!0,sx:{mt:3},children:[(0,re.jsx)(u.ZP,{item:!0,xs:12,sm:6,children:(0,re.jsx)(h.Z,{sx:{"& > :not(style)":{m:1}},children:(0,re.jsxs)("form",{onSubmit:_e.handleSubmit,children:[(0,re.jsx)(v.Z,{paragraph:!0,className:"text-center",children:Ce("details_offer.send_message")}),(0,re.jsxs)(h.Z,{sx:{display:"flex",alignItems:"flex-end"},children:[(0,re.jsx)(ce.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,re.jsx)(me.Z,{id:"fullName",name:"fullName",label:Ce("common.label_name"),variant:"standard",fullWidth:!0,disabled:!(_e.touched.fullName&&Boolean(_e.errors.fullName)),value:_e.values.fullName,onChange:_e.handleChange,error:_e.touched.fullName&&Boolean(_e.errors.fullName)})]}),(0,re.jsxs)(h.Z,{sx:{display:"flex",alignItems:"flex-end",my:2},children:[(0,re.jsx)(ue.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,re.jsx)(me.Z,{id:"email",name:"email",label:Ce("common.label_email"),variant:"standard",fullWidth:!0,disabled:!(_e.touched.email&&Boolean(_e.errors.email)),value:_e.values.email,onChange:_e.handleChange,error:_e.touched.email&&Boolean(_e.errors.email)})]}),(0,re.jsxs)(h.Z,{sx:{display:"flex",alignItems:"flex-end"},children:[(0,re.jsx)(fe.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,re.jsx)(me.Z,{id:"content",name:"content",label:"Message",variant:"standard",fullWidth:!0,multiline:!0,rows:4,value:_e.values.content,onChange:_e.handleChange,error:_e.touched.content&&Boolean(_e.errors.content)})]}),(0,re.jsx)(h.Z,{sx:{display:"flex",alignItems:"flex-end"},children:(0,re.jsx)(_.Z,{variant:"outlined",size:"small",fullWidth:!0,sx:{mt:2,mb:2},color:"neutral",type:"submit",disabled:R.id===(null===N||void 0===N||null===(b=N.user)||void 0===b?void 0:b.id),children:Ce("common.label_send")})})]})})}),(0,re.jsxs)(u.ZP,{item:!0,xs:12,sm:6,sx:{p:2,borderLeft:"1px solid #cfcbcb;"},children:[(0,re.jsx)(v.Z,{paragraph:!0,className:"text-center",children:Ce("details_offer.contact_with")}),(0,re.jsx)(_.Z,{variant:"outlined",startIcon:(0,re.jsx)(ve.Z,{}),fullWidth:!0,sx:{mt:3},onClick:function(){return function(){var e,n;null!==N&&void 0!==N&&null!==(e=N.user)&&void 0!==e&&e.linkProfileFacebook?window.open(null===N||void 0===N||null===(n=N.user)||void 0===n?void 0:n.linkProfileFacebook,"_new"):(K(Ce("details_offer.message_not_link_profile_facebook_exist")),te(!0))}()},children:"Facebook"}),(0,re.jsx)(_.Z,{variant:"outlined",startIcon:(0,re.jsx)(xe.Z,{}),fullWidth:!0,sx:{mt:3},onClick:function(){return je(!se)},children:se?null===N||void 0===N||null===(y=N.user)||void 0===y?void 0:y.phone:Ce("details_offer.show_number")}),(0,re.jsx)("a",{href:"mailto:".concat(null===N||void 0===N||null===(k=N.user)||void 0===k?void 0:k.email),style:{textDecoration:"none"},children:(0,re.jsx)(_.Z,{variant:"outlined",startIcon:(0,re.jsx)(ue.Z,{}),fullWidth:!0,sx:{mt:3},children:Ce("details_offer.send_email")})})]})]})]}),(0,re.jsxs)(u.ZP,{container:!0,item:!0,spacing:2,sx:{mt:1},children:[(0,re.jsx)(u.ZP,{item:!0,xs:12,sm:6,children:(0,re.jsx)(p.Z,{onClick:function(){console.log("offerEntity ",N),null!==N&&void 0!==N&&N.address?window.open("https://www.google.com/maps/@35.8235978,10.6309176,15z","_new"):(K(Ce("details_offer.not_address_found_itenarary")),te(!0))},children:(0,re.jsxs)(j.Z,{children:[(0,re.jsx)(v.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"D\xe9couvrir le quartier"}),(0,re.jsx)("div",{style:{maxHeight:400,marginTop:30},children:(0,re.jsx)("img",{className:"img-fluid",src:(0,oe.K1)("/assets/images/offer/details-offer/desktop-map-neighbourhood.ext.svg"),alt:"desktop-map-neighbourhood"})})]})})}),(0,re.jsx)(u.ZP,{item:!0,xs:12,sm:6,children:(0,re.jsx)(p.Z,{onClick:function(){if(console.log("offerEntity ",N),null!==N&&void 0!==N&&N.address)if(null!==R&&void 0!==R&&R.address){var e,n,t,i;window.open("https://www.google.com/maps/dir/"+(null===R||void 0===R||null===(e=R.address)||void 0===e?void 0:e.lng)+","+(null===R||void 0===R||null===(n=R.address)||void 0===n?void 0:n.lng)+"/"+(null===N||void 0===N||null===(t=N.address)||void 0===t?void 0:t.lng)+","+(null===N||void 0===N||null===(i=N.address)||void 0===i?void 0:i.lng),"_new")}else K(Ce("details_offer.miss_address_account")),te(!0);else K(Ce("details_offer.not_address_found_itenarary")),te(!0)},children:(0,re.jsxs)(j.Z,{children:[(0,re.jsx)(v.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"D\xe9couvrir le quartier"}),(0,re.jsx)("div",{style:{maxHeight:400,marginTop:30},children:(0,re.jsx)("img",{className:"img-fluid",src:(0,oe.K1)("/assets/images/offer/details-offer/desktop-time-of-travel-address.ext.svg"),alt:"desktop-time-of-travel-address"})})]})})})]}),(0,re.jsx)(u.ZP,{container:!0,item:!0,spacing:2,sx:{mt:1},children:(0,re.jsx)(u.ZP,{item:!0,xs:12,sm:6,children:(0,re.jsx)(Re,{})})}),(0,re.jsx)("div",{children:(0,re.jsxs)(I.Z,{open:Ee,TransitionComponent:B.P,keepMounted:!0,onClose:Ne,"aria-describedby":"alert-dialog-slide-description",children:[(0,re.jsx)(E.Z,{children:Ce("details_offer.title_add_favrite_user")}),(0,re.jsx)(A.Z,{children:(0,re.jsx)(D.Z,{id:"alert-dialog-slide-description",children:Ce("details_offer.description_add_favrite_user")})}),(0,re.jsxs)(L.Z,{children:[(0,re.jsx)(_.Z,{onClick:Ne,color:"neutral",children:Ce("common.label_cancel")}),(0,re.jsx)(_.Z,{onClick:Oe,color:"success",children:Ce("common.label_favorite")})]})]})}),(0,re.jsx)("div",{children:(0,re.jsx)(De.Z,{open:ee,autoHideDuration:5e3,onClose:function(){te(!1)},message:Q})})]})}var Me=t(27247),Ue=t(4919),ze={},Be=t(89012),Fe=function(e){var n=(0,r.useState)(!1),t=(0,o.Z)(n,2),i=(t[0],t[1]),l=(0,r.useState)(!1),s=(0,o.Z)(l,2),a=s[0],d=s[1],c=(0,r.useRef)(null);(0,r.useEffect)((function(){var e=c.current;e&&e.scrollHeight>e.clientHeight&&i(!0)}),[e.lines]);var u=function(){d(!a)},f=(e.type,e.text),m=void 0===f?"":f,v=e.readMoreText,x=void 0===v?"More":v,h=e.readLessText,p=void 0===h?"Less":h,j=e.onAction,g=void 0===j?u:j,Z=function(e){return e.replace(/(?:\r\n|\r|\n)/g,"<br />")}(m);return(0,re.jsxs)("span",{className:"rm-container",children:[(0,re.jsx)("span",{ref:c,className:"rm-text-wrapper",children:a?Z:Z.substring(0,Be.z.NBE_WORD_SHOW_MORE_LESS)}),Z.length>Be.z.NBE_WORD_SHOW_MORE_LESS?(0,re.jsx)("span",{className:"rm-action-button-container",children:a?(0,re.jsx)("span",{className:"rm-less-button",onClick:u,children:p}):(0,re.jsx)("span",{className:"rm-more-button",onClick:g,children:x})}):null]})},He=pe.Rj;function We(e){var n,t=e.offerEntity,i=e.listCommentsByOffer,l=e.account,s=e.isAuthenticated,a=e.loadingListComments,d=e.loadingUpdateEntity,c=e.loadingAddEntity,u=e.parentCallbackAddComment,f=e.parentCallbackDeleteComment,m=e.parentCallbackUpdateComment,p=e.parentCallbackReportComment,j=e.parentCallbackLoadMoreComments,g=e.totalItems,Z=r.useState(-1),b=(0,o.Z)(Z,2),y=b[0],C=b[1],P=r.useState(-1),N=(0,o.Z)(P,2),O=N[0],R=N[1],T=r.useState(!1),q=(0,o.Z)(T,2),M=q[0],U=q[1],z=r.useState(!1),F=(0,o.Z)(z,2),H=F[0],V=F[1],Y=r.useState(ze),G=(0,o.Z)(Y,2),J=G[0],Q=G[1],ie=(0,w.$)().t,le=function(e,n){m(e,n),R(-1)},se=r.useState(!1),ae=(0,o.Z)(se,2),de=ae[0],ce=ae[1],ue=function(){ce(!1)},fe=function(){ce(!1),f(y)},me=function(){R(-1)},ve=function(){V(!1)},xe=function(){V(!1),p(J)};return(0,re.jsxs)(h.Z,{children:[(0,re.jsxs)($.Z,{sx:{bgcolor:"background.paper",mt:2},children:[(0,re.jsxs)(h.Z,{children:[g>0?(0,re.jsx)(X.ZP,{alignItems:"flex-start",button:!0,onClick:function(){return U(!M)},children:(0,re.jsx)(te.Z,{children:(0,re.jsx)(v.Z,{variant:"subtitle1",component:"a",color:"text.secondary",sx:{mt:1},children:(0,re.jsxs)("u",{children:[ie(M?"comment_offer.hide_comment_details_offer":"comment_offer.show_comment_details_offer"),"(",g,")"]})})})}):null,M?(0,re.jsxs)(h.Z,{children:[i.map((function(e,n){var i,o,a,c,u,f,m,x;return(0,re.jsxs)("div",{children:[(0,re.jsxs)(X.ZP,{alignItems:"flex-start",secondaryAction:(0,re.jsxs)(h.Z,{children:[s&&(null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.id)===l.id?(0,re.jsx)(S.Z,{edge:"end","aria-label":"edit",color:"success",onClick:function(){return n=e.id||-1,void R(n);var n},sx:{mr:.5,display:"block"},children:(0,re.jsx)(Ue.Z,{})}):null,!s||(null===t||void 0===t||null===(o=t.user)||void 0===o?void 0:o.id)!==l.id&&(null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.id)!==l.id?null:(0,re.jsx)(S.Z,{edge:"end","aria-label":"delete",color:"error",onClick:function(){return n=e.id||-1,C(n),void ce(!0);var n},sx:{display:"block"},children:(0,re.jsx)(Me.Z,{})}),s&&(null===e||void 0===e||null===(c=e.user)||void 0===c?void 0:c.id)!==l.id?(0,re.jsx)(S.Z,{edge:"end","aria-label":"report",onClick:function(){return function(e){Q(e),V(!0)}(e)},sx:{mr:.5,display:"block"},children:(0,re.jsx)(k.Z,{})}):null]}),children:[(0,re.jsx)(ee.Z,{children:(0,re.jsx)(ne.Z,{alt:"Avatar",src:(0,oe.Dm)(null===(u=e.user)||void 0===u?void 0:u.id,null===(f=e.user)||void 0===f?void 0:f.imageUrl,null===(m=e.user)||void 0===m?void 0:m.sourceRegister),sx:{border:"1px solid #b9b9b9"},children:null===(x=(0,oe.QD)(null===e||void 0===e?void 0:e.user))||void 0===x?void 0:x.charAt(0)})}),(0,re.jsx)(te.Z,{primary:(0,oe.QD)(null===e||void 0===e?void 0:e.user),secondary:(0,re.jsxs)(r.Fragment,{children:[(0,re.jsx)(v.Z,{sx:{display:"block"},component:"span",variant:"body2",color:"text.primary",children:(0,re.jsx)(W.p,{convertDate:e.createdDate})}),O!==e.id?(0,re.jsx)(Fe,{lines:2,text:e.content||"",readMoreText:ie("details_offer.label_show_more"),readLessText:ie("details_offer.label_show_less")}):null]})})]}),O===e.id?(0,re.jsx)(h.Z,{sx:{mr:2,ml:9},children:(0,re.jsx)(Ye,{parentCallbackUpdateComment:function(n){return le(n,e.id||-1)},parentCallbackCancelUpdateComment:me,defaultValueUpdate:e.content,loadingUpdateEntity:d})}):null,(0,re.jsx)(K.Z,{variant:"inset",component:"li"})]},"comment-".concat(n))})),a?(0,re.jsx)(h.Z,{sx:{display:"flex",justifyContent:"center",m:2},children:(0,re.jsx)(x.Z,{color:"inherit"})}):null,g>i.length?(0,re.jsx)(X.ZP,{alignItems:"center",button:!0,onClick:function(){return j()},children:(0,re.jsx)(te.Z,{children:(0,re.jsx)(v.Z,{variant:"subtitle1",component:"h5",color:"text.secondary",sx:{mt:1,textAlign:"center"},children:(0,re.jsx)("u",{children:ie("comment_offer.show_more_comment")})})})}):null]}):null]}),(0,re.jsxs)(X.ZP,{alignItems:"flex-start",children:[(0,re.jsx)(ee.Z,{children:(0,re.jsx)(ne.Z,{alt:l.imageUrl,src:(0,oe.Dm)(l.id,l.imageUrl,null===l||void 0===l?void 0:l.sourceRegister),sx:{border:"1px solid #b9b9b9"},children:null===(n=(0,oe.QD)(l))||void 0===n?void 0:n.charAt(0)})}),(0,re.jsx)(te.Z,{children:(0,re.jsx)(Ve,{parentCallbackAddComment:function(e){u(e)},loadingAddEntity:c})})]})]}),(0,re.jsx)("div",{children:(0,re.jsxs)(I.Z,{open:de,TransitionComponent:B.P,keepMounted:!0,onClose:ue,"aria-describedby":"alert-dialog-slide-description",children:[(0,re.jsx)(E.Z,{children:ie("details_offer.title_dialog_delete_comment")}),(0,re.jsx)(A.Z,{children:(0,re.jsx)(D.Z,{id:"alert-dialog-slide-description",children:ie("details_offer.description_dialog_delete_comment")})}),(0,re.jsxs)(L.Z,{children:[(0,re.jsx)(_.Z,{onClick:ue,color:"neutral",children:ie("common.label_cancel")}),(0,re.jsx)(_.Z,{onClick:fe,color:"error",children:ie("common.label_delete")})]})]})}),(0,re.jsx)("div",{children:(0,re.jsxs)(I.Z,{open:H,TransitionComponent:B.P,keepMounted:!0,onClose:ve,"aria-describedby":"alert-dialog-slide-description",children:[(0,re.jsx)(E.Z,{children:ie("details_offer.title_dialog_report_comment")}),(0,re.jsx)(A.Z,{children:(0,re.jsx)(D.Z,{id:"alert-dialog-slide-description",children:ie("details_offer.description_dialog_report_comment")})}),(0,re.jsxs)(L.Z,{children:[(0,re.jsx)(_.Z,{onClick:ve,children:ie("common.label_cancel")}),(0,re.jsx)(_.Z,{color:"success",onClick:xe,children:ie("common.label_report")})]})]})})]})}function Ve(e){var n=e.parentCallbackAddComment,t=e.loadingAddEntity,i=(0,w.$)().t,l=(0,he.TA)({initialValues:He,validationSchema:pe.UH,onSubmit:function(e){n(e.content),l.setFieldValue("content","")}});return(0,re.jsxs)("form",{onSubmit:l.handleSubmit,children:[(0,re.jsx)(me.Z,{id:"content",name:"content",label:i("comment_offer.label_add_comment"),value:l.values.content,onChange:l.handleChange,multiline:!0,fullWidth:!0,maxRows:4}),(0,re.jsx)(ie.Z,{loading:t,variant:"outlined",size:"small",type:"submit",disabled:!l.values.content,sx:{my:1},color:"neutral",children:i("comment_offer.label_comment")})]})}function Ye(e){var n=e.parentCallbackUpdateComment,t=e.parentCallbackCancelUpdateComment,i=e.defaultValueUpdate,l=e.loadingUpdateEntity,s=r.useState(i),a=(0,o.Z)(s,1)[0],d=(0,w.$)().t,c=(0,he.TA)({initialValues:He,validationSchema:pe.UH,onSubmit:function(e){n(e.content)}});(0,r.useEffect)((function(){c.setFieldValue("content",i)}),[]);return(0,re.jsx)(r.Fragment,{children:(0,re.jsxs)("form",{onSubmit:c.handleSubmit,children:[(0,re.jsx)(me.Z,{id:"content",name:"content",label:"Add comment",value:c.values.content,onChange:c.handleChange,multiline:!0,fullWidth:!0,maxRows:4}),(0,re.jsxs)(h.Z,{sx:{my:1},children:[(0,re.jsx)(ie.Z,{loading:!1,variant:"outlined",size:"small",type:"button",sx:{mr:1},color:"neutral",onClick:function(){t(a)},children:d("common.label_cancel")}),(0,re.jsx)(ie.Z,{loading:l,variant:"outlined",size:"small",type:"submit",disabled:!c.values.content,color:"success",children:d("common.label_update")})]})]})})}var Ge=t(26484),Je=t(52815),Qe=t(51496),Ke=(t(4676),t(85965),t(84432),t(15880),t(46971)),$e=(t(53983),["//placekitten.com/1500/500","//placekitten.com/4000/3000","//placekitten.com/800/1200","//placekitten.com/1500/1500"]),Xe=function(e){(0,ke.Z)(t,e);var n=(0,Se.Z)(t);function t(e){var i;return(0,ye.Z)(this,t),(i=n.call(this,e)).state={index:0,isOpen:!1,listImagesLightBox:{images:i.props.listImages,thumbs:i.props.listImages,titles:i.props.listTitles,captions:[]}},i.openLightbox=i.openLightbox.bind((0,_e.Z)(i)),i.closeLightbox=i.closeLightbox.bind((0,_e.Z)(i)),i.moveNext=i.moveNext.bind((0,_e.Z)(i)),i.movePrev=i.movePrev.bind((0,_e.Z)(i)),i}return(0,Ce.Z)(t,[{key:"openLightbox",value:function(){this.setState({isOpen:!0})}},{key:"closeLightbox",value:function(){this.setState({isOpen:!1}),this.props.callbackClose()}},{key:"moveNext",value:function(){this.setState((function(e){return{index:(e.index+1)%$e.length}}))}},{key:"movePrev",value:function(){this.setState((function(e){return{index:(e.index+$e.length-1)%$e.length}}))}},{key:"render",value:function(){var e;return this.props.openLightBox&&(e=(0,re.jsx)(Ke.Z,{mainSrc:this.state.listImagesLightBox.images[this.state.index],nextSrc:this.state.listImagesLightBox.images[(this.state.index+1)%$e.length],prevSrc:this.state.listImagesLightBox.images[(this.state.index+$e.length-1)%$e.length],mainSrcThumbnail:this.state.listImagesLightBox.thumbs[this.state.index],nextSrcThumbnail:this.state.listImagesLightBox.thumbs[(this.state.index+1)%$e.length],prevSrcThumbnail:this.state.listImagesLightBox.thumbs[(this.state.index+$e.length-1)%$e.length],onCloseRequest:this.closeLightbox,onMovePrevRequest:this.movePrev,onMoveNextRequest:this.moveNext,onImageLoadError:t.onImageLoadError,imageTitle:this.state.listImagesLightBox.titles[this.state.index],imageCaption:this.state.listImagesLightBox.captions[this.state.index]})),(0,re.jsx)("div",{onContextMenu:function(e){return e.preventDefault()},children:e})}}],[{key:"onImageLoadError",value:function(){}}]),t}(r.Component),en=t(55358);function nn(e){var n=r.useState(null),t=(0,o.Z)(n,2),l=t[0],s=t[1],a=r.useState(!1),d=(0,o.Z)(a,2),c=d[0],u=d[1];return e&&e.offerImages&&e.offerImages.length>0?(0,re.jsxs)(h.Z,{children:[(0,re.jsx)(Xe,{openLightBox:c,callbackClose:function(){u(!1)},listImages:function(){var n;return null===e||void 0===e||null===(n=e.offerImages)||void 0===n?void 0:n.map((function(n){return(0,oe.Ce)(e.id,n.path)}))}(),listTitles:function(){var n;return null===e||void 0===e||null===(n=e.offerImages)||void 0===n?void 0:n.map((function(n){return((null===e||void 0===e?void 0:e.title)||"").toString()}))}(),listCaptions:function(){var n;return null===e||void 0===e||null===(n=e.offerImages)||void 0===n?void 0:n.map((function(n){return((null===e||void 0===e?void 0:e.description)||"").toString()}))}()}),(0,re.jsxs)(p.Z,{sx:{mb:2},children:[(0,re.jsx)(Je.tq,{spaceBetween:10,navigation:e.offerImages.length>1,pagination:{clickable:!0},thumbs:{swiper:l},zoom:!0,lazy:!0,effect:"fade",loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},className:"mySwiper2",children:e.offerImages.map((function(n,t){return(0,re.jsx)(Je.o5,{children:(0,re.jsx)("div",{className:"swiper-zoom-container",children:(0,re.jsx)(en.wY,{src:(0,oe.Ce)(e.id,n.path),alt:"Image swiper",actual:function(e){var n=e.imageProps;return(0,re.jsx)("img",(0,i.Z)((0,i.Z)({},n),{},{className:"full-img-responsive",onClick:function(){return u(!0)},onContextMenu:function(e){return e.preventDefault()}}))},placeholder:function(e){var n=e.ref;return(0,re.jsx)("div",{ref:n})},loading:function(){return(0,re.jsx)("div",{children:(0,re.jsx)("img",{src:(0,oe.K1)(Be.z.DEFAULT_LAZY_IMAGE_LOADING),className:"img-lazy-loading"})})},error:function(){return(0,re.jsx)("img",{src:(0,oe.K1)(Be.z.DEFAULT_LAZY_IMAGE),className:"img-lazy-loading",alt:"image not found"})}})})},n.id)}))}),(0,re.jsx)(Je.tq,{onSwiper:s,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,className:"mySwiper",children:e.offerImages.map((function(n,t){return(0,re.jsx)(Je.o5,{children:(0,re.jsx)(en.wY,{src:(0,oe.Ce)(e.id,n.path),alt:"Image swiper",actual:function(e){var n=e.imageProps;return(0,re.jsx)("img",(0,i.Z)((0,i.Z)({},n),{},{className:"full-img-responsive"}))},placeholder:function(e){var n=e.ref;return(0,re.jsx)("div",{ref:n})},loading:function(){return(0,re.jsx)("div",{children:(0,re.jsx)("img",{src:(0,oe.K1)(Be.z.DEFAULT_LAZY_IMAGE_LOADING),className:"img-lazy-loading"})})},error:function(){return(0,re.jsx)("img",{src:(0,oe.K1)(Be.z.DEFAULT_LAZY_IMAGE),className:"img-lazy-loading",alt:"image not found"})}})},n.id)}))})]})]}):null}Qe.ZP.use([Qe.pt,Qe.xW,Qe.oM,Qe.LG,Qe.W_,Qe.o3]);var tn=t(96963),ln=t(15458),on=t(50636);function rn(){var e,n,t,Y,G,J,Q,K,$,X,ee,ne,te,ie,le,ae,de,ce,ue,fe,me,ve,xe,he,pe,je,ge,Ze,be,ye,Ce,_e,ke,Se,Pe,Ie,Ee=r.useState(!1),De=(0,o.Z)(Ee,2),Le=De[0],we=De[1],Ne=r.useState(!1),Oe=(0,o.Z)(Ne,2),Re=Oe[0],Te=Oe[1],Me=r.useState(!1),Ue=(0,o.Z)(Me,2),ze=Ue[0],Fe=Ue[1],He=r.useState(-1),Ve=(0,o.Z)(He,2),Ye=Ve[0],Je=Ve[1],Qe=r.useState(!0),Ke=(0,o.Z)(Qe,2),$e=Ke[0],Xe=Ke[1],en=r.useState("fr"),rn=(0,o.Z)(en,2),sn=rn[0],an=(rn[1],r.useState([])),dn=(0,o.Z)(an,2),cn=dn[0],un=dn[1],fn=(0,a.UO)().id,mn=(0,a.s0)(),vn=(0,w.$)().t,xn=(0,s.I0)(),hn=(0,s.v9)(U.Cb),pn=hn.isAuthenticated,jn=hn.currentUser,gn=null!==(e=(0,s.v9)(z.sj))&&void 0!==e&&e,Zn=null!==(n=(0,s.v9)(z.cU))&&void 0!==n?n:{},bn=null!==(t=(0,s.v9)(z.l8))&&void 0!==t&&t,yn=(Y=(0,s.v9)(z.j8),null!==(G=(0,s.v9)(z.zL))&&void 0!==G?G:{}),Cn=null!==(J=(0,s.v9)(z.rv))&&void 0!==J?J:[],_n=null!==(Q=(0,s.v9)(z.R2))&&void 0!==Q?Q:[],kn=null!==(K=(0,s.v9)(z.HC))&&void 0!==K?K:[],Sn=null!==($=(0,s.v9)(z.s8))&&void 0!==$?$:[],Pn=null!==(X=(0,s.v9)(z.G4))&&void 0!==X?X:[],In=null!==(ee=(0,s.v9)(on.d0))&&void 0!==ee&&ee;r.useEffect((function(){Cn.length&&un([].concat((0,l.Z)(cn),(0,l.Z)(Cn)))}),[Cn]),r.useEffect((function(){fn&&(xn((0,z.hm)({id:fn})),Je(0))}),[]),r.useEffect((function(){Ye>=0&&pn&&xn((0,z.Qj)({offerId:Number(fn),page:Ye,size:Be.z.COMMENTS_PER_PAGE,queryParams:""}))}),[Ye]),r.useEffect((function(){Zn&&Zn.offer&&!gn&&(Te(Zn.myFavoriteUser||!1),setTimeout((function(){we(!0)}),300))}),[Zn]),r.useEffect((function(){(kn||Sn||Pn)&&(un([]),xn((0,z.kq)({})),xn((0,z.Qj)({offerId:Number(fn),page:0,size:Be.z.COMMENTS_PER_PAGE,queryParams:""})))}),[kn,Sn,Pn]);var En=function(){Fe(!1)},An=function(){Fe(!1);var e={offer:null===Zn||void 0===Zn?void 0:Zn.offer,user:{}};xn((0,z.ih)((0,i.Z)({},e)))};r.useEffect((function(){In&&Te(!0)}),[In]);return(0,re.jsxs)(h.Z,{children:[gn?(0,re.jsx)(h.Z,{sx:{paddingTop:10,textAlign:"center"},children:(0,re.jsx)(x.Z,{color:"inherit"})}):null,(0,re.jsxs)(c.Z,{maxWidth:"xl",className:"details-offer-client",children:[(0,re.jsx)(u.ZP,{container:!0,style:{paddingTop:10},children:(0,re.jsx)(u.ZP,{item:!0,xs:12,sm:6,children:(0,re.jsxs)(f.Z,{"aria-label":"breadcrumb",children:[(0,re.jsx)(m.rU,{color:"inherit",to:F.H.HOME,children:"SRF"}),(0,re.jsx)(m.rU,{color:"inherit",to:F.H.SEARCH,children:vn("common.label_search")}),(0,re.jsx)(v.Z,{color:"text.primary",children:null===Zn||void 0===Zn||null===(ne=Zn.offer)||void 0===ne?void 0:ne.title})]})})}),gn?null:(0,re.jsxs)(u.ZP,{container:!0,style:{paddingTop:50},children:[(0,re.jsxs)(u.ZP,{item:!0,xs:12,sm:6,children:[(0,re.jsx)(nn,(0,i.Z)({},null===Zn||void 0===Zn?void 0:Zn.offer)),(0,re.jsx)(d.Z,{in:Le,children:(0,re.jsxs)(p.Z,{sx:{mb:3},children:[(0,re.jsxs)(j.Z,{children:[null!==Zn&&void 0!==Zn&&null!==(te=Zn.offer)&&void 0!==te&&te.amount?(0,re.jsxs)(v.Z,{variant:"h4",sx:{textAlign:"center",fontWeight:600},className:"red-color",children:["$ ",null===Zn||void 0===Zn||null===(ie=Zn.offer)||void 0===ie?void 0:ie.amount," DT"]}):null,(0,re.jsxs)(v.Z,{variant:"subtitle2",color:"text.secondary",display:"flex",children:[(0,re.jsx)(g.Z,{fontSize:"small",sx:{mr:.9}}),(null===Zn||void 0===Zn||null===(le=Zn.offer)||void 0===le?void 0:le.typeOffer)===H.dJ.Sell?vn("common.for_sell"):(null===Zn||void 0===Zn||null===(ae=Zn.offer)||void 0===ae?void 0:ae.typeOffer)===H.dJ.Rent?vn("common.for_rent"):(null===Zn||void 0===Zn||null===(de=Zn.offer)||void 0===de?void 0:de.typeOffer)===H.dJ.Find?vn("common.for_find"):null]}),null!==Zn&&void 0!==Zn&&null!==(ce=Zn.offer)&&void 0!==ce&&ce.startDate&&null!==Zn&&void 0!==Zn&&null!==(ue=Zn.offer)&&void 0!==ue&&ue.endDate?(0,re.jsxs)(h.Z,{children:[(0,re.jsxs)(v.Z,{color:"text.secondary",gutterBottom:!0,children:[vn("common.label_start_date"),":\xa0",(0,re.jsx)("strong",{children:(0,re.jsx)(W.p,{convertDate:null===Zn||void 0===Zn||null===(fe=Zn.offer)||void 0===fe?void 0:fe.startDate})})]}),(0,re.jsxs)(v.Z,{color:"text.secondary",gutterBottom:!0,display:"flex",children:[vn("common.label_end_date"),":\xa0",(0,re.jsx)("strong",{children:(0,re.jsx)(W.p,{convertDate:null===Zn||void 0===Zn||null===(me=Zn.offer)||void 0===me?void 0:me.endDate})})]})]}):null,null!==Zn&&void 0!==Zn&&null!==(ve=Zn.offer)&&void 0!==ve&&ve.typePeriodRent?(0,re.jsxs)(v.Z,{color:"text.secondary",gutterBottom:!0,display:"flex",children:[vn("common.label_period"),":\xa0",(0,re.jsxs)("strong",{children:[vn("common.type_periode_rent_"+(null===Zn||void 0===Zn||null===(xe=Zn.offer)||void 0===xe?void 0:xe.typePeriodRent)),"\xa0"]})]}):null,(0,re.jsx)(v.Z,{variant:"h5",component:"div",sx:{mt:2},children:null===Zn||void 0===Zn||null===(he=Zn.offer)||void 0===he?void 0:he.title}),(0,re.jsxs)(v.Z,{sx:{fontSize:"0.8rem",mt:1},color:"text.secondary",display:"flex",children:[(0,re.jsx)(Z.Z,{fontSize:"small",sx:{mr:.9}})," ",(0,re.jsx)(W.p,{convertDate:null===Zn||void 0===Zn||null===(pe=Zn.offer)||void 0===pe?void 0:pe.dateCreated})]}),null!==Zn&&void 0!==Zn&&null!==(je=Zn.offer)&&void 0!==je&&je.address?(0,re.jsxs)(v.Z,{sx:{mb:1.8,fontSize:"0.8rem",mt:1},color:"text.secondary",display:"flex",children:[(0,re.jsx)(b.Z,{fontSize:"small",sx:{mr:.9}}),null===Zn||void 0===Zn||null===(ge=Zn.offer)||void 0===ge||null===(Ze=ge.address)||void 0===Ze?void 0:Ze.city,", ",null===Zn||void 0===Zn||null===(be=Zn.offer)||void 0===be||null===(ye=be.address)||void 0===ye?void 0:ye.country]}):null,null!==Zn&&void 0!==Zn&&null!==(Ce=Zn.offer)&&void 0!==Ce&&Ce.category?(0,re.jsxs)(v.Z,{sx:{mb:1.8,fontSize:"0.8rem",mt:1},color:"text.secondary",display:"flex",children:[(0,re.jsx)(y.Z,{fontSize:"small",sx:{mr:.9}}),vn("details_offer.label_category")," ",function(){var e,n,t,i,l,o;return"en"===sn?(null===Zn||void 0===Zn||null===(t=Zn.offer)||void 0===t||null===(i=t.category)||void 0===i?void 0:i.titleEn)||"":"fr"===sn?(null===Zn||void 0===Zn||null===(l=Zn.offer)||void 0===l||null===(o=l.category)||void 0===o?void 0:o.titleFr)||"":(null===Zn||void 0===Zn||null===(e=Zn.offer)||void 0===e||null===(n=e.category)||void 0===n?void 0:n.titleAr)||""}()]}):null,(0,re.jsxs)(R.Z,{sx:{mt:"40px !important"},elevation:0,expanded:$e,onChange:function(){Xe(!$e)},children:[(0,re.jsx)(O.Z,{expandIcon:(0,re.jsx)(T.Z,{sx:{backgroundColor:"yellow",borderRadius:"50%"}}),"aria-controls":"panel1a-content",id:"panel1a-header",className:"bg-brown",children:vn("details_offer.label_details_offer")}),(0,re.jsx)(N.Z,{children:(0,re.jsx)("div",{dangerouslySetInnerHTML:{__html:(null===Zn||void 0===Zn||null===(_e=Zn.offer)||void 0===_e?void 0:_e.description)||""}})})]})]}),(0,re.jsxs)(C.Z,{disableSpacing:!0,children:[(0,re.jsx)(Ae,{url:"https://github.com/nygardk/react-share/blob/master/demo/Demo.tsx",children:(0,re.jsx)(q.Z,{title:(0,re.jsx)(r.Fragment,{children:vn("common.label_share")}),children:(0,re.jsx)(P.Z,{})})}),(0,re.jsx)(S.Z,{sx:{marginLeft:"auto"},onClick:function(){Fe(!0)},children:(0,re.jsx)(q.Z,{title:(0,re.jsx)(r.Fragment,{children:vn("common.label_report")}),children:(0,re.jsx)(k.Z,{})})})]})]})}),pn?(0,re.jsx)(h.Z,{sx:{mb:3},children:(0,re.jsx)(We,{offerEntity:null===Zn||void 0===Zn?void 0:Zn.offer,listCommentsByOffer:cn,account:jn,isAuthenticated:pn,loadingListComments:yn,loadingUpdateEntity:bn,loadingAddEntity:bn,parentCallbackAddComment:function(e){if(e){var n,t,l,o,r,s={createdDate:(0,oe.uJ)(new Date),content:e,offer:{id:null===Zn||void 0===Zn||null===(n=Zn.offer)||void 0===n?void 0:n.id,user:{id:null===Zn||void 0===Zn||null===(t=Zn.offer)||void 0===t||null===(l=t.user)||void 0===l?void 0:l.id,email:null===Zn||void 0===Zn||null===(o=Zn.offer)||void 0===o||null===(r=o.user)||void 0===r?void 0:r.email}},user:{}};xn((0,z.Be)((0,i.Z)({},s))),(0,Ge.rJ)(Ge.Yt.EventOffer.AddCommentOffer.eventName,Ge.Yt.EventOffer.AddCommentOffer.eventCategory,Ge.Yt.EventOffer.AddCommentOffer.eventLabel)}},parentCallbackDeleteComment:function(e){console.log("commentId ",e),xn((0,z.AR)({id:e}))},parentCallbackUpdateComment:function(e,n){var t=Cn.find((function(e){return e.id===n}));t=(0,i.Z)((0,i.Z)({},t),{},{content:e}),xn((0,z.c2)((0,i.Z)({},t))),(0,Ge.rJ)(Ge.Yt.EventOffer.UpdateCommentOffer.eventName,Ge.Yt.EventOffer.UpdateCommentOffer.eventCategory,Ge.Yt.EventOffer.UpdateCommentOffer.eventLabel)},parentCallbackReportComment:function(e){var n={commentOffer:e,user:{}};xn((0,z.m4)((0,i.Z)({},n)))},parentCallbackLoadMoreComments:function(){Je(Ye+1)},totalItems:_n})}):null,(null===Zn||void 0===Zn||null===(ke=Zn.offer)||void 0===ke?void 0:ke.typeContactClient)!==V.t.direct&&(null===(Se=Zn.offer)||void 0===Se?void 0:Se.typeOffer)===H.dJ.Sell?(0,re.jsx)(se,{parentCallbackAddCart:function(e){if(pn){var n,t={quantity:e.quantity,sellOffer:{id:null===Zn||void 0===Zn||null===(n=Zn.offer)||void 0===n?void 0:n.id}};console.log("entity ",t),xn((0,ln.Z5)((0,i.Z)({},t)))}},loadingAddCart:!1}):null,(null===Zn||void 0===Zn||null===(Pe=Zn.offer)||void 0===Pe?void 0:Pe.typeContactClient)===V.t.direct&&(null===(Ie=Zn.offer)||void 0===Ie?void 0:Ie.typeOffer)===H.dJ.Sell?(0,re.jsx)(M.Z,{severity:"warning",children:vn("details_offer.offer_contact_direct")}):null]}),(0,re.jsx)(u.ZP,{container:!0,item:!0,xs:12,sm:6,sx:{pl:{xs:0,sm:4}},spacing:2,children:(0,re.jsx)(qe,{parentCallback:function(e){var n,t;if(pn){if((null===Zn||void 0===Zn||null===(n=Zn.offer)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.id)!==(null===jn||void 0===jn?void 0:jn.id)){var l,o,r,s,a={favoriteUser:{id:null===Zn||void 0===Zn||null===(l=Zn.offer)||void 0===l||null===(o=l.user)||void 0===o?void 0:o.id,username:null===Zn||void 0===Zn||null===(r=Zn.offer)||void 0===r||null===(s=r.user)||void 0===s?void 0:s.username},favoriteDate:(0,oe.uJ)(new Date)};xn((0,on.TD)((0,i.Z)({},a)))}}else mn(F.H.LOGIN)},offerEntity:null===Zn||void 0===Zn?void 0:Zn.offer,currentUser:jn,isAuthenticated:pn,myFavoriteUser:Re,createConversationCallback:function(e){xn((0,tn.V$)((0,i.Z)({},e)))},addSuccessConversation:!1,isOnLine:function(e){}})})]})]}),(0,re.jsxs)(I.Z,{open:ze,TransitionComponent:B.P,keepMounted:!0,onClose:En,"aria-describedby":"alert-dialog-slide-description",children:[(0,re.jsx)(E.Z,{children:vn("details_offer.title_dialog_report_offer")}),(0,re.jsx)(A.Z,{children:(0,re.jsx)(D.Z,{id:"alert-dialog-slide-description",children:vn("details_offer.description_dialog_report_offer")})}),(0,re.jsxs)(L.Z,{children:[(0,re.jsx)(_.Z,{onClick:En,color:"neutral",children:vn("common.label_cancel")}),(0,re.jsx)(_.Z,{color:"success",onClick:An,children:vn("common.label_report")})]})]})]})}},76713:function(e,n,t){t.d(n,{Rj:function(){return l},UH:function(){return o},M5:function(){return r},HC:function(){return s},uN:function(){return a},cS:function(){return d}});var i=t(62797),l={content:""},o=i.Ry({content:i.Z_().required("Type Offer is required")}),r={fullName:"",email:"",content:""},s=i.Ry({fullName:i.Z_().required("Message is required"),email:i.Z_().email().required("email_is_required"),content:i.Z_().required("Message is required")}),a={quantity:1},d=i.Ry({quantity:i.Rx().required("Quantity is required")})},66810:function(e,n,t){t.d(n,{_:function(){return h}});var i=t(20890),l=t(12052),o=t(10703),r=t(13400),s=t(35585),a=t(4834),d=t(42419),c=t(64554),u=t(72791),f=t(92506),m=t(76713),v=t(80184),x=m.uN;function h(e){var n=e.parentCallChangeQuantity,t=e.defaultValue,h=(0,f.TA)({initialValues:x,validationSchema:m.cS,onSubmit:function(e){}});u.useEffect((function(){t&&h.setFieldValue("quantity",t)}),[t]);var p=function(e,t){e.stopPropagation(),"+"===t&&h.values.quantity<100?(h.setFieldValue("quantity",h.values.quantity+1),n(h.values.quantity+1)):h.values.quantity>1&&(h.setFieldValue("quantity",h.values.quantity-1),n(h.values.quantity-1))};return(0,v.jsxs)(c.Z,{children:[(0,v.jsxs)(i.Z,{variant:"subtitle2",color:"text.secondary",display:"flex",children:[(0,v.jsx)(l.Z,{fontSize:"small",sx:{mr:.9}}),"Quantit\xe9"]}),(0,v.jsxs)(o.Z,{sx:{p:"2px 4px",display:"flex",alignItems:"center",width:150},children:[(0,v.jsx)(r.Z,{sx:{p:"10px"},"aria-label":"menu",onClick:function(e){return p(e,"-")},children:(0,v.jsx)(s.Z,{})}),(0,v.jsx)(a.ZP,{sx:{ml:1,flex:1},placeholder:"1",inputProps:{"aria-label":"1"},type:"number",value:h.values.quantity,onChange:h.handleChange}),(0,v.jsx)(r.Z,{sx:{p:"10px"},"aria-label":"directions",onClick:function(e){return p(e,"+")},children:(0,v.jsx)(d.Z,{})})]})]})}},95218:function(e,n,t){var i;t.d(n,{t:function(){return i}}),function(e){e.direct="ContactDirect",e.perCommmande="PerCommande"}(i||(i={}))},25467:function(e,n,t){var i,l,o,r;t.d(n,{dJ:function(){return i},b1:function(){return l},DO:function(){return o},iU:function(){return r}}),function(e){e.Sell="SellOffer",e.Rent="RentOffer",e.Find="FindOffer"}(i||(i={})),function(e){e.PerYear="PerYear",e.PerMonth="PerMonth",e.PerDay="PerDay"}(l||(l={})),function(e){e.Carpooling="Carpooling",e.Travels="Travels",e.Transporter="Transporter",e.Job="Job"}(o||(o={})),function(e){e.List="LIST",e.Grid="GRID"}(r||(r={}))},52028:function(e,n,t){t.d(n,{p:function(){return o}});t(72791);var i=t(73817),l=t(80184),o=function(e,n){return e&&e.convertDate?(0,l.jsx)(i.Z,{date:new Date(e.convertDate),locale:"fr-FR"}):(0,l.jsx)(l.Fragment,{})}},4103:function(e,n,t){t.d(n,{j:function(){return o}});var i=t(66934),l=t(96874),o=(0,i.ZP)(l.Z)((function(e){var n=e.theme;return{"& .MuiBadge-badge":{backgroundColor:n.palette.success,color:n.palette.success,boxShadow:"0 0 0 2px ".concat(n.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))},42192:function(e,n,t){t.d(n,{P:function(){return s}});var i=t(1413),l=t(72791),o=t(55931),r=t(80184),s=l.forwardRef((function(e,n){return(0,r.jsx)(o.Z,(0,i.Z)({direction:"up",ref:n},e))}))}}]);
//# sourceMappingURL=846.94b3a677.chunk.js.map